<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Cyä¸ªäººåšå®¢</title>
  
  <subtitle>I am Yang , and I am young !</subtitle>
  <link href="https://www.cyixlq.top/atom.xml" rel="self"/>
  
  <link href="https://www.cyixlq.top/"/>
  <updated>2021-04-12T08:13:12.474Z</updated>
  <id>https://www.cyixlq.top/</id>
  
  <author>
    <name>Cy</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>livedata-bus</title>
    <link href="https://www.cyixlq.top/2021/04/13/livedata-bus/"/>
    <id>https://www.cyixlq.top/2021/04/13/livedata-bus/</id>
    <published>2021-04-12T16:05:56.000Z</published>
    <updated>2021-04-12T08:13:12.474Z</updated>
    
    <content type="html"><![CDATA[<p>LiveDataBuså·²ç»æ˜¯ä¸€ä¸ªè€ç”Ÿå¸¸è°ˆçš„è¯é¢˜äº†ï¼Œä½†æ˜¯æˆ‘ä»¬ä»Šå¤©æç‚¹ä¸ä¸€æ ·(å™±)çš„(å¤´)ã€‚åºŸè¯ä¸å¤šè¯´ï¼Œå…ˆä¸Šåœ°å€ï¼š<a href="https://github.com/cyixlq/LiveEventBus">https://github.com/cyixlq/LiveEventBus</a></p><p>å…ˆæ¥è¯´ä¸€è¯´LiveDataBusçš„ä¸€äº›è€ç”Ÿå¸¸è°ˆçš„ä¼˜åŠ¿ï¼š</p><ul><li>ä¸éœ€è¦åƒEventBusé‚£æ ·æ³¨å†Œåæ³¨å†Œï¼Œå¯ä»¥è‡ªåŠ¨æ³¨å†Œè§£æ³¨å†Œï¼Œé¿å…äº†å¿˜è®°åæ³¨å†Œå¯¼è‡´å†…å­˜æ³„æ¼</li><li>äº‹ä»¶å‘é€ä¸æ˜¯é€šè¿‡åå°„æ‰§è¡Œï¼Œä½†ç°åœ¨EventBusé€šè¿‡APTä¹Ÿå¯ä»¥å®ç°</li><li>å…¶å®ƒï¼Œè¿˜æœ‰å—ï¼Ÿæˆ‘æš‚æ—¶æ²¡æƒ³åˆ°</li></ul><span id="more"></span><p>æ¥ç€ï¼Œæˆ‘ä»¬çœ‹ä¸€çœ‹å°†LiveDataæ‰“é€ æˆä¸€æ¬¾äº‹ä»¶æ€»çº¿ç±»å‹çš„æ¡†æ¶é¦–å…ˆè¦å…‹æœçš„ä¸€äº›é—®é¢˜ï¼š</p><ul><li>åœ¨ç»„ä»¶ä»éæ´»è·ƒçŠ¶æ€å˜æˆæ´»è·ƒçŠ¶æ€æ—¶ï¼Œä¼šå°†observeä¹‹å‰çš„valueå‘é€è¿‡æ¥ã€‚ï¼ˆè¿™ä¸ªé—®é¢˜æ€ä¹ˆè¯´å‘¢ï¼Œä½ è¯´å®ƒæ˜¯é—®é¢˜ï¼Œä½†æ˜¯æœ‰çš„ä¸šåŠ¡åœºæ™¯ç¡®å®éœ€è¦(stickyæ¨¡å¼ï¼Œä½†æ˜¯å¹¶ä¸éœ€è¦æ¯æ¬¡ä»onStopä¹‹åæ¢å¤è¿‡æ¥éƒ½å‘é€ä¸€æ¬¡)ï¼Œä½ è¯´ä»–ä¸æ˜¯é—®é¢˜ï¼Œä½†æ˜¯å¤§éƒ¨åˆ†åœºæ™¯æˆ‘ä»¬ç¡®å®åªéœ€è¦åœ¨è®¢é˜…äº‹ä»¶ä¹‹åçš„æ•°æ®ã€‚</li><li>LiveDataæ•°æ®ä¸¢å¤±çš„é—®é¢˜ã€‚LiveDataæ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªç»„ä»¶æ˜¯å¦åœ¨æ´»è·ƒçŠ¶æ€ï¼Ÿå¯ä»¥é€šè¿‡ä»£ç <code>mOwner.getLifecycle().getCurrentState().isAtLeast(STARTED)</code>çŸ¥é“ï¼Œè‡³å°‘æ˜¯STARTEDçŠ¶æ€çš„æ‰æ˜¯æ´»è·ƒçŠ¶æ€ã€‚é‚£ä¹ˆæ‰§è¡Œè¿‡å“ªäº›ç”Ÿå‘½å‘¨æœŸå›è°ƒæ‰ç®—æ˜¯STARTEDçŠ¶æ€å‘¢ï¼Ÿæˆ‘ä»¬é€šè¿‡æŸ¥çœ‹LifecycleRegistryç±»çš„getStateAfteræ–¹æ³•å¯ä»¥çŸ¥é“ï¼Œåœ¨onStartå’ŒonPauseä¹‹é—´å‡æ˜¯STARTEDçŠ¶æ€ï¼ˆè¿™é‡Œä¸ºäº†æˆ‘çš„æ’ç‰ˆæˆ‘å°±ä¸è´´ä»£ç äº†ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥å»è‡ªè¡ŒæŸ¥çœ‹ï¼‰ã€‚å› æ­¤ï¼Œç»„ä»¶åœ¨onCreate/onStopçš„æ—¶å€™æ˜¯æ”¶ä¸åˆ°æ•°æ®çš„ï¼Œæ›´ä¸ç”¨è¯´onDestroyã€‚ğŸ˜ä½†æ˜¯å…¶å®è¿™ä¹Ÿä¸ç®—é—®é¢˜ï¼Œå› ä¸ºLiveDataè®¤ä¸ºçœ‹ä¸åˆ°ç•Œé¢çš„æ—¶å€™æ›´æ–°ç•Œé¢æ˜¯æ¯«æ— æ„ä¹‰çš„ï¼Œå¹¶ä¸”LiveDataæœ¬èº«å°±ä¸æ˜¯è®¾è®¡ç”¨æ¥ä¼ é€äº‹ä»¶çš„ï¼Œè€Œæ˜¯ç”¨æ¥æ›´æ–°UIçš„ï¼Œä½ è¦å¼ºè¡ŒæŠŠå®ƒæ‰“é€ æˆäº‹ä»¶æ€»çº¿æ¡†æ¶é‚£<code>è°·æ­Œ</code>èƒ½æœ‰ä»€ä¹ˆåŠæ³•ã€‚<code>è°·æ­Œå†…å¿ƒOSï¼šä½ ä»¬è¿™ä¸æ˜¯å¼ºäººé”ç”·å—ï¼Ÿ</code>ã€‚å¦å¤–postValueçš„æ—¶å€™é€šè¿‡é˜…è¯»ä»£ç é€»è¾‘å¯ä»¥å‘ç°(å¦‚æœä½ ä¸æƒ³è¯»ï¼Œé‚£ä¹ˆä½ å¯ä»¥ç›´æ¥çœ‹postValueçš„æ³¨é‡Šæ–‡æ¡£)ï¼Œå¦‚æœä½ åœ¨çŸ­æ—¶é—´å†…å¤šæ¬¡postValueï¼Œé‚£ä¹ˆæœ€ç»ˆåªæœ‰æœ€æ–°çš„valueæ‰èƒ½å‘é€å‡ºå»ã€‚</li><li>LiveDataçš„ç²˜æ€§äº‹ä»¶æœ‰ç‚¹ä¸åˆé€»è¾‘ã€‚å…¶å®è¿™ä¹Ÿä¸ç®—â€¦ï¼ˆæ‰“ä½ï¼Œåˆ«è¯´äº†ï¼Œæˆ‘çŸ¥é“äº†ï¼Œè¿™ä¹Ÿä¸ç®—é—®é¢˜ï¼‰</li></ul><p>æ¥ç€æˆ‘ä»¬æ¥çœ‹ä¸€çœ‹ä»¥å¾€æˆ‘ä»¬ä¸ºäº†å°†LiveDataæ‰“é€ æˆä¸€æ¬¾ç®€æ˜“LiveDataBusæ˜¯æ€ä¹ˆå°†è¿™äº›é—®é¢˜å…‹æœçš„ï¼Œä¸Šä¸ªé“¾æ¥ï¼Œå…ˆçœ‹çœ‹ç®€æ˜“ç‰ˆLiveDataBus<a href="https://tech.meituan.com/2018/07/26/android-livedatabus.html">ç‚¹æˆ‘å‰å¾€</a>ï¼š</p><ul><li>åœ¨observe LiveDataçš„æ—¶å€™åå°„ä¿®æ”¹å¯¹åº”ObserverWrapperä¸­mLastVersionçš„å€¼ï¼Œè®©å®ƒå’ŒLiveDataä¸­çš„mVersionä¿æŒä¸€è‡´ï¼Œè¿™æ ·åœ¨ç”Ÿå‘½å‘¨æœŸçŠ¶æ€å‘ç”Ÿæ”¹å˜åˆ†å‘valueçš„æ—¶å€™ï¼Œä¸ä¼šå› ä¸ºè®¢é˜…æ—¶çš„ç‰ˆæœ¬å°äºLiveDataä¸­çš„ç‰ˆæœ¬è€Œè¢«è®¤ä¸ºå…¶æ•°æ®éœ€è¦æ›´æ–°ã€‚ï¼ˆé‚£æœ‰çš„åŒå­¦å°±ä¼šè¯´äº†ï¼šå•Šå•Šå•Š~ï¼Œé‚£ä½ ç”¨äº†åå°„ä¼šä¸ä¼šå½±å“æˆ‘åšçš„å“åº”æ—¶é—´è¦6ï¼Œ7sçš„APPçš„è¿è¡Œé€Ÿåº¦å•Šï¼Œæ¯•ç«Ÿå¤§å®¶éƒ½è¯´åå°„æ€§èƒ½éƒ½å¾ˆä½çš„ï¼| åˆ«æ€¥ï¼Œæˆ‘ä»¬æ¥ç€å¾€ä¸‹çœ‹ï¼‰</li><li>å…¶å®ƒé—®é¢˜çš„è§£å†³ä¸æ‹“å±•ç›¸åº”å®ç°èµ·æ¥å°±æœ‰ç‚¹æ£˜æ‰‹ï¼Œå› ä¸ºæˆ‘ä»¬æ— æ³•ä¿®æ”¹LiveDataçš„æºç ï¼Œæ‰€ä»¥æ‰æœ‰äº†æˆ‘ä»¬ä»Šå¤©çš„æ–‡ç« ã€‚æˆ‘åæ‰‹å°±æ˜¯æŠ„ä»£ç ï¼Œä¸€ä¸ªCtrl + cå’Œä¸€ä¸ªCtrl + vã€‚è°·æ­Œï¼Œä½ çš„ä»£ç å°±æ˜¯æˆ‘çš„äº†ï¼å˜¿å˜¿ï¼Œæƒ³ä¸åˆ°å§ï¼</li></ul><p>å¥½äº†ï¼Œç°åœ¨æ˜¯å¼€å§‹æˆ‘ä»¬å¤§å±•(æŠ„)èº«(ä»£)æ‰‹(ç )çš„æ—¶å€™äº†ã€‚LiveDataå…¶å®æœ€å…³é”®çš„å°±ä¸¤ä¸ªç±»ï¼Œè¿™æ›´ç»™äº†æˆ‘ä»¬å¤§å±•(æŠ„)èº«(ä»£)æ‰‹(ç )ä¸€ä¸ªå¥½æœºä¼šã€‚è¿™ä¸¤ä¸ªç±»åˆ†åˆ«æ˜¯ï¼šLiveDataå’ŒSafeIterableMapã€‚</p><p>æŠ„LiveDataæ— å¯åšéï¼Œå¯æ˜¯è¿™ä¸ªSafeIterableMapæ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Ÿè¿™ä¸ªæ˜¯è°·æ­Œå›¢é˜Ÿä½¿ç”¨é“¾è¡¨çš„æ•°æ®ç»“æ„ä»¿çš„ä¸€ä¸ªMapï¼Œå¯ä»¥åœ¨éå†çš„æ—¶å€™å®‰å…¨åœ°ç§»é™¤åˆ é™¤å…ƒç´ ï¼Œè¿™ä¸ªLiveDataæ‰€æœ‰çš„è®¢é˜…è€…éƒ½æ˜¯å­˜åœ¨è¿™ä¸ªé‡Œé¢ã€‚æœ‰æ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥<a href="https://blog.csdn.net/c6E5UlI1N/article/details/79608996">ç‚¹æˆ‘</a>å‰å¾€æŸ¥çœ‹å®ƒçš„ä¸€ä¸ªåŸç†å®ç°è§£æã€‚</p><p>é‚£åˆæœ‰åŒå­¦è¦é—®äº†ï¼Œä¸ºå•¥è¿™ä¸ªæˆ‘è¿˜è¦æŠ„å‘¢ï¼Ÿæˆ‘ä¸€ä¸ªimportä¸è¡Œå—ï¼Ÿä¹Ÿä¸æ˜¯ä¸è¡Œï¼Œä½†æ˜¯è¿™ä¸ªç±»æ·»åŠ äº†ä¸€ä¸ª<code>@RestrictTo(RestrictTo.Scope.LIBRARY_GROUP_PREFIX)</code>çš„æ³¨è§£ï¼Œè¿™ä¸ªæ³¨è§£å•¥æ„æ€<a href="https://developer.android.google.cn/reference/androidx/annotation/RestrictTo.Scope?hl=en">ç‚¹æˆ‘å‰å¾€æŸ¥çœ‹</a>ã€‚å¤§æ„å°±æ˜¯é™åˆ¶è¿™ä¸ªç±»åªèƒ½åœ¨åŒ…åå‰ç¼€ç›¸åŒçš„ç±»ä¸­ä½¿ç”¨ã€‚å¦‚æœä½ æƒ³å¼ºåˆ¶ä½¿ç”¨ä¹Ÿå¯ä»¥ï¼Œç›´æ¥importä½¿ç”¨è™½ç„¶ä¼šä»£ç é£˜çº¢ï¼Œä½†æ˜¯èƒ½ç¼–è¯‘é€šè¿‡ï¼Œå¼ºè¿«ç—‡å—ä¸äº†è¿˜å¯ä»¥åœ¨å¯¹åº”çš„æˆå‘˜å˜é‡ä¸Šæˆ–è€…æ–¹æ³•ä¸ŠåŠ ä¸Šè¿™ä¸ªæ³¨è§£<code>@SuppressLint(&quot;RestrictedApi&quot;)</code>ã€‚ä½†æ˜¯è¿™æ ·åšä¸ç´¯å—ï¼Ÿæˆ‘ä¸€ä¸ªCtrl+cå’Œä¸€ä¸ªCtrl+vç„¶åä¿®æ”¹ä¸€ä¸‹æŠŠè¿™ä¸ªé™åˆ¶è§£é™¤ä¸é¦™å—ï¼Ÿå¦å¤–æŒ‡ä¸å®šè°·æ­Œæ—¥åä¼šå¯¹è¿™ä¸ªæ³¨è§£è¿›è¡Œä¸€äº›å…¶ä»–é™åˆ¶ï¼Œæ¯”å¦‚ç›´æ¥å´©æºƒæ¥é™åˆ¶è°ƒç”¨ï¼Œåˆæ¯”å¦‚æ— æ³•é€šè¿‡ç¼–è¯‘ã€‚</p><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹å®šåˆ¶æˆ‘ä»¬çš„LiveDataBusï¼Œä½†æ˜¯ä¸ºäº†æŠŠè°·æ­Œçš„è¿™ä¸ªä¸œè¥¿å½»åº•å˜æˆæˆ‘ä»¬çš„ï¼Œç´¢æ€§æˆ‘ä»¬åå­—ä¹Ÿæ”¹ä¸€ä¸ªï¼ŒLiveDataæ”¹æˆLiveEventï¼Œæ‰“é€ çš„äº‹ä»¶Busæˆ‘ä»¬å°±å«LiveEventBusã€‚<code>ps:ç¡®å®ä¹Ÿä¸è¯¥å«LiveDataäº†ï¼Œå› ä¸ºæˆ‘ä»¬å®šåˆ¶åŒ–ä¸å°‘äº†</code></p><ol><li>é¦–å…ˆå°†SafeIterableMapçš„æºç æ‹·è´åˆ°é¡¹ç›®ä¸­ï¼Œå»é™¤<code>@RestrictTo(RestrictTo.Scope.LIBRARY_GROUP_PREFIX)</code>ï¼Œä¸å»ä¹Ÿå¯ä»¥ï¼Œå› ä¸ºLiveEventç±»åˆ°æ—¶å€™å’Œè¿™ä¸ªç±»åŒ…åå‰ç¼€è‚¯å®šæ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯ä¸ºäº†æ–¹ä¾¿å¯¹å¤–ä½¿ç”¨ï¼Œå»æ‰ä¸é¦™å—ï¼Ÿ</li><li>å°†LiveDataæºç æ‹·è´åˆ°é¡¹ç›®ä¸­ï¼Œå¹¶ä¸”æ›´åä¸ºLiveEventï¼Œä¿®æ”¹æ„é€ æ–¹æ³•åã€‚å‘ç°è¿˜æœ‰ArchTaskExecutorå’ŒGenericLifecycleObserverä¸¤ä¸ªç±»åŒæ ·åŠ äº†é™åˆ¶æ³¨è§£ï¼Œæ²¡å…³ç³»ï¼Œå°†ç›¸åº”ä»£ç ç›´æ¥æ”¹æˆè¿™ä¸ªç±»ä¸­å¯¹åº”çš„ä»£ç ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 1.æºä»£ç </span><br><span class="line">   class LifecycleBoundObserver extends ObserverWrapper implements GenericLifecycleObserver</span><br><span class="line">   &#x2F;&#x2F; 1.å‘ç°GenericLifecycleObserverä¸­å•¥ä¹Ÿæ²¡æœ‰ï¼Œç›´æ¥ç»§æ‰¿çš„LifecycleEventObserverï¼Œé‚£æˆ‘ä»¬ç›´æ¥æ”¹å°±å¥½äº†</span><br><span class="line">   class LifecycleBoundObserver extends ObserverWrapper implements LifecycleEventObserver</span><br><span class="line">   </span><br><span class="line">   &#x2F;&#x2F; 2.æºä»£ç </span><br><span class="line">   if (!ArchTaskExecutor.getInstance().isMainThread()) </span><br><span class="line">   &#x2F;&#x2F; 2.ç›´æ¥çœ‹å¯¹åº”æ–¹æ³•æºç ï¼Œå‘ç°ç”±DefaultTaskExecutorç±»å®ç°ï¼Œç›´æ¥ç”¨å…¶å®ç°è¿›è¡Œæ›¿æ¢</span><br><span class="line">   if (Looper.getMainLooper().getThread() !&#x3D; Thread.currentThread())</span><br></pre></td></tr></table></figure></li><li>æ”¹é€ postValueæ–¹æ³•ï¼Œè§£å†³åŒä¸€æ—¶é—´å¤šæ¬¡postValueåªä¼šå‘é€æœ€æ–°çš„å€¼ï¼ŒåŒæ—¶å°†ä¿®é¥°æ”¹æˆpublicã€‚é€šè¿‡æºç å‘ç°postValueé€šè¿‡Handlerå°†ä»»åŠ¡poståˆ°ä¸»çº¿ç¨‹æœ€ç»ˆè°ƒç”¨setValueï¼Œæˆ‘ä»¬æ”¹é€ å°±æ˜¯æ¯ä¸€æ¬¡æ‰§è¡ŒpostValueå°±åˆ¤æ–­å½“å‰è°ƒç”¨çº¿ç¨‹æ˜¯ä¸æ˜¯ä¸»çº¿ç¨‹ï¼Œæ˜¯ä¸»çº¿ç¨‹å°±å¯ä»¥ç›´æ¥è°ƒç”¨setValueï¼Œå¦åˆ™ä½¿ç”¨Handler poståˆ°ä¸»çº¿ç¨‹æ‰§è¡ŒsetValueã€‚åŒæ—¶å»é™¤æ²¡ç”¨çš„å˜é‡ï¼š<code>mDataLock</code>ï¼Œ<code>mPendingData</code>ï¼Œ<code>mPostValueRunnable</code>ã€‚å†æ·»åŠ ä¸€ä¸ªæˆå‘˜å˜é‡Handlerï¼Œç”¨äºåˆ‡æ¢åˆ°ä¸»çº¿ç¨‹ã€‚ä¸ºäº†å°†æ”¹(ç›—)é€ (ç‰ˆ)è¿›è¡Œåˆ°åº•ï¼ŒåŒæ—¶ä¸ºäº†æ›´ç¬¦åˆè¯­ä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥å°†postValueæ–¹æ³•æ”¹åä¸ºpostEventï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; ç”¨äºåˆ‡æ¢åˆ°ä¸»çº¿ç¨‹çš„Handler</span><br><span class="line">private final Handler mHandler &#x3D; new Handler(Looper.getMainLooper());</span><br><span class="line"></span><br><span class="line">public void postEvent(T value) &#123;</span><br><span class="line">    &#x2F;&#x2F; å¦‚æœåœ¨ä¸»çº¿ç¨‹</span><br><span class="line">    if (Looper.getMainLooper().getThread() &#x3D;&#x3D; Thread.currentThread())</span><br><span class="line">        setValue(value);</span><br><span class="line">    else</span><br><span class="line">        mHandler.post(() -&gt; setValue(value));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>æ”¹é€ setValueæ–¹æ³•ï¼Œè§£å†³setValueåªåœ¨onStartå’ŒonPauseç”Ÿå‘½å‘¨æœŸä¹‹é—´æ‰èƒ½æ¥æ”¶åˆ°valueçš„é—®é¢˜ã€‚åªéœ€å°†ä¸Šæ–‡æåˆ°çš„çº¦æŸæ‰©å¤§åˆ°CREATEDèŒƒå›´å°±è¡Œï¼ˆonCreateå’ŒonStopä¹‹é—´ï¼‰ï¼Œæ”¹æˆè¿™ä¸ªèŒƒå›´ä¹‹åä¹Ÿèƒ½é¡ºå¸¦è§£å†³Activityåœ¨onStopä¹‹åæ¢å¤åˆä¼šé‡æ–°å‘é€ä¸€æ¬¡äº‹ä»¶çš„é—®é¢˜ã€‚ä¿®æ”¹LifecycleBoundObserverç±»ä¸­shouldBeActiveæ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ã€‚åŒæ—¶å¤–éƒ¨å…¶å®ç”¨ä¸åˆ°setValueæ–¹æ³•ï¼Œéƒ½å¯ä»¥ç›´æ¥é€šè¿‡postEventæ¥é—´æ¥è°ƒç”¨ï¼Œæ‰€ä»¥å¯ä»¥ä¿®é¥°æˆprivateã€‚ <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@Override</span><br><span class="line">boolean shouldBeActive() &#123;</span><br><span class="line">    return mOwner.getLifecycle().getCurrentState().isAtLeast(CREATED);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>ä¸ºäº†è§£å†³ç»„ä»¶ä»éæ´»è·ƒçŠ¶æ€åˆ‡æ¢åˆ°æ´»è·ƒçŠ¶æ€ä¼šå°†observeä¹‹å‰çš„valueå‘é€è¿‡æ¥ï¼ŒåŒæ—¶åˆä¸ºäº†æ‹“å±•éœ€è¦è¿™ç§éœ€æ±‚çš„æƒ…å†µï¼Œé‚£æˆ‘ä»¬ç›´æ¥æ‰“é€ ä¸€ä¸ªå¯ä»¥æ§åˆ¶æ˜¯å¦éœ€è¦stickyçš„æ¨¡å¼å§ã€‚æˆ‘ä»¬åœ¨ObserverWrapperä¸­æ·»åŠ isStickyModeæˆå‘˜å˜é‡ï¼ŒåŒæ—¶ä¸ºå…¶æ·»åŠ æ„é€ æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">final boolean isStickyMode;</span><br><span class="line"></span><br><span class="line">ObserverWrapper(Observer&lt;? super T&gt; observer, final boolean isStickyMode) &#123;</span><br><span class="line">    mObserver &#x3D; observer;</span><br><span class="line">    this.isStickyMode &#x3D; isStickyMode;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å…¶å®ƒè°ƒç”¨äº†ObserverWrapperæ„é€ æ–¹æ³•çš„åœ°æ–¹è¿›è¡ŒåŒç†æ”¹é€ </span><br><span class="line">AlwaysActiveObserver(Observer&lt;? super T&gt; observer, boolean isStickyMode) &#123;</span><br><span class="line">    super(observer, isStickyMode);</span><br><span class="line">&#125;</span><br><span class="line">LifecycleBoundObserver(@NonNull LifecycleOwner owner, Observer&lt;? super T&gt; observer, boolean isStickyMode) &#123;</span><br><span class="line">    super(observer, isStickyMode);</span><br><span class="line">    mOwner &#x3D; owner;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> å¦å¤–è¿˜éœ€è¦æ·»åŠ ä¸€ä¸ªobserveStickyæ–¹æ³•ä»£è¡¨åœ¨ä»¥stickyæ¨¡å¼è§‚å¯Ÿï¼Œobserveæ–¹æ³•ä¹Ÿéœ€è¦æ”¹é€ ï¼Œä»£è¡¨ä¸ä»¥stickyæ¨¡å¼è§‚å¯Ÿã€‚observeForeveråŒç†ä¹Ÿè¿›è¡Œæ”¹é€ ã€‚ä»£ç å¦‚ä¸‹ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">@MainThread</span><br><span class="line">public void observe(@NonNull LifecycleOwner owner, @NonNull Observer&lt;? super T&gt; observer) &#123;</span><br><span class="line">    assertMainThread(&quot;observe&quot;);</span><br><span class="line">    realObserve(owner, observer, false);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@MainThread</span><br><span class="line">public void observeSticky(@NonNull LifecycleOwner owner, @NonNull Observer&lt;? super T&gt; observer) &#123;</span><br><span class="line">    assertMainThread(&quot;observeSticky&quot;);</span><br><span class="line">    realObserve(owner, observer, true);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@MainThread</span><br><span class="line">private void realObserve(@NonNull LifecycleOwner owner, @NonNull Observer&lt;? super T&gt; observer, boolean isStickyMode) &#123;</span><br><span class="line">    if (owner.getLifecycle().getCurrentState() &#x3D;&#x3D; DESTROYED) &#123;</span><br><span class="line">        &#x2F;&#x2F; ignore</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    LifecycleBoundObserver wrapper &#x3D; new LifecycleBoundObserver(owner, observer, isStickyMode);</span><br><span class="line">    ObserverWrapper existing &#x3D; mObservers.putIfAbsent(observer, wrapper);</span><br><span class="line">    if (existing !&#x3D; null &amp;&amp; !existing.isAttachedTo(owner)) &#123;</span><br><span class="line">        throw new IllegalArgumentException(&quot;Cannot add the same observer&quot;</span><br><span class="line">                + &quot; with different lifecycles&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    if (existing !&#x3D; null) &#123;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    owner.getLifecycle().addObserver(wrapper);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> @MainThread</span><br><span class="line">public void observeForever(@NonNull Observer&lt;? super T&gt; observer) &#123;</span><br><span class="line">    assertMainThread(&quot;observeForever&quot;);</span><br><span class="line">    realObserveForever(observer, false);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@MainThread</span><br><span class="line">public void observeForeverSticky(@NonNull Observer&lt;? super T&gt; observer) &#123;</span><br><span class="line">    assertMainThread(&quot;observeForeverSticky&quot;);</span><br><span class="line">    realObserveForever(observer, true);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@MainThread</span><br><span class="line">private void realObserveForever(@NonNull Observer&lt;? super T&gt; observer, boolean isStickyMode) &#123;</span><br><span class="line">    AlwaysActiveObserver wrapper &#x3D; new AlwaysActiveObserver(observer, isStickyMode);</span><br><span class="line">    ObserverWrapper existing &#x3D; mObservers.putIfAbsent(observer, wrapper);</span><br><span class="line">    if (existing !&#x3D; null &amp;&amp; existing instanceof LiveEvent.LifecycleBoundObserver) &#123;</span><br><span class="line">        throw new IllegalArgumentException(&quot;Cannot add the same observer&quot;</span><br><span class="line">                + &quot; with different lifecycles&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    if (existing !&#x3D; null) &#123;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    wrapper.activeStateChanged(true);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>æœ‰äº†isStickyModeè¿™ä¸ªå˜é‡ä¹‹åï¼Œversionçš„å¯¹æ¯”æ˜¾å¾—å°±ä¸å¿…è¦äº†ï¼Œä¹‹å‰LiveDataåŸæœ‰é€»è¾‘æ˜¯ç»„ä»¶ä»éæ´»è·ƒå˜ä¸ºæ´»è·ƒçŠ¶æ€å°±ä¼šè°ƒç”¨dispatchingValueæ–¹æ³•ï¼Œè€ŒdispatchingValueæ–¹æ³•åˆä¼šè°ƒç”¨considerNotifyæ–¹æ³•ï¼ŒconsiderNotifyæ–¹æ³•ä¸­å¯¹æ¯”Observerå’ŒLiveDataä¸­çš„ç‰ˆæœ¬ï¼Œå¦‚æœObserverä¸­çš„mLastVersionå°äºLiveDataä¸­çš„mVersionè¯´æ˜Observeræ²¡æœ‰æ¥æ”¶åˆ°æœ€æ–°çš„æ•°æ®ï¼Œé‚£ä¹ˆä¾¿è¿›è¡Œä¸€æ¬¡åˆ†å‘ã€‚ç°åœ¨æˆ‘ä»¬æœ‰äº†isStickyModeå˜é‡æ§åˆ¶ï¼ŒåŠ ä¸Šæ´»è·ƒçŠ¶æ€çš„èŒƒå›´æå‡åˆ°onCreateåˆ°onStopä¹‹é—´(è¿™ä¸ªèŒƒå›´ä¹‹å¤–çš„ç”Ÿå‘½å‘¨æœŸåªå‰©onDestroyï¼Œä½†æ˜¯åˆ°äº†è¿™ä¸ªçŠ¶æ€LiveDataä¼šè‡ªåŠ¨å°†è¿™ä¸ªObserverç»™ç§»é™¤)ï¼Œç‰ˆæœ¬çš„å¯¹æ¯”å°±èµ·ä¸äº†ä»€ä¹ˆä½œç”¨ï¼Œå¯ä»¥å°†ç›¸å…³å˜é‡ä¸æ–¹æ³•ç²¾ç®€æ‰(è¿˜èƒ½é˜²æ­¢å‘é€äº‹ä»¶æ¬¡æ•°è¿‡å¤šï¼ŒmVersionè¶…è¿‡äº†intæ‰€èƒ½å®¹çº³çš„æœ€å¤§å€¼å¯¼è‡´çš„å¼‚å¸¸ï¼Œè™½ç„¶ä½ çš„Appä¹Ÿä¸å¯èƒ½æœ‰å‘é€äº†20å¤šäº¿æ¬¡äº‹ä»¶ç”¨æˆ·è¿˜æ²¡æŠŠä½ Appå…³æ‰çš„æƒ…å†µ)ã€‚considerNotifyæ–¹æ³•ä¸­é€šè¿‡åˆ¤æ–­ç‰ˆæœ¬æ˜¯å¦å¿½ç•¥åˆ†å‘çš„ä»£ç é€»è¾‘å¯ä»¥æ”¹æˆvalueæ˜¯å¦è¢«èµ‹å€¼è¿‡æ¥åˆ¤æ–­æ˜¯å¦å¿½ç•¥åˆ†å‘ï¼Œä»£ç å¦‚ä¸‹ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if (mData &#x3D;&#x3D; NOT_SET) &#123;</span><br><span class="line">    &#x2F;&#x2F; ä»æ²¡å‘é€è¿‡äº‹ä»¶ç›´æ¥å¿½è§†åˆ†å‘äº‹ä»¶</span><br><span class="line">    return;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>æœ€åæˆ‘ä»¬ç¼–å†™ä¸€ä¸ªå·¥å…·ç±»ï¼Œå°†ä½¿ç”¨æ–¹æ³•å°è£…èµ·æ¥ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">public class LiveEventBus &#123;</span><br><span class="line"></span><br><span class="line">    private static final class SingleHolder &#123;</span><br><span class="line">        private static final LiveEventBus INSTANCE &#x3D; new LiveEventBus();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static LiveEventBus get() &#123;</span><br><span class="line">        return SingleHolder.INSTANCE;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private final ConcurrentHashMap&lt;Object, LiveEvent&lt;Object&gt;&gt; mEventMap;</span><br><span class="line"></span><br><span class="line">    private LiveEventBus() &#123;</span><br><span class="line">        mEventMap &#x3D; new ConcurrentHashMap&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public &lt;T&gt; LiveEvent&lt;T&gt; with(@NonNull final String key, @NonNull final Class&lt;T&gt; clazz) &#123;</span><br><span class="line">        return realWith(key, clazz);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public &lt;T&gt; LiveEvent&lt;T&gt; with(@NonNull final Class&lt;T&gt; clazz) &#123;</span><br><span class="line">        return realWith(null, clazz);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @SuppressWarnings(&quot;unchecked&quot;)</span><br><span class="line">    private &lt;T&gt; LiveEvent&lt;T&gt; realWith(final String key, final Class&lt;T&gt; clazz) &#123;</span><br><span class="line">        final Object objectKey;</span><br><span class="line">        if (key !&#x3D; null) &#123;</span><br><span class="line">            objectKey &#x3D; key;</span><br><span class="line">        &#125; else if (clazz !&#x3D; null) &#123;</span><br><span class="line">            objectKey &#x3D; clazz;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            throw new IllegalArgumentException(&quot;key and clazz, one of which must not be null&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        LiveEvent&lt;Object&gt; result &#x3D; mEventMap.get(objectKey);</span><br><span class="line">        if (result !&#x3D; null) return (LiveEvent&lt;T&gt;) result;</span><br><span class="line">        synchronized (mEventMap) &#123;</span><br><span class="line">            result &#x3D; mEventMap.get(objectKey);</span><br><span class="line">            if (result &#x3D;&#x3D; null) &#123;</span><br><span class="line">                result &#x3D; new LiveEvent&lt;&gt;();</span><br><span class="line">                mEventMap.put(objectKey, result);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return (LiveEvent&lt;T&gt;) result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><p>æœ€åï¼Œæˆ‘ä»¬å°±ç”¨è¿™å‡ ç™¾è¡Œä»£ç æ‰“é€ äº†ä¸€æ¬¾éå¸¸ç‰›(å™±)é€¼(å¤´)çš„äº‹ä»¶æ€»çº¿æ¡†æ¶ï¼Œæ²¡æœ‰åå°„ï¼Œä¸ä¼šå½±å“ä½ å“åº”æ—¶é—´éœ€è¦6ï¼Œ7sçš„APPçš„è¿è¡Œé€Ÿåº¦ã€‚ä½ ç”šè‡³è¿˜å¯ä»¥åˆ é™¤LiveEventä¸€äº›ä¸éœ€è¦çš„å¯¹å¤–æ–¹æ³•ä»¥åŠä¸å†ä½¿ç”¨åˆ°çš„æˆå‘˜å˜é‡ã€‚ä¸ºäº†è¿›ä¸€æ­¥å‹ç¼©ä»£ç è¡Œæ•°ï¼Œä½ ç”šè‡³å¯ä»¥æŠŠæ³¨é‡Šä¹Ÿç»™åˆ é™¤äº†ï¼æˆ‘å°±è¿™ä¹ˆå¹²äº†ï¼Œæœ€åçš„LiveEventåªæœ‰ä¸¤ç™¾å¤šè¡Œä»£ç ã€‚</p><p>å½“ç„¶ï¼Œè¿™è¿˜æ²¡å®Œï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–ä¸€ä¸‹ï¼Œæ¯”å¦‚æˆ‘ä»¬æ¯æ¬¡åˆ›å»ºLiveEventå¯¹è±¡å°±ä¼šæœ‰ä¸€ä¸ªHandlerä¹Ÿè¢«éšä¹‹åˆ›å»ºï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥å…±ç”¨ä¸€ä¸ªHandleræ¥å°†ä»»åŠ¡poståˆ°ä¸»çº¿ç¨‹ï¼Œç„¶åè¿˜æœ‰çº¿ç¨‹çš„åˆ¤æ–­è¿™äº›æ–¹æ³•æˆ‘ä»¬ä¹Ÿå¯ä»¥æå–åˆ°ä¸€ä¸ªå…¬å…±ç±»ä¸­ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»æˆ‘ä»¬ä¸å¦‚å«å®ƒDefaultTaskExecutorå§ï¼å’¦ï¼Œè¿™ä¹ˆå·§ï¼ŒandroidxåŒ…é‡Œé¢å°±æœ‰è¿™ä¸ªè¯¶ï¼Œé‚£æˆ‘ä»¬ç›´æ¥æŠŠå®ƒå¤åˆ¶è¿‡æ¥å½“å·¥å…·ç±»ç”¨å§ã€‚åé¢è¿˜æœ‰ä¸€ä¸ªç»§æ‰¿çš„çˆ¶ç±»ä¹Ÿæœ‰é™åˆ¶æ³¨è§£ï¼Ÿç®—äº†ï¼Œä¸è¦å®ƒä¹Ÿä¸æ˜¯ä¸èƒ½ç”¨ï¼Œé‚£ç›´æ¥å»äº†å§ã€‚å¤šä½™çš„overrideæ³¨è§£ä¹Ÿç»™å»äº†ï¼Œé‡Œé¢è¿˜æœ‰ä¸ªç”¨äºåˆ‡æ¢åˆ°ioçº¿ç¨‹çš„æ–¹æ³•ï¼Œemmmç•™ç€å§ï¼Œä¸‡ä¸€ä»¥åè¦å‘¢ï¼Œåªæ˜¯çº¿ç¨‹åç»™å®ƒæ”¹ä¸€ä¸ªæˆ‘ä»¬è‡ªå·±æƒ³å®šä¹‰çš„åå­—(å°†ç›—ç‰ˆè¿›è¡Œåˆ°åº•)â€¦ä¸ºäº†ä½¿ç”¨æ–¹ä¾¿ï¼ŒæŠŠå®ƒæ”¹æˆå•ä¾‹å§ï¼Œå†æŠŠLiveEventç±»ä¸­å¯ä»¥ç”¨åˆ°è¿™ä¸ªç±»æ–¹æ³•çš„åœ°æ–¹æ›¿æ¢ä¸€ä¸‹ï¼Œå®Œç¾æ”¶å®˜ï¼</p><p>æœ€åè®²è®²LiveEventBusç”¨æ³•ï¼Œé‚£æ˜¯ç›¸å½“ç®€å•ï¼Œå‚ç…§<a href="https://github.com/cyixlq/LiveEventBus/blob/main/app/src/main/java/top/cyixlq/sample/MainActivity.kt">MainActivity</a>å’Œ<a href="https://github.com/cyixlq/LiveEventBus/blob/main/app/src/main/java/top/cyixlq/sample/SecondActivity.kt">SecondActivity</a></p><p>å£°æ˜ï¼šæœ¬æ–‡å¯èƒ½ä¼šéšç€é¡¹ç›®ä»£ç çš„æ”¹åŠ¨è€Œå¯¼è‡´æ›´æ–°ä¸åŠæ—¶ï¼Œè¯·ä»¥é¡¹ç›®ä¸­ä»£ç ä¸ºå‡†ï¼</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;LiveDataBuså·²ç»æ˜¯ä¸€ä¸ªè€ç”Ÿå¸¸è°ˆçš„è¯é¢˜äº†ï¼Œä½†æ˜¯æˆ‘ä»¬ä»Šå¤©æç‚¹ä¸ä¸€æ ·(å™±)çš„(å¤´)ã€‚åºŸè¯ä¸å¤šè¯´ï¼Œå…ˆä¸Šåœ°å€ï¼š&lt;a href=&quot;https://github.com/cyixlq/LiveEventBus&quot;&gt;https://github.com/cyixlq/LiveEventBus&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å…ˆæ¥è¯´ä¸€è¯´LiveDataBusçš„ä¸€äº›è€ç”Ÿå¸¸è°ˆçš„ä¼˜åŠ¿ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸éœ€è¦åƒEventBusé‚£æ ·æ³¨å†Œåæ³¨å†Œï¼Œå¯ä»¥è‡ªåŠ¨æ³¨å†Œè§£æ³¨å†Œï¼Œé¿å…äº†å¿˜è®°åæ³¨å†Œå¯¼è‡´å†…å­˜æ³„æ¼&lt;/li&gt;
&lt;li&gt;äº‹ä»¶å‘é€ä¸æ˜¯é€šè¿‡åå°„æ‰§è¡Œï¼Œä½†ç°åœ¨EventBusé€šè¿‡APTä¹Ÿå¯ä»¥å®ç°&lt;/li&gt;
&lt;li&gt;å…¶å®ƒï¼Œè¿˜æœ‰å—ï¼Ÿæˆ‘æš‚æ—¶æ²¡æƒ³åˆ°&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    <category term="Android" scheme="https://www.cyixlq.top/categories/Android/"/>
    
    
    <category term="livedata_bus" scheme="https://www.cyixlq.top/tags/livedata-bus/"/>
    
    <category term="jetpack" scheme="https://www.cyixlq.top/tags/jetpack/"/>
    
    <category term="livedata" scheme="https://www.cyixlq.top/tags/livedata/"/>
    
  </entry>
  
  <entry>
    <title>è‡ªå®šä¹‰ä¸€ä¸ªä»¿æ‹¼å¤šå¤šåœ°å€é€‰æ‹©å™¨</title>
    <link href="https://www.cyixlq.top/2019/04/19/custom-address-picker-like-pinduoduo/"/>
    <id>https://www.cyixlq.top/2019/04/19/custom-address-picker-like-pinduoduo/</id>
    <published>2019-04-19T10:56:23.000Z</published>
    <updated>2021-04-12T02:21:41.137Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å…¬å¸æ­£åœ¨å¼€å‘ä¸€ä¸ªå•†åŸé¡¹ç›®ï¼Œå› ä¸ºé¡¹ç›®éœ€è¦ï¼Œåšäº†ä¸€ä¸ªä»¿æ‹¼å¤šå¤šçš„åœ°å€é€‰æ‹©å™¨ï¼Œä½†æ˜¯ä¸æ‹¼å¤šå¤šå®ç°æ–¹æ³•æœ‰äº›å‡ºå…¥ï¼Œå¤§ä½“æ•ˆæœæ˜¯å·®ä¸å¤šçš„ã€‚<br>ï¼ˆ2019å¹´04æœˆ22æ—¥æ›´æ–°ï¼‰æœ€åå†³å®šè¿˜æ˜¯å•ç‹¬æå–å‡ºæ¥åšä¸ªdemoç»™å¤§å®¶å‚è€ƒå‚è€ƒï¼Œåœ°å€ï¼š<a href="https://github.com/cyixlq/AddressPickerDialog">https://github.com/cyixlq/AddressPickerDialog</a><br>åºŸè¯ä¸å¤šè¯´ï¼Œå…ˆä¸Šä¸€å¼ æ•ˆæœåŠ¨å›¾ï¼š<br><img src="/images/%E5%9C%B0%E5%9D%80%E9%80%89%E6%8B%A9%E5%99%A8%E6%95%88%E6%9E%9C%E5%9B%BE.gif" alt="åœ°å€é€‰æ‹©å™¨æ•ˆæœå›¾.gif"></p><span id="more"></span><h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><ol><li>å…ˆè¯´è¯´æœ¬æ–‡çš„ä¸€äº›æ¦‚å¿µã€‚åœ°åŒºçº§åˆ«ï¼šå°±æ˜¯æ¯”å¦‚çœçº§ï¼Œå¸‚çº§ï¼Œå¿çº§ï¼Œé•‡çº§ï¼Œé‚£ä¹ˆè¿™ç§æœ€å¤šå°±æ˜¯4çº§ã€‚</li><li>å¥½äº†ï¼Œæˆ‘ä»¬åˆ†æä¸€æ³¢æ•ˆæœå›¾ï¼Œå½“ä¸€ä¸ªçº§åˆ«çš„åœ°åŒºé€‰æ‹©å¥½ä¹‹åä¼šåˆ›å»ºå‡ºä¸€ä¸ªæ–°çš„Tabï¼Œåˆ°äº†æœ€åä¸€ä¸ªåœ°åŒºçº§åˆ«ä¹‹åå°±ä¸ä¼šå†åˆ›å»ºæ–°çš„ã€‚å¦‚æœå€’å›å»é‡æ–°é€‰æ‹©ä¸€ä¸ªçº§åˆ«çš„åœ°åŒºï¼Œä¼šç§»é™¤åé¢çš„Tabä¹‹åå†åˆ›å»ºä¸€ä¸ªæ–°çš„Tabã€‚é€‰æ‹©å¥½ä¹‹åï¼Œå¦‚æœç‚¹å‡»Tabä¼šåˆ‡æ¢åˆ°ç›¸åº”åœ°åŒºçº§åˆ«ï¼Œå¹¶ä¸”æ»šåŠ¨åˆ°ä¹‹å‰é€‰æ‹©çš„åœ°åŒºæ˜¾ç¤ºï¼Œåˆ›å»ºæ–°çš„Tabå°±é»˜è®¤æ»šåŠ¨åˆ°ç¬¬ä¸€ä¸ªpositionçš„ä½ç½®ã€‚</li><li>å…¶æ¬¡ï¼Œæ¥çœ‹çœ‹æˆ‘ä»¬è¿™ä¸ªç•Œé¢çš„å¸ƒå±€ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class="line">    xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br><span class="line">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class="line">    android:layout_height&#x3D;&quot;560dp&quot;</span><br><span class="line">    android:orientation&#x3D;&quot;vertical&quot;</span><br><span class="line">    android:paddingStart&#x3D;&quot;12dp&quot;</span><br><span class="line">    android:paddingEnd&#x3D;&quot;12dp&quot;&gt;</span><br><span class="line">    &lt;!-- Dialogçš„æ ‡é¢˜ --&gt;</span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:id&#x3D;&quot;@+id&#x2F;user_tv_dialog_title&quot;</span><br><span class="line">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">        android:layout_marginTop&#x3D;&quot;18dp&quot;</span><br><span class="line">        android:layout_gravity&#x3D;&quot;center_horizontal&quot;&#x2F;&gt;</span><br><span class="line">    &lt;!-- æ ‡é¢˜ä¸‹çš„ç¬¬ä¸€æ¡æ¨ªçº¿ --&gt;</span><br><span class="line">    &lt;View</span><br><span class="line">        android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class="line">        android:layout_height&#x3D;&quot;1dp&quot;</span><br><span class="line">        android:background&#x3D;&quot;#e6e6e6&quot;</span><br><span class="line">        android:layout_marginTop&#x3D;&quot;17dp&quot;&#x2F;&gt;</span><br><span class="line">    &lt;!-- é¡¶éƒ¨çš„TabLayout --&gt;</span><br><span class="line">    &lt;android.support.design.widget.TabLayout</span><br><span class="line">        android:id&#x3D;&quot;@+id&#x2F;user_tb_dialog_tab&quot;</span><br><span class="line">        android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class="line">        android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">        app:tabSelectedTextColor&#x3D;&quot;@color&#x2F;colorPrimary&quot;</span><br><span class="line">        app:tabGravity&#x3D;&quot;fill&quot;</span><br><span class="line">        app:tabMode&#x3D;&quot;scrollable&quot;&#x2F;&gt;</span><br><span class="line">    &lt;!-- TabLayoutä¸‹æ–¹çš„æ¨ªçº¿ --&gt;</span><br><span class="line">    &lt;View</span><br><span class="line">        android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class="line">        android:layout_height&#x3D;&quot;1dp&quot;</span><br><span class="line">        android:background&#x3D;&quot;#e6e6e6&quot;&#x2F;&gt;</span><br><span class="line">    &lt;!-- æ˜¾ç¤ºåœ°åŒºæ•°æ®çš„RecyclerView --&gt;</span><br><span class="line">    &lt;android.support.v7.widget.RecyclerView</span><br><span class="line">        android:id&#x3D;&quot;@+id&#x2F;user_rv_dialog_list&quot;</span><br><span class="line">        android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class="line">        android:layout_height&#x3D;&quot;0dp&quot;</span><br><span class="line">        android:layout_weight&#x3D;&quot;1&quot;&#x2F;&gt;</span><br><span class="line">&lt;&#x2F;LinearLayout&gt;</span><br></pre></td></tr></table></figure></li><li>ä»å¸ƒå±€ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œæˆ‘æœ€ä¸»è¦é TabLayoutåŠ RecyclerViewå®ç°è¿™ä¸ªæ•ˆæœï¼Œè€Œæ‹¼å¤šå¤šä¸ªäººçŒœæµ‹æ˜¯TabLayoutåŠ RecyclerViewåŠ ViewPagerï¼Œæ‰€ä»¥æ‹¼å¤šå¤šçš„RecyclerViewæ˜¯å¯ä»¥ä¾§æ»‘åˆ°ä¸Šä¸€ä¸ªTabé¡µæˆ–ä¸‹ä¸€ä¸ªï¼Œè¿™ä¹Ÿå°±æ˜¯å’Œæ‹¼å¤šå¤šæ•ˆæœçš„ä¸åŒä¹‹å¤„ã€‚<h3 id="å¼€å§‹æ’¸ä»£ç "><a href="#å¼€å§‹æ’¸ä»£ç " class="headerlink" title="å¼€å§‹æ’¸ä»£ç "></a>å¼€å§‹æ’¸ä»£ç </h3></li><li>ä»ä»£ç ä¸‹æ‰‹ï¼Œé¦–å…ˆæŠŠå•ä¸ªåœ°åŒºåˆ—è¡¨çš„å¸ƒå±€å†™å¥½ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;LinearLayout</span><br><span class="line">    xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class="line">    xmlns:tools&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;tools&quot;</span><br><span class="line">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class="line">    android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">    android:orientation&#x3D;&quot;horizontal&quot;</span><br><span class="line">    android:paddingTop&#x3D;&quot;10dp&quot;</span><br><span class="line">    android:paddingBottom&#x3D;&quot;10dp&quot;</span><br><span class="line">    tools:ignore&#x3D;&quot;UseCompoundDrawables&quot;&gt;</span><br><span class="line">    &lt;!-- æ˜¾ç¤ºåœ°åŒºåç§° --&gt;</span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:id&#x3D;&quot;@+id&#x2F;user_tv_address_dialog&quot;</span><br><span class="line">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height&#x3D;&quot;wrap_content&quot;&#x2F;&gt;</span><br><span class="line">    &lt;!-- æ˜¾ç¤ºåé¢çš„å‹¾é€‰å›¾æ ‡ --&gt;</span><br><span class="line">    &lt;ImageView</span><br><span class="line">        android:id&#x3D;&quot;@+id&#x2F;user_iv_address_dialog&quot;</span><br><span class="line">        android:layout_width&#x3D;&quot;13dp&quot;</span><br><span class="line">        android:layout_height&#x3D;&quot;9dp&quot;</span><br><span class="line">        android:src&#x3D;&quot;@drawable&#x2F;user_icon_address_check&quot;</span><br><span class="line">        android:layout_marginStart&#x3D;&quot;11dp&quot;</span><br><span class="line">        android:layout_gravity&#x3D;&quot;center_vertical&quot;</span><br><span class="line">        android:visibility&#x3D;&quot;gone&quot;</span><br><span class="line">        tools:ignore&#x3D;&quot;ContentDescription&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;LinearLayout&gt;</span><br></pre></td></tr></table></figure></li><li>æŠŠåœ°åŒºè¿™ä¸ªå®ä½“å¯¹è±¡åˆ›å»ºå¥½ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">public class AddressItem &#123;</span><br><span class="line">    &#x2F;&#x2F; åœ°åŒºå</span><br><span class="line">    private String address;</span><br><span class="line">    &#x2F;&#x2F; æ˜¯å¦å‹¾é€‰</span><br><span class="line">    private boolean isChecked;</span><br><span class="line">    &#x2F;&#x2F; åœ°åŒºçš„IDï¼Œæˆ‘è¿™è¾¹é¡¹ç›®éœ€è¦çš„æ˜¯intå‹ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®è‡ªå·±é¡¹ç›®éœ€è¦è¿›è¡Œä¿®æ”¹</span><br><span class="line">    private int id;</span><br><span class="line"></span><br><span class="line">    public String getAddress() &#123;</span><br><span class="line">        return this.address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setAddress(String address) &#123;</span><br><span class="line">        this.address &#x3D; address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public boolean isChecked() &#123;</span><br><span class="line">        return this.isChecked;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setChecked(boolean checked) &#123;</span><br><span class="line">        this.isChecked &#x3D; checked;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public int getId() &#123;</span><br><span class="line">        return this.id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setId(int id) &#123;</span><br><span class="line">        this.id &#x3D; id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public String toString() &#123;</span><br><span class="line">        return &quot;AddressItem&#123;&quot; +</span><br><span class="line">                &quot;address&#x3D;&#39;&quot; + address + &#39;\&#39;&#39; +</span><br><span class="line">                &quot;, isChecked&#x3D;&quot; + isChecked +</span><br><span class="line">                &quot;, id&#x3D;&quot; + id +</span><br><span class="line">                &#39;&#125;&#39;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>æŠŠRecyclerViewçš„é€‚é…å™¨å†™å¥½ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">public class AddressAdapter extends RecyclerView.Adapter&lt;AddressAdapter.MyViewHolder&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F; ä¿å­˜åœ°åŒºæ•°æ®çš„åˆ—è¡¨</span><br><span class="line">    private List&lt;AddressItem&gt; list &#x3D; new ArrayList&lt;&gt;();</span><br><span class="line">    &#x2F;&#x2F; è‡ªå®šä¹‰çš„å•é¡¹è¢«ç‚¹å‡»ç›‘å¬äº‹ä»¶</span><br><span class="line">    private ItemClickListener listener;</span><br><span class="line"></span><br><span class="line">    @NonNull</span><br><span class="line">    @Override</span><br><span class="line">    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int i) &#123;</span><br><span class="line">        View view &#x3D; LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.user_item_address_bottom_sheet_dialog, viewGroup, false);</span><br><span class="line">        return new MyViewHolder(view);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void onBindViewHolder(@NonNull MyViewHolder myViewHolder, int i) &#123;</span><br><span class="line">        AddressItem item &#x3D; list.get(i);</span><br><span class="line">        if (item.isChecked()) &#123;</span><br><span class="line">            myViewHolder.tvAddress.setText(item.getAddress());</span><br><span class="line">            myViewHolder.tvAddress.setTextColor(Color.parseColor(&quot;#1F83FF&quot;));</span><br><span class="line">            myViewHolder.ivChecked.setVisibility(View.VISIBLE);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            myViewHolder.tvAddress.setText(item.getAddress());</span><br><span class="line">            myViewHolder.tvAddress.setTextColor(Color.BLACK);</span><br><span class="line">            myViewHolder.ivChecked.setVisibility(View.GONE);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public int getItemCount() &#123;</span><br><span class="line">        return this.list &#x3D;&#x3D; null ? 0 : list.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setList(List&lt;AddressItem&gt; list) &#123;</span><br><span class="line">        if (this.list !&#x3D; null &amp;&amp; list !&#x3D; null) &#123;</span><br><span class="line">            this.list.clear();</span><br><span class="line">            this.list.addAll(list);</span><br><span class="line">            this.notifyDataSetChanged();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setOnItemClickListener(@NonNull ItemClickListener listener) &#123;</span><br><span class="line">        this.listener &#x3D; listener;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    class MyViewHolder extends RecyclerView.ViewHolder &#123;</span><br><span class="line">        TextView tvAddress;</span><br><span class="line">        ImageView ivChecked;</span><br><span class="line">        MyViewHolder(@NonNull View itemView) &#123;</span><br><span class="line">            super(itemView);</span><br><span class="line">            tvAddress &#x3D; itemView.findViewById(R.id.user_tv_address_dialog);</span><br><span class="line">            ivChecked &#x3D; itemView.findViewById(R.id.user_iv_address_dialog);</span><br><span class="line">            if (listener !&#x3D; null) &#123;</span><br><span class="line">                itemView.setOnClickListener(v -&gt; listener.onItemClick(getAdapterPosition()));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public interface ItemClickListener &#123;</span><br><span class="line">        void onItemClick(int position);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>é¦–å…ˆè‡ªå·±åŠ¨æ‰‹å†™äº†ä¸¤ä¸ªBaseDialogï¼Œæ²¡ä»€ä¹ˆè¥å…»ï¼Œä»£ç ä¹Ÿå¾ˆç®€å•ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">public abstract class CustomBaseDialog extends Dialog &#123;</span><br><span class="line"></span><br><span class="line">    protected Context context;</span><br><span class="line"></span><br><span class="line">    public CustomBaseDialog(@NonNull Context context) &#123;</span><br><span class="line">        super(context);</span><br><span class="line">        this.context &#x3D; context;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    protected abstract Integer getLayout();</span><br><span class="line">    protected abstract Integer getGravity();</span><br><span class="line">    protected abstract Integer getBackgroundRes();</span><br><span class="line">    protected abstract Integer getWindowAnimations();</span><br><span class="line">    protected abstract void initView();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        if (getLayout() !&#x3D; null)</span><br><span class="line">            setContentView(getLayout());</span><br><span class="line">        Window window &#x3D; getWindow();</span><br><span class="line">        if (window !&#x3D; null) &#123;</span><br><span class="line">            &#x2F;&#x2F; å»é™¤DecorViewé»˜è®¤çš„å†…è¾¹è·ï¼Œå¥½è®©å¸ƒå±€å æ»¡æ•´ä¸ªæ¨ªå‘å±å¹•</span><br><span class="line">            View decorView &#x3D; window.getDecorView();</span><br><span class="line">            decorView.setPadding(0,0,0,0);</span><br><span class="line">            if (getGravity() !&#x3D; null)</span><br><span class="line">                window.setGravity(getGravity());</span><br><span class="line">            else</span><br><span class="line">                window.setGravity(Gravity.CENTER);</span><br><span class="line">            if (getWindowAnimations() !&#x3D; null)</span><br><span class="line">                window.setWindowAnimations(getWindowAnimations());</span><br><span class="line">            if (getBackgroundRes() !&#x3D; null)</span><br><span class="line">                decorView.setBackgroundResource(getBackgroundRes());</span><br><span class="line">        &#125;</span><br><span class="line">        initView();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    protected void setClickListener(int id, View.OnClickListener listener) &#123;</span><br><span class="line">        findViewById(id).setOnClickListener(listener);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public abstract class CustomBaseBottomSheetDialog extends CustomBaseDialog &#123;</span><br><span class="line">    public CustomBaseBottomSheetDialog(@NonNull Context context) &#123;</span><br><span class="line">        super(context);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected Integer getGravity() &#123;</span><br><span class="line">        return Gravity.BOTTOM;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        Window window &#x3D; getWindow();</span><br><span class="line">        if (null !&#x3D; window) &#123;</span><br><span class="line">            &#x2F;&#x2F; å»é™¤windowçš„marginï¼Œç›®çš„ä¹Ÿæ˜¯ä¸ºäº†è®©å¸ƒå±€å æ»¡å±å¹•</span><br><span class="line">            WindowManager.LayoutParams layoutParams &#x3D; window.getAttributes();</span><br><span class="line">            layoutParams.width &#x3D; WindowManager.LayoutParams.MATCH_PARENT;</span><br><span class="line">            layoutParams.horizontalMargin &#x3D; 0;</span><br><span class="line">            window.setAttributes(layoutParams);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>æ¥ç€æ‰æ˜¯é‡ç‚¹ï¼Œè‡ªå®šä¹‰åœ°å€é€‰æ‹©å™¨Dialogï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br></pre></td><td class="code"><pre><span class="line">public class AddressBottomSheetDialog extends CustomBaseBottomSheetDialog &#123;</span><br><span class="line"></span><br><span class="line">    private TabLayout tabLayout;</span><br><span class="line">    private AddressAdapter addressAdapter;</span><br><span class="line"></span><br><span class="line">    private int maxLevel;   &#x2F;&#x2F; æœ€å¤§æœ‰å¤šå°‘çº§çš„åœ°åŒºï¼Œå¯ä»¥é€šè¿‡setMaxLevelæ–¹æ³•è¿›è¡Œè‡ªå®šä¹‰</span><br><span class="line">    private SparseArray&lt;List&lt;AddressItem&gt;&gt; levelList;     &#x2F;&#x2F; çº§åˆ«åˆ—è¡¨æ•°æ®</span><br><span class="line">    private SparseIntArray levelPosition;                 &#x2F;&#x2F; å„ä¸ªçº§åˆ«é€‰ä¸­çš„åˆ—è¡¨position</span><br><span class="line">    private SparseIntArray levelIds;                      &#x2F;&#x2F; å„ä¸ªçº§åˆ«é€‰æ‹©çš„åœ°å€ID</span><br><span class="line">    private String title;  &#x2F;&#x2F; æ ‡é¢˜</span><br><span class="line">    private String tabText &#x3D; &quot;è¯·é€‰æ‹©&quot;;                    &#x2F;&#x2F; æ–°çš„Tabé»˜è®¤æ˜¾ç¤ºçš„æ–‡æœ¬</span><br><span class="line">    private TabSelectChangeListener changeListener;       &#x2F;&#x2F; Tabçš„é€‰æ‹©è¢«æ”¹å˜çš„ç›‘å¬</span><br><span class="line"></span><br><span class="line">    public AddressBottomSheetDialog(@NonNull Context context) &#123;</span><br><span class="line">        super(context);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected Integer getLayout() &#123;</span><br><span class="line">        return R.layout.user_layout_address_bottom_sheet_dialog;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected Integer getBackgroundRes() &#123;</span><br><span class="line">        return R.drawable.bg_dialog_bottom;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected Integer getWindowAnimations() &#123;</span><br><span class="line">        return R.style.DialogBottom;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void initView() &#123;</span><br><span class="line">        levelList &#x3D; new SparseArray&lt;&gt;();</span><br><span class="line">        levelPosition &#x3D; new SparseIntArray();</span><br><span class="line">        levelIds &#x3D; new SparseIntArray();</span><br><span class="line"></span><br><span class="line">        ((TextView)findViewById(R.id.user_tv_dialog_title)).setText(title);</span><br><span class="line">        tabLayout &#x3D; findViewById(R.id.user_tb_dialog_tab);</span><br><span class="line">        final RecyclerView recyclerView &#x3D; findViewById(R.id.user_rv_dialog_list);</span><br><span class="line"></span><br><span class="line">        tabLayout.addOnTabSelectedListener(new TabLayout.BaseOnTabSelectedListener() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void onTabSelected(TabLayout.Tab tab) &#123;</span><br><span class="line">                final int position &#x3D; tab.getPosition();</span><br><span class="line">                List&lt;AddressItem&gt; list &#x3D; levelList.get(position);</span><br><span class="line">                if (null !&#x3D; list &amp;&amp; !list.isEmpty()) &#123;   &#x2F;&#x2F; å¦‚æœé€‰ä¸­çº§åˆ«çš„Listæ²¡æœ‰æ•°æ®å°±é€šè¿‡æ‰§è¡Œå›è°ƒæ¥è·å–ï¼Œå¦åˆ™ç›´æ¥å¤ç”¨</span><br><span class="line">                    addressAdapter.setList(list);</span><br><span class="line">                    final int lastClickPositon &#x3D; levelPosition.get(position, -1); &#x2F;&#x2F; è·å–ä¸Šä¸€æ¬¡é€‰ä¸­çš„åœ°åŒºçš„positionï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œé»˜è®¤è¿”å›-1</span><br><span class="line">                    if (lastClickPositon &gt;&#x3D; 0) recyclerView.smoothScrollToPosition(lastClickPositon); &#x2F;&#x2F; å¦‚æœä¸Šä¸€æ¬¡æœ‰é€‰æ‹©ï¼ŒRecyclerViewæ»šåŠ¨åˆ°æŒ‡å®šposition</span><br><span class="line">                &#125; else if (changeListener !&#x3D; null) &#123;</span><br><span class="line">                    &#x2F;&#x2F; å‚æ•°positionä»£è¡¨çš„å½“å‰åœ°åŒºçº§åˆ«ï¼Œçˆ¶çº§åœ°åŒºIDåº”è¯¥é€‰å½“å‰çº§åˆ«çš„ä¸Šä¸€ä¸ªçº§åˆ«ï¼Œå¦‚æœæ²¡æœ‰é»˜è®¤è¿”å›-1</span><br><span class="line">                    changeListener.onSelectChange(position, levelIds.get(position -1, -1));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            @Override</span><br><span class="line">            public void onTabUnselected(TabLayout.Tab tab) &#123;&#125;</span><br><span class="line">            @Override</span><br><span class="line">            public void onTabReselected(TabLayout.Tab tab) &#123;&#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        addressAdapter &#x3D; new AddressAdapter();</span><br><span class="line">        &#x2F;&#x2F; åˆ—è¡¨å•é¡¹ç‚¹å‡»äº‹ä»¶</span><br><span class="line">        addressAdapter.setOnItemClickListener(position -&gt; &#123;</span><br><span class="line">            final int selectedTabPosition &#x3D; tabLayout.getSelectedTabPosition(); &#x2F;&#x2F; é€‰ä¸­çš„Tabçš„position</span><br><span class="line">            levelIds.put(selectedTabPosition, levelList.get(selectedTabPosition).get(position).getId()); &#x2F;&#x2F; æ›´æ–°é€‰ä¸­çš„åœ°åŒºçš„ID</span><br><span class="line">            changeSelect(selectedTabPosition, position);</span><br><span class="line">            levelPosition.put(selectedTabPosition, position); &#x2F;&#x2F; æ›´æ–°é€‰ä¸­çš„åœ°åŒºåœ¨åˆ—è¡¨ä¸­çš„position</span><br><span class="line">            setTabText(selectedTabPosition, levelList.get(selectedTabPosition).get(position).getAddress()); &#x2F;&#x2F; å°†é€‰ä¸­çš„åœ°åŒºçš„åå­—æ˜¾ç¤ºåœ¨Tabä¸Š</span><br><span class="line">            if (selectedTabPosition &lt; maxLevel - 1 &amp;&amp; selectedTabPosition &#x3D;&#x3D; tabLayout.getTabCount() - 1) &#123; &#x2F;&#x2F; å¦‚æœæ²¡è¾¾åˆ°MaxLevelå¹¶ä¸”é€‰ä¸­çš„Tabæ˜¯æœ€åä¸€ä¸ªå°±æ·»åŠ ä¸€ä¸ªTabï¼Œå¹¶ä¸”RecyclerViewæ»šåŠ¨åˆ°æœ€é¡¶éƒ¨</span><br><span class="line">                tabLayout.addTab(createTab(), true);</span><br><span class="line">                recyclerView.smoothScrollToPosition(0);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        recyclerView.setLayoutManager(new LinearLayoutManager(context));</span><br><span class="line">        recyclerView.setAdapter(addressAdapter);</span><br><span class="line">        tabLayout.addTab(createTab(), true); &#x2F;&#x2F; é»˜è®¤æ·»åŠ ä¸€ä¸ªTab</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; åˆ›å»ºä¸€ä¸ªè¯·é€‰æ‹©çš„tabå¹¶è¿”å›</span><br><span class="line">    private TabLayout.Tab createTab() &#123;</span><br><span class="line">        return tabLayout.newTab().setText(tabText);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; å½“ç‚¹å‡»äº†RecyclerViewæ¡ç›®çš„æ—¶å€™æ‰§è¡Œçš„æ–¹æ³•</span><br><span class="line">    private void changeSelect(int selectedTabPosition, int nowClickPosition) &#123;</span><br><span class="line">        &#x2F;&#x2F; ä¿å­˜ä¸‹æ¥çš„å½“å‰åˆ—è¡¨ä¸Šä¸€ä¸ªç‚¹å‡»ä½ç½®.å¦‚æœæ‰¾ä¸åˆ°è¯¥å€¼ï¼Œé»˜è®¤è¿”å›-1</span><br><span class="line">        final int lastPosition &#x3D; levelPosition.get(selectedTabPosition, -1);</span><br><span class="line">        &#x2F;&#x2F; å¦‚æœä¸Šä¸€ä¸ªç‚¹å‡»ä½ç½®å’Œä¸‹ä¸€ä¸ªç‚¹å‡»ä½ç½®ç›¸åŒï¼Œåˆ™ä¸åšæ”¹å˜</span><br><span class="line">        if (nowClickPosition &#x3D;&#x3D; lastPosition) &#123;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        &#x2F;&#x2F; å¦‚æœä¸æ˜¯æœ€åä¸€ä¸ªå¹¶ä¸”åˆé‡æ–°é€‰æ‹©äº†çº§åˆ«åœ°åŒºï¼Œç§»é™¤åé¢çš„Tab</span><br><span class="line">        final int count &#x3D; tabLayout.getTabCount();</span><br><span class="line">        &#x2F;&#x2F; è¿™é‡Œè¦å€’è¿‡æ¥ç§»é™¤Tabï¼Œä¸ç„¶ä¼šå‡ºç°è¿™æ ·çš„æƒ…å†µï¼Œå‡å¦‚ä½ æœ‰å››ä¸ªTabï¼Œä½ ç§»é™¤ç¬¬0ä¸ªï¼Œæ¥ç€ç§»é™¤ç¬¬ä¸€ä¸ªçš„è¯ï¼Œç¬¬ä¸€ä¸ªä¸æ˜¯åŸæ¥çš„ç¬¬ä¸€ä¸ªã€‚å› ä¸ºä½ æŠŠç¬¬0ä¸ªç§»é™¤ï¼ŒåŸæ¥çš„ç¬¬ä¸€ä¸ªå°±åˆ°äº†ç¬¬0ä¸ªçš„ä½ç½®ä¸Šã€‚æ‰€ä»¥å€’è¿‡æ¥ç§»é™¤æ˜¯æ˜æ™ºçš„åšæ³•</span><br><span class="line">        if (selectedTabPosition &lt; count - 1) &#123;</span><br><span class="line">            TabLayout.Tab nowTab &#x3D; tabLayout.getTabAt(selectedTabPosition);</span><br><span class="line">            if (null !&#x3D; nowTab) nowTab.setText(tabText);</span><br><span class="line">            for (int i &#x3D; count - 1; i &gt; selectedTabPosition; i--) &#123;</span><br><span class="line">                &#x2F;&#x2F; å°†ç›¸åº”åœ°åŒºçº§åˆ«çš„åˆ—è¡¨æ•°æ®ç§»é™¤</span><br><span class="line">                levelList.remove(i);</span><br><span class="line">                &#x2F;&#x2F; å°†ä¹‹å‰é€‰ä¸­çš„positioné‡ç½®ä¸º-1</span><br><span class="line">                levelPosition.put(i, -1);</span><br><span class="line">                &#x2F;&#x2F; å°†ä¹‹å‰è®°å½•çš„åœ°åŒºIDé‡ç½®ä¸º-1</span><br><span class="line">                levelIds.put(i, -1);</span><br><span class="line">                tabLayout.removeTabAt(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        &#x2F;&#x2F; å°†ç°åœ¨é€‰æ‹©çš„åœ°åŒºè®¾ç½®ä¸ºå·²ç»é€‰ä¸­</span><br><span class="line">        levelList.get(selectedTabPosition).get(nowClickPosition).setChecked(true);</span><br><span class="line">        &#x2F;&#x2F; é€šè¿‡adapteræ›´æ–°åˆ—è¡¨å•ä¸ªå¯¹è±¡</span><br><span class="line">        addressAdapter.notifyItemChanged(nowClickPosition);</span><br><span class="line">        if (lastPosition &gt;&#x3D; 0) &#123;</span><br><span class="line">            &#x2F;&#x2F; å°†ä¸Šä¸€ä¸ªé€‰ä¸­çš„åœ°åŒºæ ‡è®°ä¸ºæœªé€‰ä¸­</span><br><span class="line">            levelList.get(selectedTabPosition).get(lastPosition).setChecked(false);</span><br><span class="line">            &#x2F;&#x2F; é€šè¿‡adapteræ›´æ–°åˆ—è¡¨å•ä¸ªå¯¹è±¡</span><br><span class="line">            addressAdapter.notifyItemChanged(lastPosition);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F; è®¾ç½®ç¬¬å‡ ä¸ªtabçš„æ–‡å­—</span><br><span class="line">    private void setTabText(int tabPosition, String text) &#123;</span><br><span class="line">        TabLayout.Tab tab &#x3D; tabLayout.getTabAt(tabPosition);</span><br><span class="line">        if (null !&#x3D; tab) tab.setText(text);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; -----------------------------  ä»¥ä¸‹æ˜¯å¯¹å¤–å…¬å¼€æ–¹æ³•ä¸æ¥å£  --------------------------</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     *  è®¾ç½®Dialogçš„æ ‡é¢˜</span><br><span class="line">     * @param title æ ‡é¢˜æ–‡å­—</span><br><span class="line">     *&#x2F;</span><br><span class="line">    public void setDialogTitle(String title) &#123;</span><br><span class="line">        this.title &#x3D; title;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     *  è®¾ç½®åœ¨å½“å‰tabä¸‹è¿˜æœªé€‰æ‹©åŒºåŸŸæ—¶å€™tabé»˜è®¤æ˜¾ç¤ºçš„æ–‡å­—</span><br><span class="line">     * @param tabDefaultText é»˜è®¤æ˜¾ç¤ºçš„æ–‡å­—</span><br><span class="line">     *&#x2F;</span><br><span class="line">    public void setTabDefaultText(String tabDefaultText) &#123;</span><br><span class="line">        this.tabText &#x3D; tabDefaultText;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     *  è®¾ç½®åœ°å€æœ€å¤§çº§åˆ«ï¼ˆå¦‚ï¼šçœï¼Œå¸‚ï¼Œå¿ï¼Œé•‡çš„è¯å°±æ˜¯æœ€å¤§4çº§ï¼‰</span><br><span class="line">     * @param level æœ€å¤§çº§åˆ«</span><br><span class="line">     *&#x2F;</span><br><span class="line">    public void setMaxLevel(int level) &#123;</span><br><span class="line">        this.maxLevel &#x3D; level;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     *  è®¾ç½®å½“å‰çº§åˆ«åˆ—è¡¨éœ€è¦æ˜¾ç¤ºçš„åˆ—è¡¨æ•°æ®</span><br><span class="line">     * @param list åˆ—è¡¨æ•°æ®</span><br><span class="line">     * @param level åœ°åŒºçº§åˆ«</span><br><span class="line">     *&#x2F;</span><br><span class="line">    public void setCurrentAddressList(List&lt;AddressItem&gt; list, int level) &#123;</span><br><span class="line">        levelList.put(level, list);</span><br><span class="line">        addressAdapter.setList(list);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     *  è®¾ç½®Dialogä¸­Tabç‚¹å‡»åˆ‡æ¢çš„ç›‘å¬</span><br><span class="line">     * @param listener tabåˆ‡æ¢ç›‘å¬å®ç°</span><br><span class="line">     *&#x2F;</span><br><span class="line">    public void setTabSelectChangeListener(@NonNull TabSelectChangeListener listener) &#123;</span><br><span class="line">        this.changeListener &#x3D; listener;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     *  è‡ªå®šä¹‰çš„Tabåˆ‡æ¢ç›‘å¬æ¥å£</span><br><span class="line">     *&#x2F;</span><br><span class="line">    public interface TabSelectChangeListener &#123;</span><br><span class="line">        void onSelectChange(int level, int parentId);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>ä½¿ç”¨æ–¹æ³•ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">private void init() &#123;</span><br><span class="line">    mDialog &#x3D; new AddressBottomSheetDialog(this);</span><br><span class="line">    mDialog.setDialogTitle(&quot;é…é€è‡³&quot;);</span><br><span class="line">    mDialog.setMaxLevel(4);</span><br><span class="line">    mDialog.setTabDefaultText(&quot;è¯·é€‰æ‹©&quot;);</span><br><span class="line">    mDialog.setTabSelectChangeListener((level, parentId) -&gt;</span><br><span class="line">            mDialog.setCurrentAddressList(requestAddress(level, parentId), level)</span><br><span class="line">    );</span><br><span class="line">    binding.userIvSelectAddress.setOnClickListener(v -&gt; mDialog.show());</span><br><span class="line">&#125;</span><br><span class="line">private List&lt;AddressItem&gt; requestAddress(int level, int parentID) &#123;</span><br><span class="line">    List&lt;AddressItem&gt; list &#x3D; new ArrayList&lt;&gt;();</span><br><span class="line">    String levelTxt &#x3D; &quot;æœªçŸ¥&quot;;</span><br><span class="line">    switch (level) &#123;</span><br><span class="line">        case 0:</span><br><span class="line">            levelTxt &#x3D; &quot;çœçº§&quot;;</span><br><span class="line">            break;</span><br><span class="line">        case 1:</span><br><span class="line">            levelTxt &#x3D; &quot;å¸‚çº§&quot;;</span><br><span class="line">            break;</span><br><span class="line">        case 2:</span><br><span class="line">            levelTxt &#x3D; &quot;å¿çº§&quot;;</span><br><span class="line">            break;</span><br><span class="line">        case 3:</span><br><span class="line">            levelTxt &#x3D; &quot;é•‡çº§&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    for (int i &#x3D; 0; i &lt; 32; i++) &#123;</span><br><span class="line">        AddressItem item &#x3D; new AddressItem();</span><br><span class="line">        item.setChecked(false);</span><br><span class="line">        item.setAddress(levelTxt + i);</span><br><span class="line">        list.add(item);</span><br><span class="line">    &#125;</span><br><span class="line">    return list;</span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3>è™½ç„¶ä¸Šé¢çš„ä»£ç å·²ç»æœ‰å¾ˆè¯¦ç»†çš„æ³¨é‡Šï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰ä¸€äº›ä¸œè¥¿æ²¡ç»†è®²ï¼Œæ¯”å¦‚SparseArrayæ˜¯ä»€ä¹ˆç­‰ç­‰ã€‚</li><li>SparseArrayæ˜¯ä»€ä¹ˆï¼ŸSparseArrayåé¢éœ€è¦ä¸€ä¸ªæ³›å‹ï¼ŒSparseArray<T>ï¼Œå¯ä»¥ç†è§£ä¸ºæ˜¯HashMap&lt;Integer, T&gt;ã€‚ä½†æ˜¯ä¸ºä»€ä¹ˆä¸ç”¨HashMapè€Œä½¿ç”¨è¿™ä¸ªä¸œè¥¿ï¼ŸSparseArrayæ˜¯è°·æ­Œä¸“é—¨ä¸ºå®‰å“æ‰“é€ çš„Mapï¼Œä¼˜ç‚¹æ˜¯çœå†…å­˜ï¼Œå ç”¨å†…å­˜æ²¡HashMapå¤§ã€‚ä¹‹å‰æˆ‘çš„åšæ³•æ˜¯çœçº§åˆ—è¡¨æ•°æ®ä¸€ä¸ªlistï¼Œå¸‚çº§ä¸€ä¸ªlistã€‚ã€‚ã€‚è¿™ç§å†™æ³•ï¼Œä¸ä½†è€¦åˆåº¦é«˜ï¼Œç”¨æˆ·ä¹Ÿä¸èƒ½è‡ªå®šä¹‰æœ€å¤§çš„åœ°åŒºçº§åˆ«æ˜¯å¤šå°‘ï¼Œè€Œä¸”åœ¨å†™æ³•è¿‡ç¨‹ä¸­å°‘ä¸äº†å„ç§switchåˆ¤æ–­ã€‚åæ¥çµæœºä¸€åŠ¨ï¼ŒTabé€‰ä¸­çš„positionå°±æ˜¯ä»£è¡¨çš„ä¸€ä¸ªçº§åˆ«ï¼Œç›´æ¥é€šè¿‡Mapæ¥å–å¯¹åº”çº§åˆ«çš„listå‡ºæ¥ä¸å°±å¥½äº†ã€‚</li><li>SparseIntArrayæ˜¯ä»€ä¹ˆï¼Ÿå…¶å®å®ƒå°±ç›¸å½“äºSparseArray<Integer>ï¼Œè°·æ­Œè¿˜ä¸ºæˆ‘ä»¬å°è£…äº†å…¶ä»–åŸºæœ¬æ•°æ®ç±»å‹çš„SparseArrayï¼Œå®ƒä»¬å°±æ˜¯SparseBooleanArrayå’ŒSparseLongArrayï¼Œç”¨æ³•éƒ½æ˜¯ç›¸ä¼¼çš„ã€‚</li><li>ä¸ºä»€ä¹ˆä¸ä½¿ç”¨ä¸€ä¸ªæˆå‘˜å˜é‡æ¥è®°å½•å½“å‰é€‰ä¸­çš„tabçš„positionï¼Œç„¶ååœ¨onTabSelectedä¸­æ›´æ–°è¯¥æˆå‘˜å˜é‡ï¼Ÿä¹‹å‰æˆ‘æ˜¯è¿™ä¹ˆåšçš„ï¼Œä½†æ˜¯ä¼šå‡ºå¥‡æ€ªçš„é—®é¢˜ï¼šåœ¨å¸‚çº§é‡æ–°é€‰æ‹©ä¹‹åï¼Œç§»é™¤åé¢çš„tabåå†é‡æ–°é€‰å¿çº§ä¹‹åï¼ŒTabLayoutçš„æ¨ªçº¿ä¸ä¼šç§»åŠ¨åˆ°é•‡çº§ä¸Šäº†ã€‚ä¸çŸ¥é“ä»€ä¹ˆåŸå› é€ æˆçš„ï¼ŒçŒœæµ‹å¯èƒ½æ˜¯onTabSelectedè§¦å‘æ—¶æœºé€ æˆé€‰ä¸­çš„Tabçš„positionæ›´æ–°ä¸åŠæ—¶ã€‚å¦‚æœæœ‰çŸ¥é“çš„æ—å‹è¿˜æœ›ä¸åèµæ•™ã€‚å¦‚ä¸‹å›¾ï¼š<br><img src="/images/%E5%9C%B0%E5%9D%80%E9%80%89%E6%8B%A9%E5%99%A8%E4%B9%8B%E5%89%8D%E5%87%BA%E7%8E%B0%E7%9A%84%E9%97%AE%E9%A2%98.gif" alt="åœ°å€é€‰æ‹©å™¨ä¹‹å‰å‡ºç°çš„é—®é¢˜"></li></ol><h4 id="20190422æ›´æ–°"><a href="#20190422æ›´æ–°" class="headerlink" title="20190422æ›´æ–°"></a>20190422æ›´æ–°</h4><ol><li>å°†AddressItemä¸­çš„IDä¿®æ”¹ä¸ºObjectç±»å‹ï¼Œä»¥é€‚é…ä¸åŒä¸šåŠ¡æ•°æ®ï¼Œå…¶ä»–åœ°æ–¹ä¹Ÿè¿›è¡Œäº†ç›¸åº”çš„ä¿®æ”¹</li><li>æ·»åŠ å…¨éƒ¨åœ°åŒºé€‰æ‹©å®Œæˆç»“æœå›è°ƒäº‹ä»¶</li><li>ä¿®æ”¹ä¸€äº›ä»£ç é€»è¾‘ï¼Œæœ‰å…´è¶£æ”¹å–„çš„è¯·Pull request</li></ol>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;å…¬å¸æ­£åœ¨å¼€å‘ä¸€ä¸ªå•†åŸé¡¹ç›®ï¼Œå› ä¸ºé¡¹ç›®éœ€è¦ï¼Œåšäº†ä¸€ä¸ªä»¿æ‹¼å¤šå¤šçš„åœ°å€é€‰æ‹©å™¨ï¼Œä½†æ˜¯ä¸æ‹¼å¤šå¤šå®ç°æ–¹æ³•æœ‰äº›å‡ºå…¥ï¼Œå¤§ä½“æ•ˆæœæ˜¯å·®ä¸å¤šçš„ã€‚&lt;br&gt;ï¼ˆ2019å¹´04æœˆ22æ—¥æ›´æ–°ï¼‰æœ€åå†³å®šè¿˜æ˜¯å•ç‹¬æå–å‡ºæ¥åšä¸ªdemoç»™å¤§å®¶å‚è€ƒå‚è€ƒï¼Œåœ°å€ï¼š&lt;a href=&quot;https://github.com/cyixlq/AddressPickerDialog&quot;&gt;https://github.com/cyixlq/AddressPickerDialog&lt;/a&gt;&lt;br&gt;åºŸè¯ä¸å¤šè¯´ï¼Œå…ˆä¸Šä¸€å¼ æ•ˆæœåŠ¨å›¾ï¼š&lt;br&gt;&lt;img src=&quot;/images/%E5%9C%B0%E5%9D%80%E9%80%89%E6%8B%A9%E5%99%A8%E6%95%88%E6%9E%9C%E5%9B%BE.gif&quot; alt=&quot;åœ°å€é€‰æ‹©å™¨æ•ˆæœå›¾.gif&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Android" scheme="https://www.cyixlq.top/categories/Android/"/>
    
    
    <category term="è‡ªå®šä¹‰Viewå®æˆ˜" scheme="https://www.cyixlq.top/tags/%E8%87%AA%E5%AE%9A%E4%B9%89View%E5%AE%9E%E6%88%98/"/>
    
  </entry>
  
  <entry>
    <title>è‡ªå®šä¹‰ä¸€ä¸ªä¸‹æ‹‰åˆ·æ–°æ§ä»¶</title>
    <link href="https://www.cyixlq.top/2019/02/19/refresh-layout/"/>
    <id>https://www.cyixlq.top/2019/02/19/refresh-layout/</id>
    <published>2019-02-19T10:01:46.000Z</published>
    <updated>2021-04-12T02:26:47.525Z</updated>
    
    <content type="html"><![CDATA[<p>ç¬¬ä¸€æ¬¡å°è¯•å†™ä¸€ä¸ªä¸‹æ‹‰åˆ·æ–°æ§ä»¶ï¼Œä¸€å¼€å§‹çš„ç›®çš„åªæ˜¯æƒ³äº†è§£dispatchTouchEventï¼ŒonInterceptTouchEventå’ŒonTouchEventè¿™å‡ ä¸ªäº‹ä»¶çš„åˆ†åˆ«ï¼Œæ²¡æƒ³åˆ°æœ€åç«Ÿç„¶å†™äº†ä¸€ä¸ªåˆ·æ–°æ§ä»¶ã€‚å¥½çš„ï¼ŒåºŸè¯ä¸å¤šè¯´ï¼Œå…ˆæ¥çœ‹çœ‹æ•ˆæœå›¾ï¼š<br><img src="/images/%E8%87%AA%E5%AE%9A%E4%B9%89%E4%B8%8B%E6%8B%89%E5%88%B7%E6%96%B0%E6%95%88%E6%9E%9C%E5%9B%BE.gif" alt="è‡ªå®šä¹‰ä¸‹æ‹‰åˆ·æ–°æ•ˆæœå›¾.gif"></p><span id="more"></span><p>é¦–å…ˆï¼Œæˆ‘ä»¬è¿˜æ˜¯éœ€è¦ææ¸…æ¥šæˆ‘ä¸Šé¢è¯´çš„è¿™ä¸‰ä¸ªäº‹ä»¶ï¼š</p><ol><li>å…ˆæ¥çœ‹dispatchTouchEventï¼Œè¿™ä¸ªäº‹ä»¶æ˜¯ç”¨æ¥åˆ†å‘touchäº‹ä»¶çš„ï¼Œä»Activityä¸­çš„çª—å£å¼€å§‹è¿›è¡Œäº‹ä»¶åˆ†å‘ï¼Œé¦–å…ˆåˆ°æ ¹Viewï¼Œå†åˆ°æ ¹Viewçš„å­Viewä¾æ¬¡ä¼ é€’ã€‚åœ¨æˆ‘çš„æµ‹è¯•ä¸­ï¼Œæ— è®ºæ˜¯è¿”å›trueè¿˜æ˜¯falseï¼Œéƒ½æ— æ³•å°†touchäº‹ä»¶åˆ†å‘åˆ°ä¸‹ä¸€çº§ï¼Œä¹Ÿå°±æ˜¯å­Viewã€‚è¿™ä¸ªé—®é¢˜ä¹Ÿå›°æ‰°äº†æˆ‘åŠå¤©ã€‚çœ‹äº†åˆ«äººè‡ªå®šä¹‰çš„ä¸‹æ‹‰åˆ·æ–°æ§ä»¶ï¼Œå¥½åƒéƒ½æ²¡æœ‰é‡å†™è¿™ä¸ªæ–¹æ³•ã€‚å› æ­¤ï¼Œä¸ªäººçš„åšæ³•è¿˜æ˜¯å°†æ­¤äº‹ä»¶äº¤ç»™çˆ¶ç±»å¤„ç†ã€‚å¯¹äºè¿™ä¸ªäº‹ä»¶æˆ‘è§‰å¾—æˆ‘ä¸ªäººè¿˜å¾—å¤šäº†è§£äº†è§£ï¼</li><li>å…¶æ¬¡çœ‹çœ‹onInterceptTouchEventäº‹ä»¶ï¼Œè¿™ä¸ªæ–¹æ³•å°±æ˜¯æ‹¦æˆªtouchäº‹ä»¶ï¼Œä½ å¯ä»¥æ ¹æ®touchçš„äº‹ä»¶ç±»å‹åˆ†åˆ«è¿›è¡Œæ‹¦æˆªï¼Œæœ¬ä¾‹ä¸­ä¸‹æ‹‰åˆ·æ–°æ§ä»¶å°±éœ€è¦åˆ©ç”¨æ­¤ç‰¹æ€§ã€‚è¿”å›falseä»£è¡¨ä¸æ‹¦æˆªï¼Œè¿”å›trueä»£è¡¨æ‹¦æˆªã€‚</li><li>onTouchEventäº‹ä»¶çš„ä½œç”¨å°±æ˜¯å¤„ç†touchäº‹ä»¶ï¼Œå¦‚æœæ­¤Viewä¸­æ²¡æœ‰ä¸‹ä¸€çº§å¹¶ä¸”ä¸Šä¸€çº§æ²¡æœ‰å¯¹touchäº‹ä»¶è¿›è¡Œæ‹¦æˆªæˆ–è€…æ­¤Viewä¸­å¯¹touchäº‹ä»¶è¿›è¡Œäº†æ‹¦æˆªï¼Œtouchäº‹ä»¶æœ€ç»ˆå°±ä¼šåœ¨æ­¤äº‹ä»¶ä¸­å¤„ç†ï¼Œå¦‚æœä¸å¤„ç†çš„è¯å°±è¿”å›falseï¼Œå°±ä¼šè¿”å›åˆ°ä¸Šä¸€çº§å¤„ç†ã€‚å¦‚æœå¤„ç†äº†åˆ™è¿”å›trueï¼Œè¿™æ ·çš„è¯å°±ä¸ä¼šè¿”å›åˆ°ä¸Šä¸€çº§å¤„ç†ã€‚<h5 id="å¼€å§‹æˆ‘ä»¬çš„è‡ªå®šä¹‰ä¸‹æ‹‰åˆ·æ–°View"><a href="#å¼€å§‹æˆ‘ä»¬çš„è‡ªå®šä¹‰ä¸‹æ‹‰åˆ·æ–°View" class="headerlink" title="å¼€å§‹æˆ‘ä»¬çš„è‡ªå®šä¹‰ä¸‹æ‹‰åˆ·æ–°View"></a>å¼€å§‹æˆ‘ä»¬çš„è‡ªå®šä¹‰ä¸‹æ‹‰åˆ·æ–°View</h5>æˆ‘ä»¬å…ˆæ¥ç†ä¸€ç†ä¸‹æ‹‰åˆ·æ–°çš„é€»è¾‘ã€‚é¦–å…ˆå¦‚æœç”¨æˆ·æ‰‹æŒ‡å‘ä¸Šæ»‘åŠ¨ï¼Œæˆ‘ä»¬ä¸éœ€è¦è¿›è¡Œäº‹ä»¶çš„æ‹¦æˆªï¼Œäº¤ç»™å­Viewå¤„ç†ã€‚å¦‚æœç”¨æˆ·æ‰‹æŒ‡æ˜¯å‘ä¸‹æ»‘åŠ¨çš„æ—¶å€™å°±è¦è¿›è¡Œå¤„ç†äº†ã€‚é¦–å…ˆè¦çœ‹çœ‹åˆ·æ–°æ§ä»¶ä¸­çš„å­Viewèƒ½ä¸èƒ½ç»§ç»­å‘ä¸Šæ»šåŠ¨ï¼Œä¹Ÿå°±æ˜¯è¯´å­Viewæœ‰æ²¡æœ‰æ»šåŠ¨åˆ°é¡¶ï¼Œå¦‚æœåˆ°é¡¶äº†ï¼Œç”¨æˆ·ç»§ç»­å‘ä¸‹æ»‘åŠ¨çš„è¯å°±å¼€å§‹æ˜¾ç¤ºå¤´éƒ¨çš„åˆ·æ–°è§†å›¾ã€‚è‡³äºæ˜¯åˆ°é¡¶åï¼Œæ‹¿å¼€æ‰‹æŒ‡åå†ä¸‹æ‹‰æ˜¾ç¤ºåˆ·æ–°è§†å›¾è¿˜æ˜¯åˆ°é¡¶åç›´æ¥ç»§ç»­ä¸‹æ‹‰å°±å¯ä»¥æ˜¾ç¤ºåˆ·æ–°è§†å›¾å°±çœ‹é¡¹ç›®éœ€è¦äº†ã€‚æˆ‘æ˜¯å®ç°çš„å‰è€…ã€‚ç„¶åå°±æ˜¯æ˜¾ç¤ºåˆ·æ–°è§†å›¾åï¼Œç”¨æˆ·ä¸‹æ‹‰å¤šå°‘ï¼Œé¡¶éƒ¨å°±æœ‰å¤šå°‘ç•™ç™½ï¼Œç„¶åæç¤ºæ–‡å­—å§‹ç»ˆåœ¨ç•™ç™½çš„æœ€ä¸­é—´ä½ç½®ã€‚ä¸‹æ‹‰åˆ°ä¸€å®šä½ç½®æç¤ºæ¾æ‰‹å¼€å§‹åˆ·æ–°ã€‚å½“ä¸‹æ‹‰åˆ°æœ€å¤§è·ç¦»ï¼Œç•™ç™½ä¸å†åŠ å¤§ã€‚æœ€åæ¾æ‰‹ï¼Œç•™ç™½å‡å°‘ï¼Œå¹¶ä¸”æç¤ºæ­£åœ¨åˆ·æ–°ï¼Œæœ€åæç¤ºåˆ·æ–°ç»“æœã€‚</li></ol><p>é¦–å…ˆæˆ‘å®šä¹‰äº†ä¸€äº›å˜é‡æ¥è®°å½•ä¸€äº›éœ€è¦ç”¨åˆ°çš„å€¼ï¼Œå˜é‡è¯´æ˜éƒ½åœ¨æ³¨é‡Šä¸­ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; æ¯æ¬¡è§¦æ‘¸äº‹ä»¶ä¸­ç¬¬ä¸€æ¬¡æ¥è§¦å±å¹•çš„Yåæ ‡</span><br><span class="line">private float downY;</span><br><span class="line">&#x2F;&#x2F; æ‰‹æŒ‡åœ¨Yè½´çš„æ»‘åŠ¨è·ç¦»</span><br><span class="line">private float dY;</span><br><span class="line">&#x2F;&#x2F; åœ¨åˆ·æ–°å¸ƒå±€ä¸­çš„å­View</span><br><span class="line">private View mTarget;</span><br><span class="line">&#x2F;&#x2F; æœ€å¤§Yè½´æ»‘åŠ¨è·ç¦»</span><br><span class="line">private float maxDY &#x3D; 300;</span><br><span class="line">&#x2F;&#x2F; å¤´éƒ¨View</span><br><span class="line">private View headerView;</span><br><span class="line">&#x2F;&#x2F; ä¸‹æ‹‰å¼€å§‹æ—¶æ˜¾ç¤ºçš„æ–‡å­—</span><br><span class="line">private String readyText &#x3D; &quot;ä¸‹æ‹‰å¼€å§‹åˆ·æ–°&quot;;</span><br><span class="line">&#x2F;&#x2F; ä¸‹æ‹‰åˆ°è§¦å‘åˆ·æ–°çš„ä¸‹æ‹‰è·ç¦»ä¹‹åçš„æç¤ºæ–‡å­—</span><br><span class="line">private String refreshOkText &#x3D; &quot;æ¾å¼€å¼€å§‹åˆ·æ–°&quot;;</span><br><span class="line">&#x2F;&#x2F; æ­£åœ¨åˆ·æ–°æ—¶å€™æé†’çš„æ–‡å­—</span><br><span class="line">private String refreshingText &#x3D; &quot;æ­£åœ¨åˆ·æ–°&quot;;</span><br><span class="line">&#x2F;&#x2F; åˆ·æ–°æˆåŠŸçš„æç¤ºæ–‡å­—</span><br><span class="line">private String refreshSuc &#x3D; &quot;åˆ·æ–°æˆåŠŸï¼&quot;;</span><br><span class="line">&#x2F;&#x2F; åˆ·æ–°å¤±è´¥æé†’çš„æ–‡å­—</span><br><span class="line">private String refreshFail &#x3D; &quot;åˆ·æ–°å¤±è´¥ï¼&quot;;</span><br><span class="line">&#x2F;&#x2F; è§¦å‘åˆ·æ–°çš„è·ç¦»</span><br><span class="line">private float refreshDist &#x3D; maxDY &#x2F; 2;</span><br><span class="line">&#x2F;&#x2F; æ»‘åŠ¨å¤šå°‘è·ç¦»æ‰ç®—æ˜¯æ»‘åŠ¨ï¼Œå¦åˆ™æœ‰æ—¶å€™æ˜¯ç‚¹å‡»ä¹Ÿä¼šè¯¯è§¦å‘æ»‘åŠ¨</span><br><span class="line">private int minDist;</span><br><span class="line">&#x2F;&#x2F; æ˜¯å¦è§¦å‘äº†åˆ·æ–°</span><br><span class="line">private boolean canRefresh &#x3D; false;</span><br><span class="line">&#x2F;&#x2F; æ­£åœ¨åˆ·æ–°ï¼Ÿ</span><br><span class="line">private boolean isRefreshing &#x3D; false;</span><br><span class="line">&#x2F;&#x2F; æ§ä»¶çŠ¶æ€ç›‘å¬</span><br><span class="line">private RefreshStateListender listener;</span><br><span class="line">&#x2F;&#x2F; çŠ¶æ€è¡¨ç¤ºä»£ç </span><br><span class="line">private final int READY_REFRESH &#x3D; 0; &#x2F;&#x2F; åˆšå¼€å§‹ä¸‹æ‹‰æ—¶å€™çš„çŠ¶æ€</span><br><span class="line">private final int CAN_REFRESH &#x3D; 1; &#x2F;&#x2F; å·²ç»å¯ä»¥è§¦å‘åˆ·æ–°çš„çŠ¶æ€</span><br><span class="line">private final int ON_REFRESH &#x3D; 2; &#x2F;&#x2F; æ­£åœ¨åˆ·æ–°çš„çŠ¶æ€</span><br><span class="line">private final int ON_FINISH &#x3D; 3; &#x2F;&#x2F; åˆ·æ–°å®Œæˆçš„çŠ¶æ€</span><br></pre></td></tr></table></figure><p>æ¥ç€æˆ‘ä»¬å°±è¦æ¥å¤„ç†ä¸€ä¸‹äº‹ä»¶çš„æ‹¦æˆªï¼Œä»æˆ‘ä»¬ä¸Šé¢ç†å¥½çš„é€»è¾‘ä¸­çŸ¥é“ï¼Œæˆ‘ä»¬ä¸»è¦å¤„ç†ç”¨æˆ·ä¸‹æ‹‰æ‰‹åŠ¿ã€‚é¦–å…ˆæˆ‘ä»¬å°±åº”å½“çŸ¥é“ç”¨æˆ·åˆ°åº•æ˜¯åœ¨ä¸Šæ‹‰è¿˜æ˜¯åœ¨ä¸‹æ‹‰ã€‚æˆ‘çš„åšæ³•æ˜¯ï¼Œå½“ç”¨æˆ·ç¬¬ä¸€æ¬¡è§¦æ‘¸åˆ°å±å¹•çš„æ—¶å€™ï¼Œæˆ‘è®°å½•ä¸‹è¿™ä¸ªç‚¹çš„Yè½´ä½ç½®ä¸ºåˆå§‹Yè½´ä½ç½®ï¼Œç„¶ååœ¨ç”¨æˆ·çš„æ»‘åŠ¨è¿‡ç¨‹ä¸­ï¼Œè·å–æ»‘åŠ¨çš„ç‚¹çš„Yè½´ä½ç½®å‡å»åˆå§‹Yè½´ä½ç½®ã€‚å¦‚æœç»“æœä¸ºè´Ÿæ•°ï¼Œä»£è¡¨æ˜¯ä¸Šæ‹‰ï¼Œå¦‚æœæ˜¯æ­£æ•°å°±ä»£è¡¨ä¸‹æ‹‰ç„¶åå¯¹äº‹ä»¶è¿›è¡Œæ‹¦æˆªã€‚ä½†æ˜¯ï¼Œæˆ‘åœ¨å®ç°è¿‡ç¨‹ä¸­å‘ç°ä¸èƒ½é€šè¿‡åˆ¤æ–­æ­£è´Ÿæ‹¦æˆªï¼Œå› ä¸ºç‚¹å‡»ä¹Ÿæ˜¯å±äºtouchäº‹ä»¶çš„ä¸€ç§ï¼Œä½†æ˜¯ä½ ä¸èƒ½ç¡®ä¿åœ¨ç”¨æˆ·çš„ç‚¹å‡»è¿‡ç¨‹ä¸­ä¼šå‘ç”Ÿä¸€ç‚¹ç‚¹çš„æ»‘åŠ¨ï¼Œè¿™æ ·å°±ä¼šé€ æˆå­Viewçš„ç‚¹å‡»äº‹ä»¶ä¹Ÿå¯èƒ½ä¼šè¢«æ‹¦æˆªã€‚å› æ­¤Androidæä¾›äº†ä¸€ä¸ªå€¼ï¼Œæ»‘åŠ¨è·ç¦»å°äºè¿™ä¸ªå€¼ä¼šè¢«ç³»ç»Ÿè®¤ä¸ºæ˜¯ç‚¹å‡»ï¼Œå¤§äºè¿™ä¸ªå€¼ç³»ç»Ÿä¼šè®¤ä¸ºè¿™æ˜¯æ»‘åŠ¨ã€‚æ ¹æ®ROMçš„ä¸åŒï¼Œè¿™ä¸ªå€¼ä¹Ÿä¼šä¸åŒã€‚å°±åƒä¸Šé¢ä»£ç ä¸­ï¼Œæˆ‘ç”¨<code>minDist</code>è¿™ä¸ªå˜é‡å°†å€¼ä¿å­˜ä¸‹æ¥ï¼Œè·å–è¿™ä¸ªå€¼çš„æ–¹æ³•æ˜¯ï¼š<code>minDist = ViewConfiguration.get(context).getScaledTouchSlop()</code>ã€‚ç„¶åæˆ‘ä»¬é€šè¿‡åˆ¤æ–­æ»‘åŠ¨çš„ç‚¹çš„Yè½´ä½ç½®å‡å»åˆå§‹Yè½´ä½ç½®æ˜¯å¦å¤§äºminDistæ¥åˆ¤æ–­ä¸Šæ‹‰è¿˜æ˜¯ä¸‹æ‹‰ã€‚æœ€åè¯´ä¸€ä¸‹ï¼ŒAndroidå¥½åƒæä¾›äº†åˆ¤æ–­ç”¨æˆ·æ˜¯ä¸Šæ‹‰è¿˜æ˜¯ä¸‹æ‹‰çš„æ–¹æ³•ï¼Œæˆ‘è¿˜æ²¡å»ç ”ç©¶ï¼Œæš‚æ—¶å…ˆè¿™æ ·å¤„ç†ã€‚è¿˜ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æ€ä¹ˆçŸ¥é“å­Viewæ˜¯å¦æ»‘åŠ¨åˆ°äº†é¡¶éƒ¨å‘¢ï¼Ÿæˆ‘ä¸ºæ­¤ç‰¹æ„çœ‹äº†ä¸€ä¸‹Androidä¸­SwipeRefreshLayoutçš„æºç ï¼Œå…¶ä¸­æœ‰ä¸€ä¸²ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">private boolean canChildScrollUp() &#123;</span><br><span class="line">    return this.mTarget instanceof ListView ? ListViewCompat.canScrollList((ListView)this.mTarget, -1) : this.mTarget.canScrollVertically(-1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸²ä»£ç å°±æ˜¯åˆ¤æ–­å­Viewæ˜¯å¦èƒ½å‘ä¸Šæ»šåŠ¨ï¼Œæºç ä¸­è¿˜æœ‰ä¸€å±‚æˆ‘æ²¡æ‘˜å½•ä¸‹æ¥ï¼Œæˆ‘å°±è§‰å¾—è¿™æ®µå¯¹æˆ‘æœ‰ç”¨ã€‚<br>ç„¶åï¼Œæˆ‘ä»¬è¿˜éœ€è¦æŠŠå­Viewä¿å­˜ä¸‹æ¥ï¼Œä¸ç„¶<code>this.mTarget</code>å°±æ˜¯ç©ºæŒ‡é’ˆï¼Œä»£ç å¦‚ä¸‹(SwipeRefreshLayoutä¹Ÿæ˜¯ç±»ä¼¼åšæ³•)ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">private void ensureTarget() &#123;</span><br><span class="line">    if (this.mTarget &#x3D;&#x3D; null) &#123;</span><br><span class="line">        final int count &#x3D; this.getChildCount();</span><br><span class="line">        for (int i &#x3D; 0; i &lt; count; i++) &#123;</span><br><span class="line">            View childView &#x3D; getChildAt(i);</span><br><span class="line">            if (!headerView.equals(childView)) &#123;</span><br><span class="line">                this.mTarget &#x3D; childView;</span><br><span class="line">                if (mTarget.getBackground() &#x3D;&#x3D; null) &#123;</span><br><span class="line">                    mTarget.setBackgroundColor(Color.WHITE);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Override</span><br><span class="line">protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) &#123;</span><br><span class="line">    super.onMeasure(widthMeasureSpec, heightMeasureSpec);</span><br><span class="line">    this.ensureTarget();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Override</span><br><span class="line">protected void onLayout(boolean changed, int left, int top, int right, int bottom) &#123;</span><br><span class="line">    super.onLayout(changed, left, top, right, bottom);</span><br><span class="line">    this.ensureTarget();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆªä¸‹æ¥æ‹¦æˆªä¸‹æ¥çš„äº‹ä»¶çš„å¤„ç†äº†ï¼Œä»è¿™ä¸€æ®µå¼€å¤´ç†çš„é€»è¾‘ä¸­çŸ¥é“ï¼Œä¸‹æ‹‰åˆ°ä¸€å®šä½ç½®æ‰èƒ½è§¦å‘åˆ·æ–°ï¼Œå¦‚æœå¤„äºåˆ·æ–°çŠ¶æ€å†ä¸‹æ‹‰ä»€ä¹ˆçš„å°±å…¨éƒ¨ç”±å­Viewå¤„ç†ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">public boolean onTouchEvent(MotionEvent event) &#123;</span><br><span class="line">    int action &#x3D; event.getAction();</span><br><span class="line">    if (action &#x3D;&#x3D; MotionEvent.ACTION_MOVE) &#123;</span><br><span class="line">        dY &#x3D; event.getY() - downY;</span><br><span class="line">        if ((dY &gt;&#x3D; minDist &amp;&amp; dY &lt;&#x3D; maxDY) &amp;&amp; !isRefreshing) &#123; &#x2F;&#x2F; å¦‚æœæ²¡æœ‰æ­£åœ¨åˆ·æ–°å¹¶ä¸”æ˜¯ä¸‹æ‹‰çŠ¶æ€ï¼Œå¹¶ä¸”æ²¡æœ‰è¶…è¿‡æœ€å¤§ä¸‹æ‹‰è·ç¦»</span><br><span class="line">            mTarget.setTranslationY(dY);</span><br><span class="line">            if (dY &gt; headerView.getMeasuredHeight()) &#123; &#x2F;&#x2F; ä¸‹æ‹‰è·ç¦»è¶…è¿‡headerViewçš„é«˜åº¦ï¼ŒheaderViewåœ¨Yè½´å°±è¦å¼€å§‹ç§»åŠ¨</span><br><span class="line">                headerView.setTranslationY((dY - headerView.getMeasuredHeight()) &#x2F; 2);</span><br><span class="line">            &#125;</span><br><span class="line">            if (dY &gt; refreshDist) &#123; &#x2F;&#x2F; å·²ç»åˆ°äº†å¯ä»¥è§¦å‘åˆ·æ–°çš„ä¸‹æ‹‰è·ç¦»</span><br><span class="line">                configHeaderView(refreshOkText, CAN_REFRESH);</span><br><span class="line">                canRefresh &#x3D; true;</span><br><span class="line">            &#125; else &#123; &#x2F;&#x2F; å·²ç»ä¸‹æ‹‰ä½†æ˜¯è¿˜æ²¡åˆ°å¯ä»¥è§¦å‘åˆ·æ–°çš„è·ç¦»</span><br><span class="line">                configHeaderView(readyText, READY_REFRESH);</span><br><span class="line">                canRefresh &#x3D; false;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else if (action &#x3D;&#x3D; MotionEvent.ACTION_UP) &#123; &#x2F;&#x2F; æ¾æ‰‹è§¦å‘åˆ·æ–°</span><br><span class="line">        if (dY &gt; maxDY) &#123;</span><br><span class="line">            dY &#x3D; maxDY;</span><br><span class="line">        &#125;</span><br><span class="line">        if (dY &gt; minDist) &#123;</span><br><span class="line">            if (!canRefresh &amp;&amp; !isRefreshing) &#123; &#x2F;&#x2F; å¦‚æœè¿˜ä¸èƒ½è§¦å‘åˆ·æ–°å¹¶ä¸”æ²¡æœ‰æ­£åœ¨åˆ·æ–°ï¼Œæ¾æ‰‹çš„è¯å°±å›å¼¹å›å»</span><br><span class="line">                ObjectAnimator.ofFloat(mTarget, &quot;translationY&quot;, dY, 0).setDuration(500).start();</span><br><span class="line">                ObjectAnimator.ofFloat(headerView, &quot;translationY&quot;,</span><br><span class="line">                        (dY - headerView.getMeasuredHeight()) &#x2F; 2, 0)</span><br><span class="line">                        .setDuration(500).start();</span><br><span class="line">            &#125; else if (!isRefreshing)&#123; &#x2F;&#x2F; å¦‚æœå·²ç»èƒ½è§¦å‘åˆ·æ–°å¹¶ä¸”æ²¡æœ‰æ­£åœ¨åˆ·æ–°ï¼Œæ¾æ‰‹çš„è¯å°±å›å¼¹åˆ°æœ€å¤§è·ç¦»çš„ä¸€åŠå¹¶ä¸”æç¤ºæ­£åœ¨åˆ·æ–°</span><br><span class="line">                ObjectAnimator.ofFloat(mTarget, &quot;translationY&quot;, dY, refreshDist).setDuration(500).start();</span><br><span class="line">                ObjectAnimator animator &#x3D; ObjectAnimator.ofFloat(headerView, &quot;translationY&quot;,</span><br><span class="line">                        (dY - headerView.getMeasuredHeight()) &#x2F; 2, (refreshDist - headerView.getMeasuredHeight()) &#x2F; 2)</span><br><span class="line">                        .setDuration(500);</span><br><span class="line">                animator.addListener(new AnimatorListenerAdapter() &#123;</span><br><span class="line">                            @Override</span><br><span class="line">                            public void onAnimationEnd(Animator animation) &#123;</span><br><span class="line">                                configHeaderView(refreshingText, ON_REFRESH);</span><br><span class="line">                                isRefreshing &#x3D; true;</span><br><span class="line">                                canRefresh &#x3D; false;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;);</span><br><span class="line">                animator.start();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        dY &#x3D; 0;</span><br><span class="line">    &#125;</span><br><span class="line">    return true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€åï¼Œå¯¹å¤–æä¾›åˆ·æ–°å®Œæˆçš„æ¥å£ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">public void refreshFinish(boolean suc) &#123;</span><br><span class="line">    if (suc) &#123;</span><br><span class="line">        configHeaderView(refreshSuc, ON_FINISH, suc);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        configHeaderView(refreshFail, ON_FINISH, suc);</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F; åˆ·æ–°å®Œæˆï¼Œæç¤ºåˆ·æ–°ç»“æœå</span><br><span class="line">    ObjectAnimator animator1 &#x3D; ObjectAnimator.ofFloat(mTarget, &quot;translationY&quot;, refreshDist, 0);</span><br><span class="line">    animator1.setDuration(200).setStartDelay(500);</span><br><span class="line">    animator1.start();</span><br><span class="line">    ObjectAnimator animator2 &#x3D; ObjectAnimator.ofFloat(headerView, &quot;translationY&quot;,</span><br><span class="line">            (refreshDist - headerView.getMeasuredHeight()) &#x2F; 2, 0);</span><br><span class="line">    animator2.setDuration(200).setStartDelay(500);</span><br><span class="line">    animator2.addListener(new AnimatorListenerAdapter() &#123;</span><br><span class="line">        @Override</span><br><span class="line">        public void onAnimationEnd(Animator animation) &#123;</span><br><span class="line">            isRefreshing &#x3D; false;</span><br><span class="line">            canRefresh &#x3D; false;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    animator2.start();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿˜æœ‰ä¸€äº›è®¾ç½®åˆ·æ–°ç›‘å¬çš„ä»£ç å¹¶æ²¡æœ‰æ”¾åˆ°æœ¬æ–‡ä¸­è®²è§£ï¼Œè¿™ä¸€éƒ¨åˆ†æ„Ÿè§‰å¾ˆç®€å•ï¼Œå¯ä»¥åˆ°æºç ä¸­æŸ¥çœ‹æ›´å¤šè¯¦ç»†å†…å®¹ï¼Œæ³¨é‡Šä¹Ÿéƒ½å¾ˆè¯¦ç»†ã€‚æºç åœ°å€ï¼š<a href="https://github.com/cyixlq/ViewTest">https://github.com/cyixlq/ViewTest</a></p><h5 id="è‡³æ­¤ï¼Œä¸€ä¸ªç®€å•çš„ä¸‹æ‹‰åˆ·æ–°æ§ä»¶å°±å®Œæˆäº†ï¼è¿™äº›ä»£ç è‚¯å®šè¿˜æ˜¯å¾ˆç¹çï¼Œæœ‰å¾ˆå¤šæœ‰ç”¨çš„APIæˆ‘è¿˜æ²¡ç†Ÿæ‚‰ï¼Œå¸Œæœ›ä»¥åèƒ½æ›´è¿›ä¸€æ­¥ï¼ŒæŠŠä»£ç å†™çš„æ›´ç²¾ç‚¼ã€‚"><a href="#è‡³æ­¤ï¼Œä¸€ä¸ªç®€å•çš„ä¸‹æ‹‰åˆ·æ–°æ§ä»¶å°±å®Œæˆäº†ï¼è¿™äº›ä»£ç è‚¯å®šè¿˜æ˜¯å¾ˆç¹çï¼Œæœ‰å¾ˆå¤šæœ‰ç”¨çš„APIæˆ‘è¿˜æ²¡ç†Ÿæ‚‰ï¼Œå¸Œæœ›ä»¥åèƒ½æ›´è¿›ä¸€æ­¥ï¼ŒæŠŠä»£ç å†™çš„æ›´ç²¾ç‚¼ã€‚" class="headerlink" title="è‡³æ­¤ï¼Œä¸€ä¸ªç®€å•çš„ä¸‹æ‹‰åˆ·æ–°æ§ä»¶å°±å®Œæˆäº†ï¼è¿™äº›ä»£ç è‚¯å®šè¿˜æ˜¯å¾ˆç¹çï¼Œæœ‰å¾ˆå¤šæœ‰ç”¨çš„APIæˆ‘è¿˜æ²¡ç†Ÿæ‚‰ï¼Œå¸Œæœ›ä»¥åèƒ½æ›´è¿›ä¸€æ­¥ï¼ŒæŠŠä»£ç å†™çš„æ›´ç²¾ç‚¼ã€‚"></a>è‡³æ­¤ï¼Œä¸€ä¸ªç®€å•çš„ä¸‹æ‹‰åˆ·æ–°æ§ä»¶å°±å®Œæˆäº†ï¼è¿™äº›ä»£ç è‚¯å®šè¿˜æ˜¯å¾ˆç¹çï¼Œæœ‰å¾ˆå¤šæœ‰ç”¨çš„APIæˆ‘è¿˜æ²¡ç†Ÿæ‚‰ï¼Œå¸Œæœ›ä»¥åèƒ½æ›´è¿›ä¸€æ­¥ï¼ŒæŠŠä»£ç å†™çš„æ›´ç²¾ç‚¼ã€‚</h5>]]></content>
    
    
    <summary type="html">&lt;p&gt;ç¬¬ä¸€æ¬¡å°è¯•å†™ä¸€ä¸ªä¸‹æ‹‰åˆ·æ–°æ§ä»¶ï¼Œä¸€å¼€å§‹çš„ç›®çš„åªæ˜¯æƒ³äº†è§£dispatchTouchEventï¼ŒonInterceptTouchEventå’ŒonTouchEventè¿™å‡ ä¸ªäº‹ä»¶çš„åˆ†åˆ«ï¼Œæ²¡æƒ³åˆ°æœ€åç«Ÿç„¶å†™äº†ä¸€ä¸ªåˆ·æ–°æ§ä»¶ã€‚å¥½çš„ï¼ŒåºŸè¯ä¸å¤šè¯´ï¼Œå…ˆæ¥çœ‹çœ‹æ•ˆæœå›¾ï¼š&lt;br&gt;&lt;img src=&quot;/images/%E8%87%AA%E5%AE%9A%E4%B9%89%E4%B8%8B%E6%8B%89%E5%88%B7%E6%96%B0%E6%95%88%E6%9E%9C%E5%9B%BE.gif&quot; alt=&quot;è‡ªå®šä¹‰ä¸‹æ‹‰åˆ·æ–°æ•ˆæœå›¾.gif&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Android" scheme="https://www.cyixlq.top/categories/Android/"/>
    
    
    <category term="è‡ªå®šä¹‰Viewå®æˆ˜" scheme="https://www.cyixlq.top/tags/%E8%87%AA%E5%AE%9A%E4%B9%89View%E5%AE%9E%E6%88%98/"/>
    
  </entry>
  
  <entry>
    <title>åšå®¢éŸ³ä¹æ­Œå•å¤–é“¾</title>
    <link href="https://www.cyixlq.top/2019/01/30/iframe/"/>
    <id>https://www.cyixlq.top/2019/01/30/iframe/</id>
    <published>2019-01-30T13:03:21.000Z</published>
    <updated>2021-04-12T02:26:11.037Z</updated>
    
    <content type="html"><![CDATA[<h4 id="è¯ä¸å¤šè¯´ï¼Œç›´æ¥å…ˆæ¥çœ‹æ•ˆæœå›¾ï¼š"><a href="#è¯ä¸å¤šè¯´ï¼Œç›´æ¥å…ˆæ¥çœ‹æ•ˆæœå›¾ï¼š" class="headerlink" title="è¯ä¸å¤šè¯´ï¼Œç›´æ¥å…ˆæ¥çœ‹æ•ˆæœå›¾ï¼š"></a>è¯ä¸å¤šè¯´ï¼Œç›´æ¥å…ˆæ¥çœ‹æ•ˆæœå›¾ï¼š</h4><p><img src="/images/%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E6%AD%8C%E5%8D%95%E5%A4%96%E9%93%BE%E6%95%88%E6%9E%9C%E5%9B%BE.png" alt="åšå®¢éŸ³ä¹æ­Œå•å¤–é“¾æ•ˆæœå›¾"></p><span id="more"></span><h4 id="åŠŸèƒ½ç‰¹è‰²ï¼š"><a href="#åŠŸèƒ½ç‰¹è‰²ï¼š" class="headerlink" title="åŠŸèƒ½ç‰¹è‰²ï¼š"></a>åŠŸèƒ½ç‰¹è‰²ï¼š</h4><ol start="0"><li>æ”¯æŒQQéŸ³ä¹ï¼Œç½‘æ˜“äº‘éŸ³ä¹æ­Œå•å¤–é“¾</li><li>ä»¿ç½‘æ˜“äº‘æ­Œå•å¤–é“¾ï¼ˆåŒ…æ‹¬åŠŸèƒ½ï¼‰</li></ol><h4 id="ä½¿ç”¨æ–¹æ³•ï¼š"><a href="#ä½¿ç”¨æ–¹æ³•ï¼š" class="headerlink" title="ä½¿ç”¨æ–¹æ³•ï¼š"></a>ä½¿ç”¨æ–¹æ³•ï¼š</h4><ol start="0"><li><p>éœ€è¦ä¼ å…¥çš„å‚æ•°æœ‰ä¸‰ä¸ªä¾æ¬¡æ˜¯typeï¼Œidï¼Œautoplay</p></li><li><p>é¦–å…ˆç¡®å®šä½ è¦åˆ¶ä½œçš„æ­Œå•å¤–é“¾çš„å¹³å°ï¼Œæš‚æ—¶åªæ”¯æŒQQéŸ³ä¹ï¼Œç½‘æ˜“äº‘éŸ³ä¹è¿™ä¸¤ä¸ªéŸ³ä¹å¹³å°çš„æ­Œå•ã€‚å¦‚æœæ˜¯QQéŸ³ä¹typeå–å€¼tencentï¼Œç½‘æ˜“äº‘éŸ³ä¹å–å€¼neteaseã€‚</p></li><li><p>è·å–ä½ æ­Œå•çš„IDï¼š</p><ul><li><p>QQéŸ³ä¹ï¼š</p><ol><li><p>ç™»å½•ç½‘é¡µQQéŸ³ä¹ï¼Œé€‰æ‹©ä½ éœ€è¦åˆ¶ä½œå¤–é“¾çš„æ­Œå•ï¼Œç‚¹å‡»åˆ†äº«ï¼Œç‚¹å‡»å¤åˆ¶é“¾æ¥ï¼š<br><img src="/images/%E5%A4%8D%E5%88%B6%E5%88%86%E4%BA%AB%E6%AD%8C%E5%8D%95%E9%93%BE%E6%8E%A5.png" alt="å¤åˆ¶åˆ†äº«æ­Œå•é“¾æ¥"></p></li><li><p>å°†å¤åˆ¶å¥½çš„é“¾æ¥ç²˜è´´åˆ°ä»»ä½•å¯ä»¥ç¼–è¾‘çš„åœ°æ–¹ï¼Œç„¶åå°†é“¾æ¥ä¸­çš„æ•°å­—éƒ¨åˆ†å¤åˆ¶ä¸‹æ¥(è¿™ä¸²æ•°å­—å°±æ˜¯ä½ æ­Œå•çš„ID)ï¼š<br><img src="/images/%E5%A4%8D%E5%88%B6%E5%88%86%E4%BA%AB%E9%93%BE%E6%8E%A5%E4%B8%AD%E7%9A%84%E6%95%B0%E5%AD%97%E9%83%A8%E5%88%86.png" alt="å¤åˆ¶åˆ†äº«é“¾æ¥ä¸­çš„æ•°å­—éƒ¨åˆ†"></p></li></ol></li><li><p>ç½‘æ˜“äº‘éŸ³ä¹ï¼š</p><ol><li>ç™»å½•ç½‘é¡µç½‘æ˜“äº‘éŸ³ä¹ï¼Œç‚¹å‡»ä½ åˆ›å»ºçš„æ­Œå•ï¼š<br><img src="/images/%E7%82%B9%E5%87%BB%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90%E4%B8%AD%E4%BD%A0%E5%88%9B%E5%BB%BA%E7%9A%84%E6%AD%8C%E5%8D%95.png" alt="ç‚¹å‡»ç½‘æ˜“äº‘éŸ³ä¹ä¸­ä½ åˆ›å»ºçš„æ­Œå•"></li><li>æ‰“å¼€æ­Œå•ä¹‹åï¼Œå°†æµè§ˆå™¨ä¸Šçš„åœ°å€ä¸­æ•°å­—éƒ¨åˆ†å¤åˆ¶ä¸‹æ¥ï¼Œè¿™å°±æ˜¯ä½ ç½‘æ˜“äº‘éŸ³ä¹æ­Œå•çš„IDï¼ˆPSï¼šè™½ç„¶ç½‘æ˜“äº‘éŸ³ä¹æ”¯æŒç”Ÿæˆå¤–é“¾æ­Œå•ï¼Œä½†æ˜¯éœ€è¦ä¼šå‘˜æˆ–è€…ä»˜è´¹çš„æ­Œæ›²åœ¨æ­Œå•é‡Œé¢æ•´ä¸ªæ­Œå•æ˜¯æ— æ³•ç”Ÿæˆå¤–é“¾çš„ï¼›ä¸è¿‡æœ¬æ­Œå•å¤–é“¾å·¥å…·å¯ä»¥ï¼‰ï¼š<br><img src="/images/%E8%8E%B7%E5%8F%96%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90%E6%AD%8C%E5%8D%95ID.png" alt="è·å–ç½‘æ˜“äº‘éŸ³ä¹æ­Œå•ID"></li></ol></li></ul></li><li><p>å°†ä»¥ä¸‹ä»£ç åŠ åˆ°ä½ çš„åšå®¢ä¸­ï¼ŒæŠŠtypeå’Œidæ›¿æ¢æˆä½ ä¸Šé¢è·å–çš„å€¼ï¼Œå¦å¤–é“¾æ¥ä¸­trueä»£è¡¨è‡ªåŠ¨æ’­æ”¾ï¼Œfalseè¡¨ç¤ºä¸è‡ªåŠ¨æ’­æ”¾ã€‚å¦å¤–éœ€è¦çŸ¥é“ï¼ŒChromeå’ŒSafariä¼šç¦ç”¨è‡ªåŠ¨æ’­æ”¾å±æ€§ï¼Œè®¾ç½®æˆtrueå¯èƒ½ä¹Ÿä¸ä¼šè‡ªåŠ¨æ’­æ”¾ï¼Œåœ¨åˆ«çš„æµè§ˆå™¨ä¸Šå¯èƒ½å¯ä»¥ï¼š</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe frameborder&#x3D;&quot;no&quot; border&#x3D;&quot;0&quot; marginwidth&#x3D;&quot;0&quot; marginheight&#x3D;&quot;0&quot; width&#x3D;&quot;100%&quot; height&#x3D;450 src&#x3D;&quot;&#x2F;&#x2F;cyixlq.gitee.io&#x2F;iframe&#x2F;#&#x2F;type&#x2F;id&#x2F;true&quot;&gt;&lt;&#x2F;iframe&gt;</span><br></pre></td></tr></table></figure><p> ä¾‹å¦‚ï¼š</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe frameborder&#x3D;&quot;no&quot; border&#x3D;&quot;0&quot; marginwidth&#x3D;&quot;0&quot; marginheight&#x3D;&quot;0&quot; width&#x3D;&quot;100%&quot; height&#x3D;450 src&#x3D;&quot;&#x2F;&#x2F;cyixlq.gitee.io&#x2F;iframe&#x2F;#&#x2F;tencent&#x2F;2947517062&#x2F;true&quot;&gt;&lt;&#x2F;iframe&gt;</span><br></pre></td></tr></table></figure></li></ol><h4 id="è‡´æ­¤ï¼Œä¸€ä¸ªæ­Œå•å¤–é“¾å°±åˆ¶ä½œå®Œæˆï¼"><a href="#è‡´æ­¤ï¼Œä¸€ä¸ªæ­Œå•å¤–é“¾å°±åˆ¶ä½œå®Œæˆï¼" class="headerlink" title="è‡´æ­¤ï¼Œä¸€ä¸ªæ­Œå•å¤–é“¾å°±åˆ¶ä½œå®Œæˆï¼"></a>è‡´æ­¤ï¼Œä¸€ä¸ªæ­Œå•å¤–é“¾å°±åˆ¶ä½œå®Œæˆï¼</h4><h4 id="2021-04-12æ›´æ–°ï¼Œå› ä¸ºæ‰€è°ƒç”¨APIå¤±æ•ˆï¼Œæœ¬æ¡†æ¶éšä¹‹ä¹Ÿå¤±æ•ˆï¼Œå„ä½è¿˜æ˜¯ç”¨å„å¤§éŸ³ä¹å¹³å°æä¾›çš„iframeå§ï¼"><a href="#2021-04-12æ›´æ–°ï¼Œå› ä¸ºæ‰€è°ƒç”¨APIå¤±æ•ˆï¼Œæœ¬æ¡†æ¶éšä¹‹ä¹Ÿå¤±æ•ˆï¼Œå„ä½è¿˜æ˜¯ç”¨å„å¤§éŸ³ä¹å¹³å°æä¾›çš„iframeå§ï¼" class="headerlink" title="2021/04/12æ›´æ–°ï¼Œå› ä¸ºæ‰€è°ƒç”¨APIå¤±æ•ˆï¼Œæœ¬æ¡†æ¶éšä¹‹ä¹Ÿå¤±æ•ˆï¼Œå„ä½è¿˜æ˜¯ç”¨å„å¤§éŸ³ä¹å¹³å°æä¾›çš„iframeå§ï¼"></a>2021/04/12æ›´æ–°ï¼Œå› ä¸ºæ‰€è°ƒç”¨APIå¤±æ•ˆï¼Œæœ¬æ¡†æ¶éšä¹‹ä¹Ÿå¤±æ•ˆï¼Œå„ä½è¿˜æ˜¯ç”¨å„å¤§éŸ³ä¹å¹³å°æä¾›çš„iframeå§ï¼</h4>]]></content>
    
    
    <summary type="html">&lt;h4 id=&quot;è¯ä¸å¤šè¯´ï¼Œç›´æ¥å…ˆæ¥çœ‹æ•ˆæœå›¾ï¼š&quot;&gt;&lt;a href=&quot;#è¯ä¸å¤šè¯´ï¼Œç›´æ¥å…ˆæ¥çœ‹æ•ˆæœå›¾ï¼š&quot; class=&quot;headerlink&quot; title=&quot;è¯ä¸å¤šè¯´ï¼Œç›´æ¥å…ˆæ¥çœ‹æ•ˆæœå›¾ï¼š&quot;&gt;&lt;/a&gt;è¯ä¸å¤šè¯´ï¼Œç›´æ¥å…ˆæ¥çœ‹æ•ˆæœå›¾ï¼š&lt;/h4&gt;&lt;p&gt;&lt;img src=&quot;/images/%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E6%AD%8C%E5%8D%95%E5%A4%96%E9%93%BE%E6%95%88%E6%9E%9C%E5%9B%BE.png&quot; alt=&quot;åšå®¢éŸ³ä¹æ­Œå•å¤–é“¾æ•ˆæœå›¾&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Vue" scheme="https://www.cyixlq.top/categories/Vue/"/>
    
    
    <category term="vue" scheme="https://www.cyixlq.top/tags/vue/"/>
    
    <category term="éŸ³ä¹æ’­æ”¾" scheme="https://www.cyixlq.top/tags/%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE/"/>
    
    <category term="åšå®¢éŸ³ä¹å¤–é“¾" scheme="https://www.cyixlq.top/tags/%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%A4%96%E9%93%BE/"/>
    
    <category term="vueå®æˆ˜" scheme="https://www.cyixlq.top/tags/vue%E5%AE%9E%E6%88%98/"/>
    
  </entry>
  
  <entry>
    <title>higher-music åŸºäºVueçš„æ”¯æŒæ­Œå•å¤–é“¾çš„åœ¨çº¿ç½‘é¡µéŸ³ä¹æ’­æ”¾å™¨</title>
    <link href="https://www.cyixlq.top/2019/01/14/higher-music/"/>
    <id>https://www.cyixlq.top/2019/01/14/higher-music/</id>
    <published>2019-01-14T10:38:58.000Z</published>
    <updated>2021-04-12T02:24:08.106Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸€æ¬¾åŸºäºVueæ‰“é€ çš„ç½‘é¡µåœ¨çº¿éŸ³ä¹æ’­æ”¾å™¨ï¼Œåˆ©ç”¨å·¥ä½œç©ºé—²æ—¶é—´ä¸å¤§å­¦åŒå­¦<a href="https://github.com/ganp1020">@ganp1020</a>ä¸€èµ·å¼€å‘ã€‚ç›®å‰æ­£åœ¨å¼€å‘é˜¶æ®µï¼Œå·²ç»èƒ½æ­£å¸¸ä½¿ç”¨ã€‚<strong>æ”¯æŒæ­Œå•å¤–é“¾è¿™ä¸€ç‰¹è‰²åŠŸèƒ½ï¼</strong></p><span id="more"></span><h3 id="é¡¹ç›®æ¼”ç¤ºåœ°å€ï¼š"><a href="#é¡¹ç›®æ¼”ç¤ºåœ°å€ï¼š" class="headerlink" title="é¡¹ç›®æ¼”ç¤ºåœ°å€ï¼š"></a>é¡¹ç›®æ¼”ç¤ºåœ°å€ï¼š</h3><ul><li><a href="http://cyixlq.gitee.io/music/">http://cyixlq.gitee.io/music/</a></li></ul><h3 id="å®ç°çš„åŠŸèƒ½ï¼š"><a href="#å®ç°çš„åŠŸèƒ½ï¼š" class="headerlink" title="å®ç°çš„åŠŸèƒ½ï¼š"></a>å®ç°çš„åŠŸèƒ½ï¼š</h3><ul><li>ä¸Šä¸€æ›²</li><li>ä¸‹ä¸€æ›²</li><li>æš‚åœ/æ’­æ”¾</li><li>éŸ³è´¨é€‰æ‹©</li><li>é‡åˆ°æ²¡æœ‰çš„éŸ³è´¨è‡ªåŠ¨åˆ‡æ¢éŸ³è´¨æº</li><li>éŸ³ä¹æœç´¢</li><li>æ’­æ”¾åˆ—è¡¨å±•ç¤º</li><li>æ­£åœ¨æ’­æ”¾æ­Œæ›²æ ‡å¿—</li><li>æ­Œå•å…¨éƒ¨æ’­æ”¾</li><li>æ­Œå•ï¼Œæ­Œæ›²topæ¦œæ˜¾ç¤º</li><li>åŒæ—¶é€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯</li></ul><h3 id="é¡¹ç›®æŠ€æœ¯ï¼š"><a href="#é¡¹ç›®æŠ€æœ¯ï¼š" class="headerlink" title="é¡¹ç›®æŠ€æœ¯ï¼š"></a>é¡¹ç›®æŠ€æœ¯ï¼š</h3><ul><li>vue</li><li>vue-router</li><li>vuex</li><li>axios</li><li>jsonp</li><li><a href="https://vuetifyjs.com/zh-Hans/">Vuetify</a></li></ul><h3 id="é¡¹ç›®æˆªå›¾"><a href="#é¡¹ç›®æˆªå›¾" class="headerlink" title="é¡¹ç›®æˆªå›¾"></a>é¡¹ç›®æˆªå›¾</h3><p><img src="/images/higher-music1.png" alt="Topæ¦œå•åŠTopæ­Œæ›²"><br><img src="/images/higher-music2.png" alt="æ­Œæ›²æœç´¢ä»¥åŠçƒ­æœå…³é”®è¯"><br><img src="/images/higher-music3.png" alt="æ­Œå•è¯¦æƒ…"><br><img src="/images/higher-music4.png" alt="æ’­æ”¾åˆ—è¡¨"></p><h3 id="ç‰¹è‰²åŠŸèƒ½-â€”â€”-æ­Œå•å¤–é“¾çš„ä½¿ç”¨æ–¹æ³•ï¼š-å·²ç»ä»æ­¤é¡¹ç›®ä¸­ç‹¬ç«‹å‡ºæ¥ï¼Œç‚¹æˆ‘å‰å¾€æŸ¥çœ‹"><a href="#ç‰¹è‰²åŠŸèƒ½-â€”â€”-æ­Œå•å¤–é“¾çš„ä½¿ç”¨æ–¹æ³•ï¼š-å·²ç»ä»æ­¤é¡¹ç›®ä¸­ç‹¬ç«‹å‡ºæ¥ï¼Œç‚¹æˆ‘å‰å¾€æŸ¥çœ‹" class="headerlink" title="ç‰¹è‰²åŠŸèƒ½ â€”â€” æ­Œå•å¤–é“¾çš„ä½¿ç”¨æ–¹æ³•ï¼š(å·²ç»ä»æ­¤é¡¹ç›®ä¸­ç‹¬ç«‹å‡ºæ¥ï¼Œç‚¹æˆ‘å‰å¾€æŸ¥çœ‹)"></a>ç‰¹è‰²åŠŸèƒ½ â€”â€” æ­Œå•å¤–é“¾çš„ä½¿ç”¨æ–¹æ³•ï¼š(å·²ç»ä»æ­¤é¡¹ç›®ä¸­ç‹¬ç«‹å‡ºæ¥ï¼Œ<a href="https://cyixlq.top/2019/01/30/iframe/">ç‚¹æˆ‘å‰å¾€æŸ¥çœ‹</a>)</h3><p>é™¤äº†åƒä¸€ä¸ªæ­£å¸¸ç½‘é¡µéŸ³ä¹æ’­æ”¾å™¨å¤–ï¼Œè¿˜æ”¯æŒä¸€ä¸ªä¸ªäººè®¤ä¸ºæ¯”è¾ƒç‰›é€¼çš„åŠŸèƒ½ â€”â€” æ­Œæ›²å¤–é“¾ï¼Œä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p><ol><li><p>ç™»å½•ç½‘é¡µQQéŸ³ä¹ï¼Œé€‰æ‹©ä½ éœ€è¦åˆ¶ä½œå¤–é“¾çš„æ­Œå•ï¼Œç‚¹å‡»åˆ†äº«ï¼Œç‚¹å‡»å¤åˆ¶é“¾æ¥ï¼š<br><img src="/images/%E5%A4%8D%E5%88%B6%E5%88%86%E4%BA%AB%E6%AD%8C%E5%8D%95%E9%93%BE%E6%8E%A5.png" alt="å¤åˆ¶åˆ†äº«æ­Œå•é“¾æ¥"></p></li><li><p>å°†å¤åˆ¶å¥½çš„é“¾æ¥ç²˜è´´åˆ°ä»»ä½•å¯ä»¥ç¼–è¾‘çš„åœ°æ–¹ï¼Œç„¶åå°†é“¾æ¥ä¸­çš„æ•°å­—éƒ¨åˆ†å¤åˆ¶ä¸‹æ¥ï¼š<br><img src="/images/%E5%A4%8D%E5%88%B6%E5%88%86%E4%BA%AB%E9%93%BE%E6%8E%A5%E4%B8%AD%E7%9A%84%E6%95%B0%E5%AD%97%E9%83%A8%E5%88%86.png" alt="å¤åˆ¶åˆ†äº«é“¾æ¥ä¸­çš„æ•°å­—éƒ¨åˆ†"></p></li></ol><ol start="3"><li>åœ¨ä½ åšå®¢ä¸­éœ€è¦æ¥å…¥å¤–é“¾çš„åœ°æ–¹åŠ å…¥ä»¥ä¸‹ä»£ç (è¯·æ³¨æ„ï¼Œå°†ä¸‹é¢é“¾æ¥ä¸­çš„<code>2947517062</code>æ›¿æ¢æˆä½ ä¸Šä¸€æ­¥ä¸­å¤åˆ¶çš„æ•°å­—ï¼Œå¦‚æœä¸éœ€è¦æ’­æ”¾å™¨è‡ªåŠ¨æ’­æ”¾è¯·å°†ä¸‹é¢<code>true</code>æ”¹æˆ<code>false</code>ï¼Œiframeçš„å®½é«˜ä½ å¯ä»¥è‡ªå®šä¹‰ï¼ŒChromeå¯èƒ½ä¼šç¦æ­¢iframeå†…éŸ³é¢‘è‡ªåŠ¨æ’­æ”¾)ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe frameborder&#x3D;&quot;no&quot; border&#x3D;&quot;0&quot; marginwidth&#x3D;&quot;0&quot; marginheight&#x3D;&quot;0&quot; width&#x3D;&quot;100%&quot; height&#x3D;450 src&#x3D;&quot;&#x2F;&#x2F;cyixlq.gitee.io&#x2F;music&#x2F;#&#x2F;iframe&#x2F;2947517062&#x2F;true&quot;&gt;&lt;&#x2F;iframe&gt;</span><br></pre></td></tr></table></figure></li><li>æ•ˆæœå›¾å¦‚ä¸‹ï¼š<br><img src="/images/%E5%A4%96%E9%93%BE%E6%AD%8C%E5%8D%95%E6%95%88%E6%9E%9C%E5%9B%BE.png" alt="å¤–é“¾æ­Œå•æ•ˆæœå›¾"></li></ol><h3 id="åˆ°è¿™é‡Œï¼Œä½ çš„éŸ³ä¹å¤–é“¾å°±åˆ¶ä½œå®Œæˆï¼Œæ³¨æ„å¹¶ä¸æ˜¯æ‰€æœ‰æ­Œæ›²çš„æ’­æ”¾åœ°å€éƒ½èƒ½è§£æå‡ºæ¥ï¼Œè¿˜æœ›è°…è§£ï¼Œå¦‚æœä½ å–œæ¬¢æœ¬é¡¹ç›®çš„è¯æˆ–è€…æœ¬é¡¹ç›®å¯¹ä½ æœ‰ä¸€å®šå¸®åŠ©çš„è¯ï¼Œå¯ä»¥æ‰«æä¸‹æ–¹äºŒç»´ç è¿›è¡Œæèµ ï¼Œä»¥æ­¤æ¥ç»´æŒæœåŠ¡å™¨çš„è¿è½¬ï¼š"><a href="#åˆ°è¿™é‡Œï¼Œä½ çš„éŸ³ä¹å¤–é“¾å°±åˆ¶ä½œå®Œæˆï¼Œæ³¨æ„å¹¶ä¸æ˜¯æ‰€æœ‰æ­Œæ›²çš„æ’­æ”¾åœ°å€éƒ½èƒ½è§£æå‡ºæ¥ï¼Œè¿˜æœ›è°…è§£ï¼Œå¦‚æœä½ å–œæ¬¢æœ¬é¡¹ç›®çš„è¯æˆ–è€…æœ¬é¡¹ç›®å¯¹ä½ æœ‰ä¸€å®šå¸®åŠ©çš„è¯ï¼Œå¯ä»¥æ‰«æä¸‹æ–¹äºŒç»´ç è¿›è¡Œæèµ ï¼Œä»¥æ­¤æ¥ç»´æŒæœåŠ¡å™¨çš„è¿è½¬ï¼š" class="headerlink" title="åˆ°è¿™é‡Œï¼Œä½ çš„éŸ³ä¹å¤–é“¾å°±åˆ¶ä½œå®Œæˆï¼Œæ³¨æ„å¹¶ä¸æ˜¯æ‰€æœ‰æ­Œæ›²çš„æ’­æ”¾åœ°å€éƒ½èƒ½è§£æå‡ºæ¥ï¼Œè¿˜æœ›è°…è§£ï¼Œå¦‚æœä½ å–œæ¬¢æœ¬é¡¹ç›®çš„è¯æˆ–è€…æœ¬é¡¹ç›®å¯¹ä½ æœ‰ä¸€å®šå¸®åŠ©çš„è¯ï¼Œå¯ä»¥æ‰«æä¸‹æ–¹äºŒç»´ç è¿›è¡Œæèµ ï¼Œä»¥æ­¤æ¥ç»´æŒæœåŠ¡å™¨çš„è¿è½¬ï¼š"></a>åˆ°è¿™é‡Œï¼Œä½ çš„éŸ³ä¹å¤–é“¾å°±åˆ¶ä½œå®Œæˆï¼Œæ³¨æ„å¹¶ä¸æ˜¯æ‰€æœ‰æ­Œæ›²çš„æ’­æ”¾åœ°å€éƒ½èƒ½è§£æå‡ºæ¥ï¼Œè¿˜æœ›è°…è§£ï¼Œå¦‚æœä½ å–œæ¬¢æœ¬é¡¹ç›®çš„è¯æˆ–è€…æœ¬é¡¹ç›®å¯¹ä½ æœ‰ä¸€å®šå¸®åŠ©çš„è¯ï¼Œå¯ä»¥æ‰«æä¸‹æ–¹äºŒç»´ç è¿›è¡Œæèµ ï¼Œä»¥æ­¤æ¥ç»´æŒæœåŠ¡å™¨çš„è¿è½¬ï¼š</h3><p><img src="/images/%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%8D%90%E8%B5%A0.png" alt="æœåŠ¡å™¨æèµ "></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ä¸€æ¬¾åŸºäºVueæ‰“é€ çš„ç½‘é¡µåœ¨çº¿éŸ³ä¹æ’­æ”¾å™¨ï¼Œåˆ©ç”¨å·¥ä½œç©ºé—²æ—¶é—´ä¸å¤§å­¦åŒå­¦&lt;a href=&quot;https://github.com/ganp1020&quot;&gt;@ganp1020&lt;/a&gt;ä¸€èµ·å¼€å‘ã€‚ç›®å‰æ­£åœ¨å¼€å‘é˜¶æ®µï¼Œå·²ç»èƒ½æ­£å¸¸ä½¿ç”¨ã€‚&lt;strong&gt;æ”¯æŒæ­Œå•å¤–é“¾è¿™ä¸€ç‰¹è‰²åŠŸèƒ½ï¼&lt;/strong&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Vue" scheme="https://www.cyixlq.top/categories/Vue/"/>
    
    
    <category term="vue" scheme="https://www.cyixlq.top/tags/vue/"/>
    
    <category term="éŸ³ä¹æ’­æ”¾" scheme="https://www.cyixlq.top/tags/%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE/"/>
    
    <category term="åšå®¢éŸ³ä¹å¤–é“¾" scheme="https://www.cyixlq.top/tags/%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%A4%96%E9%93%BE/"/>
    
    <category term="vueå®æˆ˜" scheme="https://www.cyixlq.top/tags/vue%E5%AE%9E%E6%88%98/"/>
    
  </entry>
  
  <entry>
    <title>UHD630æ ¸æ˜¾é©±åŠ¨æ–¹æ³•åŠé©±åŠ¨åé—ªå±ä¸¥é‡é—®é¢˜è§£å†³è®°å½•</title>
    <link href="https://www.cyixlq.top/2018/12/10/UHD630%E9%A9%B1%E5%8A%A8%E5%90%8E%E9%97%AA%E5%B1%8F%E4%B8%A5%E9%87%8D/"/>
    <id>https://www.cyixlq.top/2018/12/10/UHD630%E9%A9%B1%E5%8A%A8%E5%90%8E%E9%97%AA%E5%B1%8F%E4%B8%A5%E9%87%8D/</id>
    <published>2018-12-10T15:34:32.000Z</published>
    <updated>2021-04-12T02:28:47.199Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>ä¹‹å‰æˆ‘åŒå­¦åœ¨å…¬å¸ç”³è¯·äº†ä¸€ä¸ªå°å¼ï¼Œç¡¬ä»¶æ˜¯ç”±è‡ªå·±æŒ‘é€‰ï¼Œå…¬å¸è´­ä¹°ã€‚äºæ˜¯ä¹ï¼Œæˆ‘å’Œä»–ä¸€èµ·æŒ‘é€‰äº†å…¼å®¹æ€§è¾ƒå¥½çš„é»‘è‹¹æœç¡¬ä»¶ï¼Œå‰å¤©ç»„è£…å¥½ã€‚ç„¶åå°±åœ¨æ˜¨å¤©å¼€å§‹å®‰è£…é»‘è‹¹æœã€‚</p><span id="more"></span><h3 id="åŒå­¦çš„ç”µè„‘ç¡¬ä»¶é…ç½®å¦‚ä¸‹ï¼Œç»™å¤§å®¶å‚è€ƒå‚è€ƒï¼š"><a href="#åŒå­¦çš„ç”µè„‘ç¡¬ä»¶é…ç½®å¦‚ä¸‹ï¼Œç»™å¤§å®¶å‚è€ƒå‚è€ƒï¼š" class="headerlink" title="åŒå­¦çš„ç”µè„‘ç¡¬ä»¶é…ç½®å¦‚ä¸‹ï¼Œç»™å¤§å®¶å‚è€ƒå‚è€ƒï¼š"></a>åŒå­¦çš„ç”µè„‘ç¡¬ä»¶é…ç½®å¦‚ä¸‹ï¼Œç»™å¤§å®¶å‚è€ƒå‚è€ƒï¼š</h3><ul><li>CPUï¼ši5-9600Kï¼ˆä¸€å¼€å§‹æ¨èçš„å…«ä»£Uï¼Œåæ¥å› ä¸ºå’Œä¸»æ¿ç»„åˆä¹°ä¾¿å®œç‚¹ï¼Œé€‰äº†è¿™ä¸ªã€‚åœ¨CPUçš„é€‰è´­ä¸Šå¤§å®¶ç›´æ¥ä¹°å…«ä»£Uå°±å¥½äº†ï¼Œå½“ç„¶ä¹ä»£ä¹Ÿæ˜¯å¯ä»¥å®‰è£…é»‘è‹¹æœçš„ï¼‰</li><li>ä¸»æ¿ï¼šæŠ€å˜‰z370 HD3ï¼ˆå› ä¸ºåŠ ä¸ŠCPUå¥—è£…ç»„åˆä¹°ä¾¿å®œï¼Œå› æ­¤ä¹Ÿç•™ä¸‹äº†ä¸€ä¸ªå‘ã€‚z370æˆ–è€…è¯´370ç³»åˆ—ä¸»æ¿åªæ”¯æŒå…«ä»£Uçš„ï¼Œå¦‚æœè¦æ”¯æŒä¹ä»£Uå¾—å…ˆç”¨å…«ä»£Uç‚¹äº®åè¿›å…¥BISOå‡çº§ä¸€ä¸‹BIOSç‰ˆæœ¬ï¼‰</li><li>ç”µæºï¼šç›´æ¥é€‰äº†ä¸ª300WåŠŸç‡çš„çš„ï¼Œå‹å·ç‰Œå­ä»€ä¹ˆçš„ä¸è®°å¾—äº†</li><li>æœºç®±ï¼šè¿™ä¸ªç›´æ¥è·Ÿç€ä¸»æ¿æ¿å‹æ¥é€‰å°±å¥½äº†ï¼Œæ²¡ä»€ä¹ˆç‰¹æ®Šè¦æ±‚éšä¾¿é€‰é€‰å°±å¥½ã€‚å› ä¸ºæˆ‘ä»¬é€‰è´­çš„ä¸»æ¿æ˜¯ATXæ¿å‹çš„ï¼Œå°±ç›´æ¥é€‰äº†ä¸ªå…¼å®¹ATXçš„æœºç®±</li><li>CPUæ•£çƒ­å™¨ï¼šä¹°äº†ä¸ªå››é“œç®¡çš„æ•£çƒ­å™¨</li><li>å†…å­˜æ¡ï¼šä¹°äº†ä¸¤æ ¹16Gçš„DDR4 2600Mhzçš„éª‡å®¢ç¥æ¡</li><li>ç¡¬ç›˜ï¼š512G Intel NVmeå›ºæ€ç¡¬ç›˜</li><li>æ˜¾ç¤ºå™¨ï¼šåŒå­¦è‡ªå·±ä¹°çš„LG 2Kå®½å±</li><li>é”®é¼ ï¼šéšä¾¿ä¹°ï¼Œèƒ½ç”¨å°±è¡Œï¼Œæœ€å¥½æ˜¯æ’USBçš„  å…¶å®æŒ‘å¥½CPUå’Œä¸»æ¿æ˜¯æœ€å…³é”®çš„ã€‚</li></ul><h3 id="å¼€å§‹å®‰è£…"><a href="#å¼€å§‹å®‰è£…" class="headerlink" title="å¼€å§‹å®‰è£…"></a>å¼€å§‹å®‰è£…</h3><p>é•œåƒï¼š<a href="https://blog.daliansky.net/macOS-Mojave-10.14.2-18C54-official-version-with-Clover-4792-original-image.html">ã€é»‘æœå°å…µã€‘macOS Mojave 10.14.2 18C54 æ­£å¼ç‰ˆ with Clover 4792åŸç‰ˆé•œåƒ</a>ï¼›ä¸‹è½½å®Œä¹‹åä¸€å®šè¦æ ¡éªŒä¸€ä¸‹MD5ï¼Œç¡®ä¿å®Œæ•´æ€§ã€‚</p><p>åˆ¶ä½œå®‰è£…Uç›˜ï¼šåœ¨å¦ä¸€ä¸ªç”µè„‘ä¸Šï¼ŒWindowsä¸‹ä½¿ç”¨TransMacåˆ¶ä½œå¥½å®‰è£…Uç›˜ï¼Œè¿™ä¸ªå°±ä¸è¯´äº†ï¼Œç½‘ä¸Šä¸€å¤§å †æ•™ç¨‹ã€‚</p><p>BIOSè®¾ç½®ï¼š</p><ul><li><p>vt-d -&gt; disable</p></li><li><p>DVMT Pre-Allcated -&gt; 128M (ä»¥åä¸‡ä¸€è¦æ¥4Kæ˜¾ç¤ºå±)</p></li><li><p>DVMT Total Gfx Mem -&gt; Max</p></li><li><p>å¿«é€Ÿå¯åŠ¨ï¼ˆboot quickï¼‰ -&gt; disable</p><p>  è¿™å—ä¸»æ¿å‘ç°å°±è¿™å‡ ä¸ªåœ°æ–¹éœ€è¦æ”¹æ”¹ï¼Œå¦‚æœè¿˜æœ‰æˆ‘æ²¡å‘ç°çš„ï¼Œå¤§å®¶å¯ä»¥ç•™è¨€</p></li></ul><p>å¼€å§‹å®‰è£…ï¼šåˆ¶ä½œå¥½ä¹‹åï¼ŒæŠŠUç›˜æ’åœ¨åç½®USB2.0æ¥å£ã€‚è¿™é‡Œè¯´ä¸€ä¸‹ï¼Œæœ€å¥½æ’åé¢çš„USBæ¥å£ï¼Œè€Œä¸”æœ€å¥½æ’åœ¨USB2.0æ¥å£ä¸Šï¼Œå‡å°‘ç¦è¡Œçš„å‘ç”Ÿã€‚ä¹‹åä»BIOSä¸­é€‰æ‹©ä»Uç›˜å¯åŠ¨ï¼Œè¿›å…¥å››å¶è‰ã€‚å…‰æ ‡ç§»åŠ¨åˆ°optionsé€‰é¡¹ï¼Œå›è½¦ï¼›configsï¼Œå›è½¦ï¼›é€‰æ‹©äº†config_UHD630è¿™ä¸ªé…ç½®æ–‡ä»¶ã€‚ä¹‹åreturnï¼Œé€‰æ‹©boot macOS Install form Install macOS Mojaveï¼Œç„¶åå°±å¼€å§‹è·‘ä»£ç äº†ã€‚<br><img src="/images/%E5%9B%9B%E5%8F%B6%E8%8D%89%E5%BC%95%E5%AF%BC%E7%95%8C%E9%9D%A2.jpg" alt="å››å¶è‰å¼•å¯¼ç•Œé¢.jpg"><br>ä»£ç è·‘å®Œä¹‹åå‡ºç°è‹¹æœlogoå’Œè¿›åº¦æ¡ã€‚è¿›åº¦æ¡è¯»å®Œä¹‹åï¼Œè¿›å…¥äº†å®‰è£…ç•Œé¢ã€‚å…ˆé€‰æ‹©è¯­è¨€ï¼Œå½“ç„¶é€‰æ‹©ç®€ä½“ä¸­æ–‡å•Šã€‚<br><img src="/images/%E8%AF%AD%E8%A8%80%E9%80%89%E6%8B%A9%E7%95%8C%E9%9D%A2.jpg" alt="è¯­è¨€é€‰æ‹©ç•Œé¢"><br>ä¹‹åå·¥å…·é€‰æ‹©ç•Œé¢ï¼Œå…ˆé€‰æ‹©ç£ç›˜å·¥å…·ï¼Œç„¶åå·¦ä¾§é€‰æ‹©æˆ‘ä»¬çš„ç¡¬ç›˜ï¼Œç„¶åç‚¹å‡»æŠ¹æ‰ã€‚åç§°è‡ªå·±éšä¾¿å–ï¼Œè‹±æ–‡çš„ä¸è¦å¤ªé•¿å°±å¥½ã€‚æˆ‘ä»¬å–çš„APPLE SSDã€‚ä¸‹é¢è¿™ä¸€æ æ ¼å¼é€‰æ‹©Mac OSæ‹“å±•ï¼ˆæ—¥å¿—ï¼‰ï¼Œæ¥ç€ä¸‹é¢ä¸€æ é€‰æ‹©GUIDåˆ†åŒºè¡¨æ ¼å¼ï¼Œç‚¹å‡»æŠ¹æ‰ï¼Œç„¶åç‚¹å‡»å®Œæˆã€‚å› ä¸ºè¿™æ˜¯ä¸€å—æ–°çš„ç¡¬ç›˜ï¼ŒæŠ¹æ‰ä¼šè‡ªåŠ¨æœ‰ä¸€ä¸ªå¤§äº200Mçš„EFIåˆ†åŒºã€‚</p><p>PSï¼šå¦‚æœä½ æ˜¯å·²ç»è£…è¿‡Windowsçš„ç¡¬ç›˜ï¼Œè¯·ç¡®ä¿ä½ çš„EFIåˆ†åŒºå¤§äº200Mï¼Œå¦åˆ™ä¼šé€ æˆè¿™ä¸€æ­¥æŠ¹ç›˜å¤±è´¥ã€‚å¦‚æœä½ çš„å°äº200Mï¼Œç»™ä½ ä¸€ä¸ªæ¯”è¾ƒå¥½çš„è§£å†³åŠæ³•ã€‚å…³æœºï¼Œæ‹”ä¸‹Uç›˜ï¼Œç”¨ä¸€ä¸ªè£…äº†PEçš„Uç›˜å¯åŠ¨ï¼Œæ‰“å¼€diskgeniusç£ç›˜ç®¡ç†å·¥å…·ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰MSRåˆ†åŒºï¼Œæœ‰çš„è¯å°±å³é”®è¿™ä¸ªåˆ†åŒºï¼Œåˆ é™¤è¿™ä¸ªåˆ†åŒºï¼Œç„¶åå³é”®EFIåˆ†åŒºè°ƒæ•´å¤§å°ï¼Œç›´æ¥æŠŠä¸­é—´çš„æ æ æ‹‰å€’æœ€å³è¾¹ã€‚å¦‚æœæ²¡æœ‰çš„è¯ï¼Œå°±æ‚²å‚¬äº†ï¼Œé‡æ–°ç»™ä½ ç¡¬ç›˜åˆ†ä¸€ä¸‹åŒºå§ï¼Œè¿™æ¬¡è®°å¾—æŠŠEFIåˆ†åŒºè°ƒå¤§ä¸€ç‚¹ã€‚</p><p>æŠ¹ç›˜è¿™ä¸€æ­¥æ“ä½œå®Œæˆä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥å…³æ‰ç£ç›˜å·¥å…·äº†ã€‚è¿™æ¬¡æˆ‘ä»¬ç‚¹å‡»å®‰è£…Mac OSï¼Œå‡ºç°ç¡¬ç›˜é€‰æ‹©ç•Œé¢ï¼Œé€‰æ‹©æˆ‘ä»¬åˆšåˆšæŠ¹å¥½çš„ç›˜ï¼Œåå­—æ˜¯APPLE SSDã€‚ä¹‹åå°±æ˜¯åè®®ä»€ä¹ˆçš„ï¼ŒåŒæ„å°±è¡Œã€‚ç„¶åå°±æ˜¯ä¸€æ®µæ—¶é—´çš„ç­‰å¾…ã€‚NVmeçš„é€Ÿåº¦ä¸é”™ï¼Œä¸¤ä¸‰åˆ†é’Ÿå°±å®Œæˆäº†ç¬¬ä¸€éƒ¨åˆ†çš„å®‰è£…ã€‚æœºå™¨è‡ªåŠ¨é‡å¯ï¼</p><p>é‡å¯åæˆ‘ä»¬ä¾æ—§ä»Uç›˜å¯åŠ¨ï¼Œè¿›å…¥cloverï¼Œé€‰æ‹©optionsé€‰é¡¹å›è½¦ï¼Œé€‰æ‹©configså›è½¦ï¼Œé€‰æ‹©config_UHD630å›è½¦ã€‚ç„¶åreturnï¼Œè¿™æ¬¡æˆ‘ä»¬é€‰æ‹©çš„å¯åŠ¨é¡¹æ˜¯boot macOS Install from APPLE SSDï¼ˆæ­¤å¤„çš„APPLE SSDæ˜¯æˆ‘ä»¬ä¹‹å‰æŠ¹ç›˜çš„æ—¶å€™å‘½åçš„åç§°ï¼Œè¯·æ ¹æ®ä½ çš„å®é™…æƒ…å†µé€‰æ‹©ï¼‰ã€‚ç„¶åå¼€å§‹è·‘ä»£ç ï¼Œä¸€åˆ‡æ­£å¸¸ï¼Œå‡ºç°è‹¹æœlogoè¿˜æœ‰è¿›åº¦æ¡ã€‚è¿›åº¦æ¡ä¸‹é¢å‡ºç°äº†ä¸€è¡Œå­—ï¼Œæ­£åœ¨å®‰è£…ï¼Œå‰©ä½™å¤§çº¦3åˆ†é’Ÿã€‚<br><img src="/images/%E5%AE%89%E8%A3%85%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5.jpg" alt="å®‰è£…ç¬¬äºŒé˜¶æ®µ"><br>è¿™é‡Œè¯´æ˜ä¸€ä¸‹ï¼Œç°åœ¨è‹¹æœç³»ç»Ÿå®‰è£…æœ‰ä¸¤ä¸ªé˜¶æ®µï¼Œæˆ‘çš„ç†è§£æ˜¯ä¸Šä¸€æ­¥çš„å®‰è£…æ˜¯æŠŠè‹¹æœç³»ç»Ÿçš„å®‰è£…ç¨‹åºå¤åˆ¶åˆ°ç¡¬ç›˜ä¸­ï¼Œè¿™ä¸€æ­¥æ˜¯ç”¨ç¡¬ç›˜ä¸­çš„å®‰è£…ç¨‹åºæŠŠç³»ç»Ÿå®‰è£…åˆ°ç¡¬ç›˜ä¸Šã€‚ä»¥å‰æˆ‘è®°å¾—æ˜¯åªæœ‰ä¸€æ­¥çš„ï¼Œè¿™æ ·åšå¯èƒ½æ˜¯ä¸ºäº†æé«˜å®‰è£…ç³»ç»Ÿçš„é€Ÿåº¦ï¼Œæ¯•ç«Ÿä»Uç›˜ä¸­æ‰§è¡Œå®‰è£…ç¨‹åºå’Œç¡¬ç›˜ä¸­æ‰§è¡Œå®‰è£…ç¨‹åºç›¸æ¯”è‚¯å®šæ˜¯æ›´æ…¢çš„ã€‚å¥½çš„ï¼Œå›åˆ°æ­£é¢˜ï¼Œç­‰è¿™ä¸€æ­¥å®‰è£…å®Œæˆä¹‹åï¼Œæˆ‘ä»¬çš„ç³»ç»Ÿæ‰ç®—æ˜¯çœŸæ­£å®‰è£…åˆ°ç¡¬ç›˜äº†ã€‚æœºå™¨ä¾æ—§è‡ªåŠ¨é‡å¯ï¼Œè¿˜æ˜¯é€‰æ‹©ä»Uç›˜è¿›å»cloverï¼Œé€‰æ‹©optionsé€‰é¡¹å›è½¦ï¼Œé€‰æ‹©configså›è½¦ï¼Œé€‰æ‹©config_UHD630å›è½¦ã€‚ç„¶åreturnï¼Œè¿™æ¬¡çš„å¯åŠ¨é¡¹æˆ‘ä»¬é€‰æ‹©boot macOS from APPLE SSDï¼ˆä¸€æ ·çš„ï¼ŒAPPLE SSDæ˜¯æˆ‘ä»¬ä¹‹å‰æŠ¹ç›˜æ—¶å€™å‘½åçš„ç¡¬ç›˜åç§°ï¼Œè¯·æ ¹æ®ä½ è‡ªå·±çš„å®é™…æƒ…å†µæ¥ï¼‰ã€‚ä¸€æ ·è·‘ä»£ç ï¼Œä¸€æ ·æ­£å¸¸æ˜¾ç¤ºè‹¹æœlogoåŠ è¿›åº¦æ¡ï¼Œç„¶åè¿›å…¥äº†ç³»ç»Ÿã€‚ç„¶åæ˜¯å¼•å¯¼è®¾ç½®ï¼Œè¿™äº›å¾ˆç®€å•ï¼Œè‡ªå·±æŒ‰ç…§å¼•å¯¼è®¾ç½®ã€‚</p><h3 id="UHD630æ ¸æ˜¾çš„é©±åŠ¨"><a href="#UHD630æ ¸æ˜¾çš„é©±åŠ¨" class="headerlink" title="UHD630æ ¸æ˜¾çš„é©±åŠ¨"></a>UHD630æ ¸æ˜¾çš„é©±åŠ¨</h3><p>è¿›å…¥ç³»ç»Ÿåï¼Œç‚¹å‡»å·¦ä¸Šè§’çš„å°è‹¹æœå›¾æ ‡/å…³äºæœ¬æœºï¼Œå‘ç°æ˜¾å­˜åªæœ‰7Mï¼Œä¹Ÿå°±æ˜¯æ„å‘³ç€æ ¸æ˜¾å¹¶æ²¡æœ‰é©±åŠ¨ä¸Šã€‚ç†è®ºä¸Šæœ€æ–°ç‰ˆLilu.kextåŠ ä¸Šwhatevergreen.kextè¿™ä¸¤ä¸ªé©±åŠ¨ï¼Œåªè¦é…ç½®æ–‡ä»¶ä¸­Graphics/Inject Intelå‹¾é€‰ä¸Šå°±èƒ½åŸç”Ÿæ³¨å…¥é©±åŠ¨çš„ã€‚ä½†æ˜¯ä¸çŸ¥é“æˆ‘åŒå­¦çš„æ€ä¹ˆæ²¡é©±åŠ¨ä¸Šã€‚åªå¥½è‡ªå·±åŠ¨æ‰‹äº†ï¼Œä½¿ç”¨Intel FB Patcherè¿™æ¬¾è½¯ä»¶ï¼Œæ•™ç¨‹ï¼š<a href="https://blog.daliansky.net/Intel-FB-Patcher-tutorial-and-insertion-pose.html">Intel FB-Patcherä½¿ç”¨æ•™ç¨‹åŠæ’å…¥å§¿åŠ¿</a>ã€‚æ‹“å±•é˜…è¯»ï¼š<a href="https://www.jianshu.com/p/d3686b6f3ef6">ã€é»‘è‹¹æœæ˜¾å¡é©±åŠ¨ã€‘é€šè¿‡Device/properties ç»™Framebufferæ‰“è¡¥ä¸ä¸€ç‚¹ç»éªŒ</a>ã€‚è§†é¢‘æ¼”ç¤ºï¼š<a href="https://www.bilibili.com/video/av35104213?from=search&seid=4950317082513025527">Intel FB-Patcheræ­£ç¡®æ¼”ç¤º1102ä¿®æ”¹</a>ã€‚ä¸è¿‡åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜æ˜¯è®©ç³»ç»Ÿè„±ç¦»Uç›˜å¼•å¯¼ã€‚ä½¿ç”¨Clover Configuratorè¿™æ¬¾è½¯ä»¶ï¼ˆåæ–‡ä¸­ç®€ç§°CFGè½¯ä»¶ï¼‰ç‚¹å‡»å·¦ä¾§mount EFIé€‰é¡¹å¡ï¼Œé€‰æ‹©æˆ‘ä»¬ç¡¬ç›˜ä¸Šçš„EFIåˆ†åŒºã€‚<br><img src="/images/%E6%8C%82%E8%BD%BDEFI%E5%88%86%E5%8C%BA.png" alt="æŒ‚è½½EFIåˆ†åŒº"><br>ç‚¹å‡»å›¾ä¸­ç®­å¤´æ‰€æŒ‡çš„æŒ‰é’®åè¾“å…¥æˆ‘ä»¬å¼•å¯¼è®¾ç½®ä¸­è®¾ç½®çš„ç”µè„‘å¯†ç å°±å¯ä»¥æŒ‚è½½ç¡¬ç›˜ä¸Šçš„EFIåˆ†åŒºã€‚åŒæ ·ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ä¹Ÿå¯ä»¥æŒ‚è½½Uç›˜ä¸Šçš„EFIåˆ†åŒºã€‚ä¹‹åï¼Œæˆ‘ä»¬æŠŠUç›˜ä¸­çš„efiåˆ†åŒºEFIæ–‡ä»¶å¤¹ä¸‹çš„CLOVERæ–‡ä»¶å¤¹å’ŒBOOTæ–‡ä»¶å¤¹å¤åˆ¶åˆ°ç¡¬ç›˜efiåˆ†åŒºçš„EFIæ–‡ä»¶å¤¹ä¸‹ã€‚å¤åˆ¶å¥½åæ‰“å¼€ç¡¬ç›˜ä¸­çš„EFIåˆ†åŒºä¸­çš„CLOVERæ–‡ä»¶å¤¹ï¼Œåˆ é™¤é™¤å»config_UHD630çš„å…¶ä»–plisté…ç½®æ–‡ä»¶ï¼Œå¹¶ä¸”æŠŠconfig_UHD630.plisté‡å‘½åä¸ºconfig.plistå¹¶ä¸”ç”¨CFGè½¯ä»¶æ‰“å¼€ï¼Œç‚¹å‡»å·¦ä¾§SMBIOSï¼Œå³è¾¹ç‚¹å‡»ä¸€ä¸ªä¸Šä¸‹åœ¨ä¸€èµ·çš„ç®­å¤´é€‰æ‹©æœºå‹ï¼Œä»¥æ­¤æ¥é…ç½®æˆ‘ä»¬çš„é»‘è‹¹æœæœºå‹ã€‚æˆ‘è¿™é‡Œé€‰æ‹©çš„æ˜¯iMac18,3ã€‚<br><img src="/images/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8CFG%E7%94%9F%E6%88%90%E6%9C%BA%E5%9E%8B.png" alt="å¦‚ä½•ä½¿ç”¨CFGç”Ÿæˆæœºå‹"><br>ç°åœ¨å°±å¯ä»¥é€šè¿‡ç¡¬ç›˜å¯åŠ¨å¼•å¯¼äº†ï¼Œæˆ‘ä»¬æŠŠUç›˜æ¨å‡ºæ‹”æ‰ã€‚ä¸‹ä¸€æ®µï¼Œæˆ‘è¦å¥½å¥½è¯´ä¸€ä¸‹é‡åˆ°çš„ä¸€äº›å‘ã€‚</p><h3 id="é©±åŠ¨æ ¸æ˜¾é‡åˆ°çš„å‘"><a href="#é©±åŠ¨æ ¸æ˜¾é‡åˆ°çš„å‘" class="headerlink" title="é©±åŠ¨æ ¸æ˜¾é‡åˆ°çš„å‘"></a>é©±åŠ¨æ ¸æ˜¾é‡åˆ°çš„å‘</h3><p>ä¸€å¼€å§‹ç”¨è½¯ä»¶ç”Ÿæˆäº†config.plistæ–‡ä»¶æ”¾åœ¨æ¡Œé¢ï¼Œä½¿ç”¨CFGè½¯ä»¶æ‰“å¼€ï¼ŒåŒæ—¶æ‰“å¼€ç¡¬ç›˜EFIåˆ†åŒºä¸­çš„configæ–‡ä»¶ã€‚æ¡Œé¢çš„configæ–‡ä»¶ä½¿ç”¨CFGè½¯ä»¶æ‰“å¼€åï¼Œå·¦ä¾§é€‰Devicesï¼Œå³ä¸‹è§’ç‚¹å‡»Propertiesï¼Œå¯ä»¥çœ‹åˆ°éœ€è¦æ‰“çš„è¡¥ä¸åœ¨é‡Œé¢äº†ã€‚åœ¨ä¸‹é¢ä¸€å°æ ä¸­å·¦ä¾§å³é”®copyï¼Œç²˜è´´åˆ°ç¡¬ç›˜çš„EFIåˆ†åŒºä¸­çš„configæ–‡ä»¶å¯¹åº”ä½ç½®ã€‚ï¼ˆä¸Šé¢è§†é¢‘æ¼”ç¤ºä¸­æ˜¯ç›´æ¥æŠŠæ‰“å¥½è¡¥ä¸çš„é…ç½®æ–‡ä»¶å¯¼å‡ºåˆ°ç¡¬ç›˜EFIåˆ†åŒºï¼Œè¿™ä¹ˆåšçš„è¯ä»–ä¼šè‡ªåŠ¨æŠŠè¡¥ä¸æ‹·è´åˆ°ç¡¬ç›˜çš„é…ç½®æ–‡ä»¶ä¸­ï¼ŒåŒæ—¶æŠŠåŸæ¥çš„é…ç½®æ–‡ä»¶å¤‡ä»½ï¼Œæˆ‘è¿™é‡Œæ˜¯æ‰‹åŠ¨å¤åˆ¶è¿‡å»ï¼‰ã€‚è¡¥ä¸æ‰“å¥½ä¹‹åï¼Œé‡å¯å‘ç°æ˜¾å¡è™½ç„¶é©±åŠ¨ä¸Šäº†ï¼Œæ˜¾å­˜2048Mï¼Œä½†æ˜¯å±å¹•ä¸€ç›´åœ¨é—ªï¼Œçœ¼ç›éƒ½å¿«è¦çæ‰é‚£ç§ã€‚ä¸€å¼€å§‹æˆ‘ä»¥ä¸ºæ˜¯å› ä¸ºåŒå­¦2Kå±å±å¹•çš„ç¼˜æ•…ï¼Œæ•…è°ƒæ•´ä¸€ä¸‹å‚æ•°ï¼š</p><ul><li>framebuffer-stolenmem:00003001 -&gt; 00000008(19Mæ”¹128M)</li><li>framebuffer-unifiedmem:00000080 -&gt; 000000C0(æ˜¾å­˜è°ƒæ•´æˆ3G)</li><li>framebuffer-fbmem:00009000 -&gt; 00000003(fbå†…å­˜9Mæ”¹48M)</li></ul><p>æ·»åŠ ä¸€ä¸ªå‚æ•°ï¼š</p><ul><li>framebuffer-cursormem -&gt; 00000003(cursorå†…å­˜è®¾ç½®ä¸º48M)</li></ul><p>ä¿®æ”¹å¥½ä¹‹åï¼Œä¿å­˜ï¼Œé€šè¿‡ç¡¬ç›˜å¯åŠ¨ã€‚ç«Ÿç„¶å‘ç°å†…æ ¸å´©æºƒäº†ï¼ŒåŸå› æ˜¯framebufferè¡¥ä¸æ²¡æ‰“å¥½ã€‚<br><img src="/images/%E5%86%85%E6%A0%B8%E5%B4%A9%E6%BA%83.png" alt="å†…æ ¸å´©æºƒ"><br>å¯æ˜¯æˆ‘æ˜æ˜æ‰“äº†å•Šï¼Œè¿˜æ˜¯æŒ‰ç…§é«˜åˆ†å±æ¥æ‰“çš„å•Šï¼åæ¥æˆ‘çŒœæµ‹ï¼Œframebuffer-stolenmemç¿»è¯‘æˆä¸­æ–‡æ„æ€æ˜¯ä¸¢å¤±çš„å†…å­˜ï¼Œä½œç”¨å¯èƒ½æ˜¯ç»™BIOSä¸­æ·»åŠ DVMTå†…å­˜çš„ã€‚4Kå±éœ€è¦128Mæˆ–ä»¥ä¸Šï¼Œæ™®é€šå±å¹•éœ€è¦32Mä»¥ä¸Šï¼Œè€Œç¬”è®°æœ¬ä¸€èˆ¬ä¸èƒ½åœ¨biosè®¾ç½®è¿™ä¸ªï¼Œè€Œä¸€èˆ¬å¤§å°å¯èƒ½æ˜¯32Mï¼Œå…·ä½“å¤šå°‘æˆ‘ä¸æ¸…æ¥šï¼Œæ‰€ä»¥åªèƒ½é€šè¿‡è¿™ä¸ªè¡¥ä¸€ä¸ª19Mä¸Šå»ï¼Œè¿™æ ·å°±ä¼šå¤§äº32Mäº†ã€‚å¯æ˜¯è¦çŸ¥é“æˆ‘ä»¬ä¸€å¼€å§‹åœ¨BIOSé‡Œé¢å°±è®¾ç½®æˆäº†128Mï¼Œç„¶åæˆ‘ä»¬åˆåŠ äº†ä¸€ä¸ª128Mï¼Œå¯èƒ½æ˜¯è¿™ä¸ªDVMTå†…å­˜è¿‡å¤§å¯¼è‡´è¡¥ä¸åè€Œæ²¡æ‰“ä¸Šå»ã€‚æœ‰äº†è¿™ä¸ªçŒœæƒ³ï¼Œç”¨Uç›˜å¼•å¯¼å¯åŠ¨ï¼Œè¿›å…¥ç³»ç»Ÿåæˆ‘åˆæŠŠè¿™ä¸ªæ”¹å›å»äº†ã€‚ä¹‹åå…³æœºï¼Œåˆç”¨ç¡¬ç›˜å¼•å¯¼å¯åŠ¨ï¼Œå‘ç°èƒ½è¿›å»ç³»ç»Ÿï¼ˆåŸæ¥æˆ‘çš„çŒœæƒ³æ˜¯æ­£ç¡®çš„ï¼Œå“å¾—æˆ‘èµ¶ç´§å»æ”¹äº†ä¸€ä¸‹æˆ‘çš„åšå®¢ï¼š<a href="https://www.jianshu.com/p/d3686b6f3ef6">ã€é»‘è‹¹æœæ˜¾å¡é©±åŠ¨ã€‘é€šè¿‡Device/properties ç»™Framebufferæ‰“è¡¥ä¸ä¸€ç‚¹ç»éªŒ</a>ï¼‰ã€‚æ˜¾å­˜ä¹Ÿæ˜¯3Gï¼Œä½†æ˜¯è¿˜æ˜¯ä¸åœåœ¨é—ªå±ã€‚è«éé—ªå±ä¸æ˜¯è¿™äº›çš„å½±å“ï¼Ÿå¹¸è¿çš„æ˜¯ï¼Œåœ¨ç½‘ä¸Šçˆ¬å¸–å‘ç°ä¹Ÿæœ‰äººé‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œé©±åŠ¨UHD630ä¹‹åå´ä¸€ç›´åœ¨é—ªå±ï¼Œä»–ä»¬é€šè¿‡æŠŠè¿›è¡Œä¿®æ”¹æˆiMac18,1è§£å†³äº†ã€‚åŸæ¥è¿™ä¹ˆç®€å•å°±å¯ä»¥è§£å†³ã€‚æœç„¶ï¼Œæˆ‘ä½¿ç”¨CFGè½¯ä»¶ç¼–è¾‘ç¡¬ç›˜ä¸Šçš„configé…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹SMBIOSä¸ºiMac18,1ä¹‹åä¸ä¼šé—ªå±äº†ã€‚</p><h3 id="å£°å¡é©±åŠ¨"><a href="#å£°å¡é©±åŠ¨" class="headerlink" title="å£°å¡é©±åŠ¨"></a>å£°å¡é©±åŠ¨</h3><p>è¿™ä¸€éƒ¨åˆ†æ¯”è¾ƒç®€å•ï¼Œå› ä¸ºè¿™å—ä¸»æ¿å£°å¡é©±åŠ¨æœ‰å…ˆä¾‹ï¼Œæˆ‘çŸ¥é“è¿™å—æ¿å­çš„layout-idè¯¥æ³¨å…¥å¤šå°‘ã€‚ï¼ˆlayout-idå½±å“ç€å£°å¡è¾“å‡ºè·¯çº¿ã€‚ä¸ªäººç†è§£ï¼šæ¯”å¦‚å£°å¡é€šè¿‡ä»€ä¹ˆçº¿è·¯è¾“å‡ºåˆ°å‰ç½®è€³æœºå­”ã€åç½®è€³æœºå­”ã€å†…ç½®æ‰¬å£°å™¨å•Šä»€ä¹ˆçš„ã€‚ä¸­æ–‡æ„æ€å°±æ˜¯å¸ƒå±€idï¼Œé¡¾åæ€ä¹‰ï¼Œæœ‰ç‚¹è¾“å‡ºçº¿è·¯å¸ƒå±€çš„å‘³é“ã€‚ä¹Ÿå°±æ˜¯å£°å¡é€šè¿‡ä»€ä¹ˆçº¿è·¯è¾“å‡ºé€šè¿‡è¿™ä¸ªidå†³å®šï¼Œå¡«å¯¹äº†æ‰ä¼šæœ‰å£°éŸ³å˜›ã€‚è¯ç©·ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“æ€ä¹ˆè§£é‡Šï¼Œæƒ³çŸ¥é“æœ‰å“ªäº›æ•°å­—å¯ä»¥çœ‹æˆ‘ä¸Šä¸€ç¯‡åšå®¢<a href="https://www.jianshu.com/p/8c9abd4f5b66">ã€Šè®°ä¸€æ¬¡é»‘è‹¹æœå®‰è£…ã€‹</a>ï¼‰ã€‚è¿™å—ä¸»æ¿layout-idæ˜¯92ï¼Œæˆ‘ä»¬é€šè¿‡CFGè½¯ä»¶æ‰“å¼€ç¡¬ç›˜ä¸Šçš„configé…ç½®æ–‡ä»¶ï¼Œåœ¨å›¾ä¸­ä½ç½®å¡«ä¸Š92ã€‚<br><img src="/images/%E5%A3%B0%E5%8D%A1layout-id%E6%B3%A8%E5%85%A5.png" alt="å£°å¡layout-idæ³¨å…¥"><br>ç„¶åæ‰“å¼€ç¡¬ç›˜EFIåˆ†åŒºï¼šCLOVER/kexts/otherï¼Œæ‰“å¼€è¿™ä¸ªæ–‡ä»¶å¤¹ä¹‹åæ‰“å¼€è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„<code>å…¶ä»–é©±åŠ¨</code>æ–‡ä»¶å¤¹ï¼ŒæŠŠ<code>AppleALC</code>æœ€æ–°ç‰ˆè¿™ä¸ªé©±åŠ¨æ”¾åˆ°<code>other</code>ç›®å½•ä¸‹ã€‚è®°å¾—ä¿å­˜å¥½é…ç½®æ–‡ä»¶ä¹‹åé‡å¯ä¸€ä¸‹ï¼Œå£°å¡å°±æˆåŠŸé©±åŠ¨ä¸Šäº†ã€‚æœ€åï¼Œé™„ä¸Šä¸€å¼ å…³äºæœ¬æœºå›¾ç‰‡ï¼š<br><img src="/images/%E5%85%B3%E4%BA%8E%E6%9C%AC%E6%9C%BA.jpg" alt="å…³äºæœ¬æœº"></p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h3&gt;&lt;p&gt;ä¹‹å‰æˆ‘åŒå­¦åœ¨å…¬å¸ç”³è¯·äº†ä¸€ä¸ªå°å¼ï¼Œç¡¬ä»¶æ˜¯ç”±è‡ªå·±æŒ‘é€‰ï¼Œå…¬å¸è´­ä¹°ã€‚äºæ˜¯ä¹ï¼Œæˆ‘å’Œä»–ä¸€èµ·æŒ‘é€‰äº†å…¼å®¹æ€§è¾ƒå¥½çš„é»‘è‹¹æœç¡¬ä»¶ï¼Œå‰å¤©ç»„è£…å¥½ã€‚ç„¶åå°±åœ¨æ˜¨å¤©å¼€å§‹å®‰è£…é»‘è‹¹æœã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="é»‘è‹¹æœ" scheme="https://www.cyixlq.top/categories/%E9%BB%91%E8%8B%B9%E6%9E%9C/"/>
    
    
    <category term="æ˜¾å¡é©±åŠ¨" scheme="https://www.cyixlq.top/tags/%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8/"/>
    
    <category term="é—®é¢˜è§£å†³è®°å½•" scheme="https://www.cyixlq.top/tags/%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3%E8%AE%B0%E5%BD%95/"/>
    
    <category term="é»‘è‹¹æœå®‰è£…" scheme="https://www.cyixlq.top/tags/%E9%BB%91%E8%8B%B9%E6%9E%9C%E5%AE%89%E8%A3%85/"/>
    
  </entry>
  
  <entry>
    <title>ã€é»‘è‹¹æœæ˜¾å¡é©±åŠ¨ã€‘é€šè¿‡Device/properties ç»™Framebufferæ‰“è¡¥ä¸ä¸€ç‚¹ç»éªŒ</title>
    <link href="https://www.cyixlq.top/2018/12/04/FB-patcher/"/>
    <id>https://www.cyixlq.top/2018/12/04/FB-patcher/</id>
    <published>2018-12-03T17:21:47.000Z</published>
    <updated>2021-04-12T02:22:26.760Z</updated>
    
    <content type="html"><![CDATA[<h3 id="æœ¬æ–‡å‚è€ƒCoffee-Lakeå¸§ç¼“å†²åŒºè¡¥ä¸åŠUHD630-Coffee-Lake-ig-platform-idæ•°æ®æ•´ç†ï¼Œç®—æ˜¯å¯¹æ–‡ç« çš„ä¸€ç§è¡¥å……å§ï¼æ³¨æ„ï¼Œæœ¬ç¯‡æ–‡ç« ä¸é€‚åˆå°ç™½é˜…è¯»ï¼"><a href="#æœ¬æ–‡å‚è€ƒCoffee-Lakeå¸§ç¼“å†²åŒºè¡¥ä¸åŠUHD630-Coffee-Lake-ig-platform-idæ•°æ®æ•´ç†ï¼Œç®—æ˜¯å¯¹æ–‡ç« çš„ä¸€ç§è¡¥å……å§ï¼æ³¨æ„ï¼Œæœ¬ç¯‡æ–‡ç« ä¸é€‚åˆå°ç™½é˜…è¯»ï¼" class="headerlink" title="æœ¬æ–‡å‚è€ƒCoffee Lakeå¸§ç¼“å†²åŒºè¡¥ä¸åŠUHD630 Coffee Lake ig-platform-idæ•°æ®æ•´ç†ï¼Œç®—æ˜¯å¯¹æ–‡ç« çš„ä¸€ç§è¡¥å……å§ï¼æ³¨æ„ï¼Œæœ¬ç¯‡æ–‡ç« ä¸é€‚åˆå°ç™½é˜…è¯»ï¼"></a>æœ¬æ–‡å‚è€ƒ<a href="https://blog.daliansky.net/Coffee-Lake-frame-buffer-patch-and-UHD630-Coffee-Lake-ig-platform-id-data-finishing.html">Coffee Lakeå¸§ç¼“å†²åŒºè¡¥ä¸åŠUHD630 Coffee Lake ig-platform-idæ•°æ®æ•´ç†</a>ï¼Œç®—æ˜¯å¯¹æ–‡ç« çš„ä¸€ç§è¡¥å……å§ï¼æ³¨æ„ï¼Œæœ¬ç¯‡æ–‡ç« ä¸é€‚åˆå°ç™½é˜…è¯»ï¼</h3><span id="more"></span><h3 id="ä¸€ï¼Œæ‰“è¿™ä¸ªè¡¥ä¸æœ‰ä»€ä¹ˆç”¨å¤„ï¼Ÿ"><a href="#ä¸€ï¼Œæ‰“è¿™ä¸ªè¡¥ä¸æœ‰ä»€ä¹ˆç”¨å¤„ï¼Ÿ" class="headerlink" title="ä¸€ï¼Œæ‰“è¿™ä¸ªè¡¥ä¸æœ‰ä»€ä¹ˆç”¨å¤„ï¼Ÿ"></a>ä¸€ï¼Œæ‰“è¿™ä¸ªè¡¥ä¸æœ‰ä»€ä¹ˆç”¨å¤„ï¼Ÿ</h3><p>æ‰“è¿™ä¸ªè¡¥ä¸å°±èƒ½æˆåŠŸé©±åŠ¨ä½ çš„<code>æ ¸æ˜¾</code>ï¼Œè®©å®ƒæ­£å¸¸å·¥ä½œã€‚å¦‚æœå·²ç»æˆåŠŸé©±åŠ¨äº†æ ¸æ˜¾çš„å°±æ²¡å¿…è¦çœ‹äº†ã€‚</p><h3 id="äºŒï¼Œå‡†å¤‡å·¥ä½œ"><a href="#äºŒï¼Œå‡†å¤‡å·¥ä½œ" class="headerlink" title="äºŒï¼Œå‡†å¤‡å·¥ä½œ"></a>äºŒï¼Œå‡†å¤‡å·¥ä½œ</h3><ul><li><p>æ·»åŠ å¯åŠ¨å‚æ•° -cdfonï¼Œåˆ é™¤å¯åŠ¨å‚æ•° -disablegfxfirmware</p></li><li><p>  åˆ é™¤<code>FakePCIID</code>,<code>IntelGraphicsFixup</code>,<code>NvidiaGraphicsFixup</code>,<code>Shiki</code>å’Œ<code>CoreDisplayFixup</code></p></li><li><p>å…³é—­<code>Clover</code>é‡Œé¢å…³äº<code>Graphics</code>æ³¨å…¥çš„å‚æ•°ï¼Œè¿™äº›å‚æ•°åŒ…æ‹¬ï¼š</p><ul><li>  config.plist/Graphics/Inject/ATI=NO</li><li>  config.plist/Graphics/Inject/Intel=NO</li><li>  config.plist/Graphics/Inject/NVidia=NO</li><li>  config.plist/Graphics/ig-platform-id=</li><li>  config.plist/Devices/FakeID/IntelGFX=</li></ul></li><li><p>å…³é—­<code>Clover</code>é‡Œé¢å…³äº<code>DSDT</code>çš„ä¿®å¤ï¼š</p><ul><li>  AddHDMI</li><li>  FixDisplay</li><li>  FixIntelGfx</li><li>  AddIMEI</li></ul></li><li><p>  ç¦ç”¨<code>UseIntelHDMI</code></p></li><li><p>  ç§»é™¤<code>boot argument</code>å‚æ•°ï¼š<code>-disablegfxfirmware</code></p></li><li><p>ç§»é™¤<code>IGPU</code>å’Œ<code>HDMI</code>éƒ¨åˆ†çš„å…¨éƒ¨å†…å®¹ï¼ŒåŒ…æ‹¬ï¼š</p><ul><li>  config.plist/Devices/Arbitrary</li><li>  config.plist/Devices/Properties</li><li>  config.plist/Devices/AddProperties</li></ul></li><li><p>  ä»CLOVER/ACPI/patchedåˆ é™¤ä»»ä½•ä¸<code>IGPU</code>å’Œ<code>HDMI</code>ç›¸å…³çš„<code>SSDT</code>å’Œ<code>DSDT</code></p></li><li><p>ä¸‹è½½<code>WhateverGreen</code>å’Œ<code>Lilu</code>æœ€æ–°ç‰ˆæœ¬<br><a href="https://github.com/acidanthera/Lilu/releases">Liluä¸‹è½½åœ°å€</a><br><a href="https://github.com/acidanthera/WhateverGreen/releases">WhateverGreenä¸‹è½½åœ°å€</a></p></li></ul><h3 id="ä¸‰ï¼Œç¡®å®šè·å–iGPUæ˜¾å¡è®¾å¤‡çš„è·¯å¾„"><a href="#ä¸‰ï¼Œç¡®å®šè·å–iGPUæ˜¾å¡è®¾å¤‡çš„è·¯å¾„" class="headerlink" title="ä¸‰ï¼Œç¡®å®šè·å–iGPUæ˜¾å¡è®¾å¤‡çš„è·¯å¾„"></a>ä¸‰ï¼Œç¡®å®šè·å–iGPUæ˜¾å¡è®¾å¤‡çš„è·¯å¾„</h3><p>ä¸‹è½½å¹¶ä½¿ç”¨<a href="https://github.com/acidanthera/gfxutil/releases">gfxutil</a>å·¥å…·ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ gfxutil -f IGPU</span><br><span class="line">DevicePath &#x3D; PciRoot(0x0)&#x2F;Pci(0x2,0x0)</span><br></pre></td></tr></table></figure><p>è¿™æ ·æˆ‘ä»¬ç¡®å®šäº†æ˜¾å¡è·¯å¾„ä¹‹åï¼ŒæŠŠ<code>=</code>å·ä¹‹åçš„è·¯å¾„å¤åˆ¶ä¸‹æ¥ï¼Œå¡«å…¥å¦‚ä¸‹å›¾çš„æ‰€ç¤ºçš„ä½ç½®ï¼š<br><img src="/images/%E6%95%B0%E6%8D%AE%E5%A1%AB%E5%85%A5%E5%B1%95%E7%A4%BA.png" alt="æ•°æ®å¡«å…¥å±•ç¤º"></p><h3 id="å››ï¼Œä¸€äº›å‚æ•°ä»‹ç»ï¼ˆé™¤äº†ç¬¬6ä¸ªå€¼å¿…é¡»è®¾ç½®ï¼Œå…¶ä»–å¯é€‰ï¼‰"><a href="#å››ï¼Œä¸€äº›å‚æ•°ä»‹ç»ï¼ˆé™¤äº†ç¬¬6ä¸ªå€¼å¿…é¡»è®¾ç½®ï¼Œå…¶ä»–å¯é€‰ï¼‰" class="headerlink" title="å››ï¼Œä¸€äº›å‚æ•°ä»‹ç»ï¼ˆé™¤äº†ç¬¬6ä¸ªå€¼å¿…é¡»è®¾ç½®ï¼Œå…¶ä»–å¯é€‰ï¼‰"></a>å››ï¼Œä¸€äº›å‚æ•°ä»‹ç»ï¼ˆé™¤äº†ç¬¬6ä¸ªå€¼å¿…é¡»è®¾ç½®ï¼Œå…¶ä»–å¯é€‰ï¼‰</h3><ol><li>framebuffer-patch-enableï¼ˆæ˜¯å¦å¯ç”¨framebufferè¡¥ä¸ï¼Œå½“ç„¶å¯ç”¨å•Šï¼Œä¸å¯ç”¨çš„è¯è¿™ç¯‡æ–‡ç« è¿˜æœ‰ä»€ä¹ˆç”¨å¤„ï¼‰ï¼š</li></ol><ul><li>DATAæ•°æ®ï¼š01000000 -&gt; 1ï¼ˆå¯ç”¨ï¼‰    00000000 -&gt; 0ï¼ˆä¸å¯ç”¨ï¼‰</li><li>NUMBERæ•°æ®ï¼š0ï¼ˆä¸å¯ç”¨ï¼‰   1ï¼ˆå¯ç”¨ï¼‰</li></ul><ol start="2"><li>framebuffer-stolenmemï¼ˆç»™BIOSä¸­DVMTæ·»åŠ ä¸€ç‚¹å†…å­˜å¤§å°ï¼Œä¼šå½±å“é«˜åˆ†å±ï¼Œè¿™ä¸ªå€¼å¿…é¡»å¤§äº32Mï¼Œä¹Ÿä¸åº”è¯¥è¿‡é«˜ï¼‰ï¼š</li></ol><ul><li>ä¸€èˆ¬1080På±å¹•çš„è¯ï¼Œè®¾ç½®ä¸º48Må°±å¤Ÿç”¨äº†ï¼š00003001</li><li>å½“ä½ çš„ç¬”è®°æœ¬ç”µè„‘å±å¹•æ˜¯2kï¼Œä½ å¯ä»¥è®¾ç½®ä¸º64Mï¼š00000004</li><li>4Kå±çš„è¯ï¼Œè¦è®¾ç½®ä¸º128Mï¼š00000008<br>å¦‚æœä½ çš„BIOSä¸­å¯ä»¥è®¾ç½®DVMTçš„è¯å¹¶ä¸”ä½ è®¾ç½®æˆä¸º128Mä¹‹åï¼Œå¯ä»¥ä¸éœ€è¦è®¾ç½®è¿™ä¸ªå±æ€§ï¼Œæˆ–è€…è¿™ä¸ªå±æ€§è®¾ç½®å°ä¸€ç‚¹ï¼š00003001<br>ä¿é™©èµ·è§ï¼Œé«˜åˆ†å±ç›´æ¥è®¾ç½®æˆ128Mæ¯”è¾ƒç¨³ï¼Œå¹¶ä¸”ä¿è¯åœ¨BIOSèƒ½è®¾ç½®DVMTçš„æƒ…å†µä¸‹è®¾ç½®åœ¨64Mæˆ–ä»¥ä¸‹<br>ï¼ˆPSï¼šè¿™ä¸€éƒ¨åˆ†å¯èƒ½æœ‰è¯¯ï¼Œä½†æ˜¯æœ€åä¸€å¥ä¿é™©èµ·è§ï¼Œé«˜åˆ†å±ç›´æ¥è®¾ç½®æˆ128Mæ¯”è¾ƒç¨³æ˜¯è¯•éªŒè¿‡çš„ï¼‰</li></ul><ol start="3"><li>framebuffer-unifiedmemï¼ˆæ ¸æ˜¾æ˜¾å­˜å¤§å°ï¼Œè°ƒå¤§ä¸€ç‚¹å¯èƒ½èƒ½è§£å†³èŠ±å±ï¼‰ï¼š</li></ol><ul><li>2048Mï¼š00000080</li><li>3072Mï¼š000000C0</li></ul><ol start="4"><li>framebuffer-cursormemï¼ˆç¿»è¯‘æˆä¸­æ–‡å°±æ˜¯å…‰æ ‡å†…å­˜ï¼Œä¼šå½±å“é«˜åˆ†å±ï¼Œæ¯”å¦‚é«˜åˆ†å±èŠ±å±å¯èƒ½å°±æ˜¯è¿™ä¸ªå€¼ä¸å¤Ÿå¤§ï¼‰ï¼š</li></ol><ul><li>ä¸€èˆ¬å±å¹•è®¾ç½®æˆ9Må¤§å°å°±å¥½ï¼š00009000</li><li>é«˜åˆ†å±çš„è¯æœ€å¥½ç›´æ¥è®¾ç½®æˆ48Mï¼š00000003 </li></ul><ol start="5"><li>framebuffer-fbmemï¼ˆframebufferå†…å­˜å¤§å°ï¼Œä¼šå½±å“é«˜åˆ†å±ï¼‰ï¼š</li></ol><ul><li>ä¸€èˆ¬å±å¹•è®¾ç½®æˆ9Må¤§å°å°±å¥½ï¼š00009000</li><li>é«˜åˆ†å±çš„è¯æœ€å¥½ç›´æ¥è®¾ç½®æˆ48Mï¼š00000003</li></ul><ol start="6"><li>AAPL,ig-platform-idï¼ˆè®¾å¤‡å¹³å°idï¼Œç›´æ¥å½±å“æ˜¾å¡æ˜¯å¦èƒ½æˆåŠŸé©±åŠ¨ï¼‰ï¼š<br>ä¸¾ä¾‹ä¸€äº›å¸¸ç”¨<code>ç¬”è®°æœ¬</code>çš„æ ¸æ˜¾idï¼ˆPSï¼šå¦‚æœæ²¡æœ‰åˆ—ä¸¾æ‚¨çš„ï¼Œè¿˜æœ›è‡ªå·±çˆ¬å¸–æŸ¥æ‰¾ï¼Œä¸€èˆ¬åˆ«äººåˆ¶ä½œçš„åŸç‰ˆé•œåƒä¹Ÿä¼šæä¾›å¤šä¸ªæ ¸æ˜¾é…ç½®æ–‡ä»¶ä¾›ä½ ä»¬ä½¿ç”¨ï¼Œåœ¨é‡Œé¢Graphics/ig-platform-idä¹Ÿå¯ä»¥çœ‹åˆ°ã€‚æˆ–è€…æ‚¨è¿˜å¯ä»¥å‚è€ƒæˆ‘æ–‡ç« å¼€å¤´æä¾›çš„æ–‡ç« é“¾æ¥æŸ¥æ‰¾ï¼‰ï¼š</li></ol><ul><li>HD4600ï¼ŒHD4200ï¼ŒHD4000ï¼ŒHD5000ï¼ŒHD5100ï¼ŒHD5200ï¼š0a260006ï¼ˆå¦‚æœä¸è¡Œè®¾ç½®åè€…ï¼‰ï¼Œ0a2e0008</li><li>HD5300ï¼ŒHD5500ï¼ŒHD6000ï¼š16260006</li><li>HD630ï¼š3e9b0000</li></ul><ol start="7"><li>device-idï¼ˆè®¾å¤‡idï¼Œå¯èƒ½æ˜¯èƒ½è®©é»‘è‹¹æœæ­£ç¡®æ˜¾ç¤ºè®¾å¤‡ä¿¡æ¯ï¼Œä¸Šé¢è®¾å¤‡å¹³å°idä¸€æ ·çš„ç»Ÿä¸€è®¾ç½®ä¸€ä¸ªå€¼ï¼‰ï¼š</li></ol><ul><li>0a260006ï¼Œ0a2e0008ï¼š12040000</li><li>16260006ï¼š16160000</li><li>3e9b0000ï¼š9b3e0000<br>PSï¼šæœ¬æ–‡æ²¡æœ‰æ”¶å½•çš„å¯ä»¥ä½¿ç”¨Intel FB Patcherè¿™ä¸ªè½¯ä»¶æŸ¥è¯¢ï¼Œæˆ–è€…ç›´æ¥ä½¿ç”¨è¿™ä¸ªè½¯ä»¶æ‰“è¡¥ä¸ã€‚å…·ä½“ç”¨æ³•ï¼šæŒ‰ç…§<a href="https://blog.daliansky.net/Intel-FB-Patcher-tutorial-and-insertion-pose.html">è¿™ç¯‡æ–‡ç« </a>æˆåŠŸè¾“å‡ºconfig.plistä¹‹åï¼ŒæŠŠä½ æ­£åœ¨ä½¿ç”¨çš„configæ–‡ä»¶ä¸­Devices/Propertiesä¸­å…¨éƒ¨çš„å‚æ•°å’Œå€¼åˆ é™¤ï¼Œç„¶åæŠŠè¾“å‡ºçš„é…ç½®æ–‡ä»¶å¯¹åº”çš„å‚æ•°ä¸å€¼å¤åˆ¶è¿‡å»ã€‚<a href="https://www.bilibili.com/video/av35104213?from=search&seid=4599094922106870017">è§†é¢‘æ¼”ç¤º</a></li></ul><ol start="8"><li>framebuffer-conN-enableï¼ˆNä¸ºæ•°å­—ï¼Œæ˜¾å¡ç¬¬Nä¸ªè¾“å‡ºæ¥å£æ˜¯å¦å¯ç”¨ï¼Œ1ä¸ºå¯ç”¨ï¼Œ0ä¸ºä¸å¯ç”¨ï¼‰ï¼š</li></ol><ul><li>DATAæ•°æ®ï¼š01000000 -&gt; 1ï¼ˆå¯ç”¨ï¼‰    00000000 -&gt; 0ï¼ˆä¸å¯ç”¨ï¼‰</li><li>NUMBERæ•°æ®ï¼š0ï¼ˆä¸å¯ç”¨ï¼‰   1ï¼ˆå¯ç”¨ï¼‰</li></ul><ol start="9"><li>framebuffer-conN-typeï¼ˆNä¸ºæ•°å­—ï¼Œæ˜¾å¡ç¬¬Nä¸ªè¾“å‡ºæ¥å£çš„ç±»å‹ï¼‰ï¼š</li></ol><ul><li>00080000 ï¼šHDMIè¾“å‡º</li><li>0004000ï¼šDPè¾“å‡ºï¼ˆå¥½åƒæ˜¯çš„å§ï¼Œè®°ä¸æ¸…ï¼‰</li></ul><ol start="10"><li>framebuffer-conN-indexï¼ˆä¸ªäººç†è§£ï¼Œæ˜¾å¡ç¬¬Nä¸ªè¾“å‡ºæ¥å£çš„ä¼˜å…ˆçº§ï¼Œæˆ–è€…è¯´æ˜¯è®¾ç½®ç¬¬Nä¸ªè¾“å‡ºå£çš„ä½ç½®ï¼‰ï¼š<br>è¿™ä¸ªæŒ‰ä¸ªäººéœ€è¦è®¾ç½®ï¼Œå¦‚æœéœ€è¦å±è”½è¿™ä¸ªè¾“å‡ºå£ï¼Œå¯ä»¥è®¾ç½®æˆFFFFFFFFï¼Œä¹Ÿå°±æ˜¯æœ€å¤§çš„æ•°å­—ï¼Œè®©å®ƒè¶³å¤Ÿé åï¼Œè¿™æ ·å°±è¾¾åˆ°äº†å±è”½æ•ˆæœï¼</li></ol><ul><li>æœ€åï¼Œè¯·æ³¨æ„ï¼Œæ‰€æœ‰DATAæ•°æ®ç±»å‹éœ€è¦å°†æ•°æ®ä¸¤ä¸¤ä¸€ç»„å€’è¿‡æ¥å¡«å…¥ï¼Œä¾‹å¦‚ï¼š16260006è½¬æ¢ä¹‹åå°±æ˜¯è¿™æ ·06002616ï¼Œå¦‚ä¸‹å›¾ï¼š<br><img src="/images/%E6%95%B0%E6%8D%AE%E7%9A%84%E5%A1%AB%E5%85%A5.png" alt="æ•°æ®çš„å¡«å…¥"><br>æ‰€ä»¥ä½ ä¹Ÿå¯ä»¥å‘ç°ï¼Œç”¨framebuffer-fbmemå‚æ•°ä¸¾ä¾‹ï¼Œå½“éœ€è¦è®¾ç½®ä¸º48Mä¹‹åå®ƒåº”å¡«å…¥çš„å€¼æ˜¯ï¼š<code>00000003</code>ï¼Œè¿™ä¸ªä¹Ÿæ˜¯è½¬æ¢åçš„å€¼ï¼Œæ‰€ä»¥åŸæ¥çš„å€¼åº”å½“æ˜¯<code>03000000</code>ï¼Œè¿™æ˜¯ä¸€ä¸ª16è¿›åˆ¶çš„æ•°å­—ï¼Œè½¬æ¢æˆ10è¿›åˆ¶æ˜¯<code>50331648</code>ã€‚æˆ‘ä»¬çŸ¥é“1M=1024KBï¼Œ1KB = 1024Bï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬æŠŠè½¬æ¢æˆåè¿›åˆ¶ä¹‹åçš„æ•°å­—<code>50331648</code>é™¤ä»¥1024ç„¶åå†é™¤ä»¥1024ï¼Œå¾—å‡ºçš„ç»“æœå°±æ˜¯48äº†ï¼Œæ‰€ä»¥è¿™ä¸²æ•°å­—ä»£è¡¨çš„å°±æ˜¯48Mã€‚<a href="https://tool.lu/hexconvert/">ç‚¹å‡»è¿™é‡Œå‰å¾€è¿›åˆ¶è½¬æ¢ç½‘é¡µ</a><br>å½“ç„¶ä¸ºäº†æ–¹ä¾¿ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥åƒä¸‹å›¾ä¸­åˆ‡æ¢æˆNUMBERæ•°æ®ç±»å‹ï¼Œè¿™æ ·ä½ å°±ä¸ç”¨è½¬æ¢æˆ16è¿›åˆ¶ï¼Œä¸ç”¨å€’è¿‡æ¥è¾“å…¥ï¼ˆig-platformå¿…é¡»ä¸ºDATAï¼‰ï¼š<br><img src="/images/%E8%BD%AC%E6%8D%A2%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.png" alt="è½¬æ¢æ•°æ®ç±»å‹"></li></ul><h2 id="åæ–‡"><a href="#åæ–‡" class="headerlink" title="åæ–‡"></a>åæ–‡</h2><p>æœ¬ç¯‡æ–‡ç« å¹¶ä¸å…¨é¢ï¼Œè¿˜æœ‰ä¸€äº›å‚æ•°æ²¡ç ”ç©¶æ‡‚ï¼Œæ¯•ç«Ÿé»‘è‹¹æœæ–‡åŒ–åšå¤§ç²¾æ·±ï¼Œæ‰€ä»¥å½“ä½œè€…å­¦ä¹ åˆ°æ–°çŸ¥è¯†ä¹‹åä¼šä¸å®šæœŸæ›´æ–°ã€‚å–œæ¬¢çš„æœ‹å‹å¯ä»¥ç‚¹ä¸€æ³¢çˆ±å¿ƒï¼Œå†é¡ºæ‰‹å…³æ³¨ä¸€ä¸‹ä½œè€…ï¼</p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;æœ¬æ–‡å‚è€ƒCoffee-Lakeå¸§ç¼“å†²åŒºè¡¥ä¸åŠUHD630-Coffee-Lake-ig-platform-idæ•°æ®æ•´ç†ï¼Œç®—æ˜¯å¯¹æ–‡ç« çš„ä¸€ç§è¡¥å……å§ï¼æ³¨æ„ï¼Œæœ¬ç¯‡æ–‡ç« ä¸é€‚åˆå°ç™½é˜…è¯»ï¼&quot;&gt;&lt;a href=&quot;#æœ¬æ–‡å‚è€ƒCoffee-Lakeå¸§ç¼“å†²åŒºè¡¥ä¸åŠUHD630-Coffee-Lake-ig-platform-idæ•°æ®æ•´ç†ï¼Œç®—æ˜¯å¯¹æ–‡ç« çš„ä¸€ç§è¡¥å……å§ï¼æ³¨æ„ï¼Œæœ¬ç¯‡æ–‡ç« ä¸é€‚åˆå°ç™½é˜…è¯»ï¼&quot; class=&quot;headerlink&quot; title=&quot;æœ¬æ–‡å‚è€ƒCoffee Lakeå¸§ç¼“å†²åŒºè¡¥ä¸åŠUHD630 Coffee Lake ig-platform-idæ•°æ®æ•´ç†ï¼Œç®—æ˜¯å¯¹æ–‡ç« çš„ä¸€ç§è¡¥å……å§ï¼æ³¨æ„ï¼Œæœ¬ç¯‡æ–‡ç« ä¸é€‚åˆå°ç™½é˜…è¯»ï¼&quot;&gt;&lt;/a&gt;æœ¬æ–‡å‚è€ƒ&lt;a href=&quot;https://blog.daliansky.net/Coffee-Lake-frame-buffer-patch-and-UHD630-Coffee-Lake-ig-platform-id-data-finishing.html&quot;&gt;Coffee Lakeå¸§ç¼“å†²åŒºè¡¥ä¸åŠUHD630 Coffee Lake ig-platform-idæ•°æ®æ•´ç†&lt;/a&gt;ï¼Œç®—æ˜¯å¯¹æ–‡ç« çš„ä¸€ç§è¡¥å……å§ï¼æ³¨æ„ï¼Œæœ¬ç¯‡æ–‡ç« ä¸é€‚åˆå°ç™½é˜…è¯»ï¼&lt;/h3&gt;</summary>
    
    
    
    <category term="é»‘è‹¹æœ" scheme="https://www.cyixlq.top/categories/%E9%BB%91%E8%8B%B9%E6%9E%9C/"/>
    
    
    <category term="é»‘è‹¹æœ" scheme="https://www.cyixlq.top/tags/%E9%BB%91%E8%8B%B9%E6%9E%9C/"/>
    
    <category term="æ˜¾å¡é©±åŠ¨" scheme="https://www.cyixlq.top/tags/%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8/"/>
    
  </entry>
  
  <entry>
    <title>è®°ä¸€æ¬¡é»‘è‹¹æœå®‰è£…</title>
    <link href="https://www.cyixlq.top/2018/11/06/%E8%AE%B0%E4%B8%80%E6%AC%A1%E9%BB%91%E8%8B%B9%E6%9E%9C%E5%AE%89%E8%A3%85/"/>
    <id>https://www.cyixlq.top/2018/11/06/%E8%AE%B0%E4%B8%80%E6%AC%A1%E9%BB%91%E8%8B%B9%E6%9E%9C%E5%AE%89%E8%A3%85/</id>
    <published>2018-11-06T10:59:33.000Z</published>
    <updated>2021-04-12T02:20:28.367Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>å…¶å®ä¸€ç›´æƒ³åœ¨è‹¹æœä¸Šåšå¼€å‘çš„ï¼Œå¯æ˜¯é¢å¯¹è‹¹æœç¡¬ä»¶é«˜æ˜‚çš„ä»·æ ¼ï¼Œæˆ‘è¿™ä¸ªå°ç©·é€¼åªèƒ½æœ›è€Œå´æ­¥ï¼Œä¾¿äº§ç”Ÿäº†è‡ªå·±è£…é»‘è‹¹æœçš„å¿µå¤´ã€‚å…¶å®é»‘è‹¹æœæˆ‘å¥½æ—©å°±æ¥è§¦è¿‡ï¼Œä½†æ˜¯æ˜¯ç»™æˆ‘ç¬”è®°æœ¬è£…çš„ï¼Œè¿˜æ˜¯ç”¨åˆ«äººé…ç½®å¥½çš„ï¼Œè£…èµ·æ¥å°±åƒè£…ç™½æœé‚£ä¹ˆç®€å•ã€‚æˆ‘è¿˜æ²¡è‡ªå·±å°è¯•è¿‡è‡ªå·±é…ç½®å‘¢ï¼Œæ‰€ä»¥æ‰æœ‰äº†è¿™æ¬¡åœ¨å°å¼æœºä¸Šçš„å®‰è£…çš„ä¸€æ¬¡æ–°çš„ä½“ä¼šã€‚è¯·æ³¨æ„ï¼Œæœ¬ç¯‡æ–‡ç« å¹¶ä¸æ˜¯æ•™ç¨‹ï¼Œæ›´å¤šçš„æ˜¯ä¸€ç¯‡å¿ƒå¾—ä½“ä¼šã€‚å¦å¤–è¦è¯´ä¸€ä¸‹ï¼Œå°å¼æœºé»‘è‹¹æœæ˜¯æ¯”ç¬”è®°æœ¬è¦ç®€å•çš„ï¼Œç‰¹åˆ«æ˜¯ä½ ä½¿ç”¨äº†èƒ½å¾ˆå¥½å…¼å®¹çš„ç¡¬ä»¶ã€‚</p><span id="more"></span><h3 id="ä¸€ï¼Œå…³äºé…ç½®"><a href="#ä¸€ï¼Œå…³äºé…ç½®" class="headerlink" title="ä¸€ï¼Œå…³äºé…ç½®"></a>ä¸€ï¼Œå…³äºé…ç½®</h3><p>æ—¢ç„¶æ˜¯è£…ç³»ç»Ÿï¼Œç¡¬ä»¶é…ç½®è‚¯å®šè¦è´´ä¸€ä¸‹å§ï¼Œå¦‚ä¸‹å›¾ï¼Œæ˜¯æˆ‘å°å¼æœºçš„ç¡¬ä»¶é…ç½®ï¼š<br><img src="/images/%E7%94%B5%E8%84%91%E9%85%8D%E7%BD%AE.jpg" alt="ç”µè„‘é…ç½®"><br>å¦å¤–ç»™å¤§å®¶æ¨èä¸€ä¸‹è¿™ä¸ªç½‘ç«™ï¼Œ<a href="https://www.tonymacx86.com/">https://www.tonymacx86.com/</a>ï¼Œè¿›å»è¿™ä¸ªç½‘ç«™ï¼Œç‚¹å‡»Buyerâ€™s Guideé€‰é¡¹å¡ï¼Œé‡Œé¢æœ‰å¾ˆå¤šæ¨èçš„ç”µè„‘ç¡¬ä»¶é…ç½®ï¼Œåªè¦æ ¹æ®é‡Œé¢çš„ç¡¬ä»¶æ¥é…ç½®çš„è¯ï¼Œéƒ½å¾ˆå®¹æ˜“åƒä¸Šé»‘è‹¹æœçš„ã€‚</p><h3 id="äºŒï¼Œé•œåƒå†™å…¥ï¼Œåˆ¶ä½œå®‰è£…Uç›˜"><a href="#äºŒï¼Œé•œåƒå†™å…¥ï¼Œåˆ¶ä½œå®‰è£…Uç›˜" class="headerlink" title="äºŒï¼Œé•œåƒå†™å…¥ï¼Œåˆ¶ä½œå®‰è£…Uç›˜"></a>äºŒï¼Œé•œåƒå†™å…¥ï¼Œåˆ¶ä½œå®‰è£…Uç›˜</h3><p>é¦–å…ˆæˆ‘ä»¬è¦åšçš„æ˜¯ä¸‹è½½é•œåƒï¼Œå¾ˆå¤šç½‘ç«™éƒ½å¯ä»¥ä¸‹è½½åˆ«äººåšå¥½çš„é•œåƒï¼Œå¸¦å››å¶è‰çš„ã€‚æ¯”å¦‚å›½å†…è‘—åçš„é»‘è‹¹æœè®ºå›â€”â€”è¿œæ™¯è®ºå›ï¼Œä¸è¿‡æ€»æ˜¯å‡ºç°æ— æ³•è®¿é—®çš„æƒ…å†µã€‚å¦‚æœè§‰å¾—ç½‘ä¸Šæœç½—çš„å‚å·®ä¸é½çš„è¯ï¼Œæ¨èåˆ°è¿™ä¸ªç½‘ç«™ä¸‹è½½ï¼š<a href="https://blog.daliansky.net/">é»‘æœå°å…µçš„éƒ¨è½é˜</a>ï¼Œæœ¬äººçš„é•œåƒä¹Ÿæ˜¯ä»è¿™é‡Œä¸‹è½½çš„ã€‚æœ¬äººä¸‹è½½çš„é•œåƒæ˜¯ï¼šmacOS High Sierra 10.13.2(17C88) Installer with Clover 4333.dmgã€‚é•œåƒä¸‹è½½å¥½äº†ï¼Œå°±åº”è¯¥å¼€å§‹åˆ¶ä½œå®‰è£…Uç›˜äº†ï¼Œè¿™é‡Œæˆ‘åªä»‹ç»åœ¨Windowsä¸‹å¦‚ä½•åˆ¶ä½œï¼ˆç½‘ä¸Šä¹Ÿæœ‰å¾ˆå¤šåˆ¶ä½œå®‰è£…Uç›˜çš„æ•™ç¨‹ï¼Œæˆ‘å°±ä¸é‡å¤é€ è½®å­äº†ï¼‰ã€‚ä¸ªäººäººè®¤ä¸ºæœ€ç®€å•çš„ä¸€ä¸ªæ–¹æ³•å°±æ˜¯ä½¿ç”¨TransMacè¿™æ¬¾è½¯ä»¶ï¼Œå¤§å®¶å¯ä»¥é€šè¿‡ç™¾åº¦æœç´¢ä¸‹è½½ã€‚è¯•ç”¨æœŸæ˜¯15å¤©ï¼Œå¦‚æœä½ å¸è½½é‡è£…åˆå¯ä»¥è¯•ç”¨15å¤©ï¼Œå†µä¸”æˆ‘ä»¬ä¹Ÿåªæ˜¯ä¼šç”¨åˆ°ä¸€æ¬¡ï¼Œæ²¡å¿…è¦æ¿€æ´»ã€‚æŠŠä½ çš„Uç›˜æ’åœ¨ç”µè„‘ä¸Šï¼Œæ‰“å¼€TransMacï¼Œæ‰¾åˆ°å·¦ä¾§ä½ Uç›˜çš„å›¾æ ‡ï¼Œå³é”®ï¼Œæœ‰ä¸ªFormatå¼€å¤´çš„é€‰é¡¹ï¼Œç‚¹å‡»å®ƒï¼Œä¹‹åæç¤ºå®Œæˆï¼Œç‚¹å‡»OKã€‚ç»§ç»­å³é”®ä½ çš„Uç›˜ï¼Œæœ‰ä¸ªRestoreå¼€å¤´çš„é€‰é¡¹ï¼Œç‚¹å‡»å®ƒã€‚ä¹‹åç‚¹å‡»æ¡†æ¡†æ—è¾¹ä¸‰ä¸ªç‚¹ï¼Œåœ¨å¼¹å‡ºæ¥çš„æ–‡ä»¶ç®¡ç†å™¨çª—å£é€‰ä¸­ä½ ä¸‹è½½çš„è‹¹æœé•œåƒä¹‹åç¡®å®šã€‚ç„¶åä¼šå¼¹å‡ºä¸€ä¸ªè¿›åº¦æ¡†ï¼Œè¿™ä¸ªè¿‡ç¨‹æ¯”è¾ƒæ¼«é•¿ä¸€ç‚¹ï¼Œå…·ä½“æ—¶é—´è¦çœ‹ä½ Uç›˜å†™å…¥çš„é€Ÿåº¦ã€‚å½“ç„¶ï¼Œä½ å¯ä»¥ä½¿ç”¨USB3.0çš„Uç›˜ï¼Œæ’åœ¨USB3.0çš„æ¥å£ï¼Œè¿™æ ·å°±ä¼šå¿«ä¸å°‘ã€‚å®Œæˆä¼šæœ‰ä¸€ä¸ªå¼¹å‡ºæ¡†æç¤ºä½ Completeï¼Œä½ ç‚¹å‡»OKå°±æ˜¯äº†ã€‚ç„¶åWindowsä¼šæç¤ºä½ æ ¼å¼åŒ–æ­¤Uç›˜ï¼Œè®°ä½ï¼Œåƒä¸‡åˆ«ç‚¹ç¡®å®šæ ¼å¼åŒ–ï¼Œä¸ç„¶å°±ç™½åšäº†ã€‚è¿™æ ·ï¼Œä¸€ä¸ªé»‘è‹¹æœçš„å®‰è£…Uç›˜å°±åšå¥½äº†ã€‚å¦‚æœä½ æ˜¯ä¸‹è½½çš„å¸¦æœ‰cloverçš„é•œåƒï¼Œæ­¤æ—¶ä½ çš„Uç›˜é‡Œé¢åº”è¯¥æœ‰ä¸¤ä¸ªåˆ†åŒºã€‚ä½ å¯ä»¥ä½¿ç”¨diskgeniusè¿™æ¬¾è½¯ä»¶æŸ¥çœ‹ã€‚æˆ‘ä¸‹è½½çš„é•œåƒåœ¨Windowsæ˜¯çœ‹ä¸åˆ°ä¸€ä¸ªå«EFIåˆ†åŒºçš„ã€‚ï¼ˆè¿™ä¸€æ­¥å¹¶ä¸æ˜¯æœ¬æ–‡çš„é‡ç‚¹ç« èŠ‚ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿåªæ˜¯ä¸€ç¬”å¸¦è¿‡ï¼Œå¦‚æœå„ä½æœ‰æ²¡çœ‹æ‡‚çš„ï¼Œå¯ä»¥å»ç™¾åº¦æœç´¢ç›¸å…³æ•™ç¨‹è¡¥è¡¥è¯¾ï¼‰</p><h3 id="ä¸‰ï¼Œå¼€å§‹å®‰è£…"><a href="#ä¸‰ï¼Œå¼€å§‹å®‰è£…" class="headerlink" title="ä¸‰ï¼Œå¼€å§‹å®‰è£…"></a>ä¸‰ï¼Œå¼€å§‹å®‰è£…</h3><p>å› ä¸ºæˆ‘ä¸‹è½½çš„é•œåƒè‡ªå¸¦äº†cloverï¼Œæ‰€ä»¥å°±ä¸ç”¨è‡ªå·±åŠ¨æ‰‹å®‰è£…äº†ã€‚å¦å¤–ï¼Œæˆ‘ä¸‹è½½çš„é•œåƒä¸­è¿˜å«æœ‰å¾ˆå¤šé€šç”¨æ€§é…ç½®ã€‚ç°åœ¨æˆ‘è®²æŠŠæˆ‘çš„Uç›˜æ’å…¥å‰ç½®USBæ¥å£ï¼Œå¥½çš„ï¼Œå¼€æœºï¼Œè¿›å…¥BIOSï¼Œé€‰æ‹©ä»Uç›˜å¼•å¯¼å¯åŠ¨ï¼Œè¿›å…¥äº†å››å¶è‰ï¼Œé€‰æ‹©Boot Install mac OS From Installä»€ä¹ˆä»€ä¹ˆçš„ï¼Œä¸€ä¸ªå›è½¦ï¼Œçº³å°¼ï¼Ÿå‡ºç°äº†ä¸€ä¸ªç¦æ­¢æ ‡å¿—ğŸš«ã€‚è¿™ä¸ªæˆ‘ä»¥å‰æ˜¯çŸ¥é“è¿™ä¸ªé”™è¯¯çš„ï¼ŒåŸå› æœ‰å¾ˆå¤šï¼Œæˆ‘å°±ä¸ç»†è¯´ã€‚æˆ‘çš„è§£å†³åŠæ³•æ˜¯æŠŠUç›˜æ’å…¥åˆ°åç½®USBæ¥å£ã€‚æ‰€ä»¥æˆ‘åœ¨è¿™é‡Œå»ºè®®å¤§å®¶ï¼Œæœ‰åç½®USBæ¥å£å°±åˆ«æ’å‰ç½®USBæ¥å£ï¼Œæœ‰USB2.0æ¥å£å°±åˆ«æ’USB3.0æ¥å£ã€‚å¥½çš„ï¼Œè¿™ä¸ªç¦æ­¢æ ‡å¿—çš„é—®é¢˜ç®—æ˜¯è§£å†³äº†ï¼Œä½†æ˜¯æ¥ç€åˆç¢°åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œä¸€ä¸ªgoIoScreenState 3ä»€ä¹ˆä»€ä¹ˆçš„ï¼Œç½‘ä¸Šä¸€ç™¾åº¦æ‰çŸ¥é“æ˜¯å®‰è£…10.13è¿™ä¸ªç‰ˆæœ¬è¦å±è”½ç‹¬æ˜¾ï¼Œå…¶ä»–å®‰è£…10.13ä¼šå‡ºç°çš„ä¸€äº›é—®é¢˜å¯ä»¥å‚ç…§å³è¾¹è¿™ç¯‡åšå®¢ï¼š<a href="https://blog.daliansky.net/macOS-10.13-installation-of-common-problems-and-solutions.html">macOS 10.13å®‰è£…ä¸­å¸¸è§çš„é—®é¢˜åŠè§£å†³æ–¹æ³•</a>ã€‚äºæ˜¯ä¹ï¼Œæˆ‘å°±ä¸Šç½‘ç™¾åº¦äº†ä¸€ä¸‹åç¡•çš„ä¸»æ¿æ€ä¹ˆå±è”½ç‹¬æ˜¾ï¼Œä¸€ç•ªæœç´¢æˆ‘çŸ¥é“äº†ã€‚è¿›å…¥BIOSï¼Œç‚¹å‡»é«˜çº§ï¼ˆæˆ‘çš„BIOSæ˜¯ä¸­æ–‡çš„ï¼‰ï¼Œç‚¹å‡»ç³»ç»Ÿä»£ç†è®¾ç½®ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªæ˜¾ç¤ºè®¾ç½®ï¼Œè¿›å»ä¹‹åæœ‰ä¸€ä¸ªé¦–é€‰æ˜¾å¡ï¼Œæˆ‘ä¸€ä¸ªå›è½¦ï¼Œå‡ºç°ä¸‰ä¸ªé€‰é¡¹ï¼šè‡ªåŠ¨ï¼ŒiGPUï¼ŒPICEã€‚åˆæ˜¯ä¸€ç•ªæœç´¢ï¼ŒçŸ¥é“äº†iGPUä»£è¡¨çš„æ˜¯æ ¸æ˜¾ï¼ŒPICEä»£è¡¨çš„æ˜¯ç‹¬æ˜¾æ’æ§½ï¼Œè‡ªåŠ¨å°±æ˜¯å¦‚æœä½ çš„æœºå­æ²¡æœ‰è£…ç‹¬æ˜¾ï¼Œä»–å°†å¯ç”¨æ ¸æ˜¾ï¼Œå¦‚æœè£…äº†ç‹¬æ˜¾ï¼Œé‚£ä¹ˆå°†å±è”½æ ¸æ˜¾ã€‚æˆ‘é€‰å¥½iGPUä¹‹åï¼Œä¸€ä¸ªF10ä¿å­˜ã€‚å§æ§½ï¼Ÿæ€ä¹ˆé»‘å±äº†ï¼Œè«æ…Œï¼Œè¿™ä¸ªæˆ‘è¿˜æ˜¯æœ‰ç‚¹ç»éªŒçš„ï¼Œæˆ‘æŠŠè¿æ¥æ˜¾ç¤ºå™¨çš„VGAçº¿æ¥åˆ°ä¸»æœºçš„å¦ä¸€ä¸ªVGAæ¥å£ï¼Œé‚£å°±æ˜¯æ ¸æ˜¾è¾“å‡ºçš„æ¥å£ï¼Œå—¯ï¼Œæ­£å¸¸äº†ã€‚ç»§ç»­ä»Uç›˜å¯åŠ¨ï¼Œè¿›å…¥cloverï¼Œé€‰æ‹©optionï¼Œé€‰æ‹©configsé€‰é¡¹å¡ï¼Œé€‰æ‹©äº†config_HD_4600_4400_4000.plistè¿™ä¸ªé…ç½®æ–‡ä»¶ï¼Œæ˜¯çš„ï¼Œæˆ‘çš„æ ¸æ˜¾æ˜¯4600ã€‚é€‰å¥½ä¹‹åï¼Œreturnï¼Œæ·»åŠ å¥½-vå¯åŠ¨å‚æ•°åç»§ç»­å¯åŠ¨å®‰è£…ï¼ˆæˆ‘é€‰æ‹©çš„è¿™ä¸ªé…ç½®æ–‡ä»¶æ²¡æœ‰é…ç½®-vå¯åŠ¨å‚æ•°ï¼Œæˆ‘è‡ªå·±æ‰‹åŠ¨é…ç½®ï¼‰ã€‚æ¿€åŠ¨äººå¿ƒçš„æ—¶åˆ»ç»ˆäºè¦åˆ°äº†ï¼Œé¢ï¼Œç„¶è€Œè¿˜æ˜¯æ²¡æœ‰è¿›å»ï¼Œè¿˜æ˜¯å‡ºç°äº†goIoScreenState 3ä»€ä¹ˆä»€ä¹ˆçš„ï¼Œæˆ‘æ˜æ˜å±è”½ç‹¬æ˜¾äº†å•Šï¼Œé…ç½®ä¹Ÿæ˜¯æ ¹æ®æˆ‘çš„ç¡¬ä»¶ä¿¡æ¯é€‰çš„ã€‚ä½†æ˜¯æœ‰ä¸€ç‚¹ä¸åŒï¼Œæˆ‘è‡ªå¸¦çš„é‚£äº›é…ç½®æ–‡ä»¶é»˜è®¤æ˜¯ç»™ç¬”è®°æœ¬é…ç½®çš„ï¼Œæˆ‘çš„æ˜¯å°å¼æœºï¼Œè¿™æ˜¯æœ‰åŒºåˆ«çš„ï¼Œæ¯”å¦‚å°å¼æœºHD4600æ˜¾å¡å’Œç¬”è®°æœ¬HD4600æ˜¾å¡platform-idè¿™æ˜¯ä¸ä¸€æ ·çš„ã€‚é‚£å¥½å§ï¼Œç´¢æ€§æˆ‘å°±æš‚æ—¶ä¸æ³¨å…¥idï¼Œä¸é©±åŠ¨æˆ‘çš„æ ¸æ˜¾ã€‚åæ­£æˆ‘æœ‰ä¸€å—ç‹¬æ˜¾ï¼Œè€Œä¸”ç‹¬æ˜¾é©±åŠ¨å¾ˆå®¹æ˜“ã€‚å¥½çš„ï¼Œå†æ¥ä¸€æ¬¡ï¼Œè¿›BIOSï¼Œè¿›cloverï¼Œè¿›optionï¼Œé€‰å¥½configï¼Œæœ€åè¿›å…¥Graphicä»€ä¹ˆä»€ä¹ˆçš„ï¼Œä¹Ÿå°±æ˜¯æ˜¾å¡é…ç½®çš„é€‰é¡¹å¡ï¼ŒæŠŠInject Intelé‚£ä¸ªé€‰é¡¹å–æ¶ˆå‹¾é€‰ï¼Œreturnï¼Œå¯åŠ¨å®‰è£…ã€‚æ¿€åŠ¨äººå¿ƒçš„æ—¶åˆ»å°±è¦åˆ°äº†ï¼Œè¦è¿›å»äº†å—ï¼ŸNoï¼Œç°å®åˆç‹ ç‹ ç»™äº†æˆ‘ä¸€è®°è€³å…‰ï¼Œè¿˜æ˜¯é‚£ä¸ªé”™è¯¯ã€‚è‹å¤©å•Šï¼Œæˆ‘åšé”™äº†ä»€ä¹ˆï¼Œä½ è¦è¿™æ ·å¯¹æˆ‘ã€‚é˜´å·®é˜³é”™ï¼Œæˆ‘å±…ç„¶æƒ³åˆ°åœ¨æ˜¾å¡è®¾ç½®é‡Œé¢è®¾ç½®æ³¨å…¥è‹±ä¼Ÿè¾¾æ˜¾å¡ã€‚å¥½çš„ï¼Œå†æ¥ä¸€æ¬¡ï¼Œè¿›BIOSï¼Œè¿›cloverï¼Œè¿›optionï¼Œé€‰å¥½configï¼Œæœ€åè¿›å…¥Graphicä»€ä¹ˆä»€ä¹ˆçš„ï¼Œä¹Ÿå°±æ˜¯æ˜¾å¡é…ç½®çš„é€‰é¡¹å¡ï¼ŒæŠŠInject Intelé‚£ä¸ªé€‰é¡¹å–æ¶ˆå‹¾é€‰ï¼Œç„¶åæŠŠInject Nvidiaç»™å‹¾ä¸Šï¼Œreturnï¼Œå¯åŠ¨å®‰è£…ã€‚yesï¼Œç»ˆäºè¿›å»å®‰è£…ç•Œé¢äº†ã€‚æ¥ç€å°±æ˜¯ä¸€é¡¿æ“ä½œçŒ›å¦‚è™ï¼Œå¾ˆå¸¸è§„çš„æ“ä½œï¼Œåä¸‹ã€‚æŠ¹ç›˜ï¼Œç»™å®‰è£…ç›˜å‘½åä¸ºMac OSï¼Œå®‰è£…ï¼Œä¸€æ°”å‘µæˆï¼ˆæ³¨æ„ï¼Œä½ è¦å®‰è£…çš„ç£ç›˜EFIåˆ†åŒºè¦å¤§äº200Mï¼Œå¦åˆ™ä¼šå‡ºç°æŠ¹ç›˜å¤±è´¥ï¼Œå¦‚æœæƒ³äº†è§£çš„æ›´è¯¦ç»†è¿˜è¯·è‡ªå·±è¡¥è¯¾ï¼Œæœ¬ç¯‡æ–‡ç« åªæ˜¯ä¸€ç¯‡å¿ƒå¾—ä½“ä¼šï¼‰ã€‚å¥½çš„ï¼Œç»§ç»­å†æ¥ä¸€æ¬¡ï¼Œä¸è¿‡æœ€åä¸€æ­¥æˆ‘ä»¬é€‰æ‹©Boot mac OS Install From Mac OSã€‚è¿™é‡Œçš„Mac OSæ˜¯æˆ‘æŠ¹ç›˜æ—¶å‘½çš„åå­—ã€‚å¥½çš„ï¼Œä¸€åˆ‡è¿˜ç®—é¡ºåˆ©ï¼ŒæˆåŠŸå®‰è£…ä¸Šäº†ã€‚ä»–è‡ªåŠ¨é‡å¯ï¼Œä¸è¿‡æˆ‘ä»¬ä¾ç„¶è¿˜æ˜¯è¦è¿›å»BIOSä»Uç›˜å¯åŠ¨ã€‚å¥½çš„åˆæ˜¯æŠŠconfigé€‰å¥½ï¼Œå–æ¶ˆå‹¾é€‰æ ¸æ˜¾æ³¨å…¥ï¼Œå‹¾é€‰è‹±ä¼Ÿè¾¾æ˜¾å¡æ³¨å…¥ï¼Œç„¶åé€‰æ‹©Boot mac OS From Mac OSã€‚å¥½çš„ï¼ŒæˆåŠŸè¿›å»ç³»ç»Ÿï¼Œä¸€ç•ªå¼•å¯¼é…ç½®åè¿›å…¥äº†æ¡Œé¢ã€‚ç°åœ¨æµ‹è¯•ä¸‰å¡ï¼šå£°å¡ï¼Œæ˜¾å¡ï¼Œç½‘å¡ã€‚ç½‘å¡æ˜¯OKçš„ã€‚å£°å¡å’Œæ˜¾å¡æ˜¯æ²¡æœ‰é©±åŠ¨ä¸Šçš„ï¼Œç°åœ¨ç”¨èµ·æ¥å›¾å½¢ç•Œé¢æ¯”è¾ƒå¡é¡¿ï¼Œæ˜¾å­˜åªæœ‰7Mï¼Œèƒ½ä¸å¡å—ï¼Ÿæ ¸æ˜¾æˆ‘å°±ä¸å»é©±åŠ¨ä»–äº†ï¼Œç›´æ¥é©±åŠ¨ç‹¬æ˜¾ï¼Œä¸‹è½½å¥½å¯¹åº”çš„webé©±åŠ¨ã€‚å¤§å®¶å¯ä»¥åˆ°è¿™ä¸ªç½‘å€ä¸‹è½½ï¼š<a href="https://www.tonymacx86.com/nvidia-drivers/">https://www.tonymacx86.com/nvidia-drivers/</a>ã€‚å¯ä»¥é€šè¿‡æˆ‘ä¸‹è½½çš„é•œåƒçš„é•œåƒåç§°çŸ¥é“æˆ‘çš„æ˜¯10.13.2 17c88ï¼Œä¹Ÿå°±æ˜¯ä¸‹å›¾ä¸­è¿™ä¸ªï¼š<br><img src="/images/%E8%8B%B1%E4%BC%9F%E8%BE%BEweb%E9%A9%B1%E5%8A%A8%E4%B8%8B%E8%BD%BD.png" alt="è‹±ä¼Ÿè¾¾webé©±åŠ¨ä¸‹è½½"><br>ä¸‹è½½å¥½ä¹‹åå°±æ˜¯ä¸€é¡¿æ“ä½œçŒ›å¦‚è™ï¼ŒæŠŠè¿™ä¸ªé©±åŠ¨å®‰è£…å¥½äº†ï¼Œåˆ«è¯´ä½ ä¸ä¼šï¼Œå‚»ç“œå¼å®‰è£…ã€‚æ¥ç€å°±è¦æŠŠcloverå¯åŠ¨é¡¹æ”¾åˆ°ç¡¬ç›˜çš„efié‡Œé¢äº†ã€‚æˆ‘ä»¬éœ€è¦ç”¨åˆ°Clover Configuratorè¿™ä¸ªè½¯ä»¶ï¼Œè¿™ä¸ªè½¯ä»¶ä¹Ÿå¯ä»¥åˆ°æ–‡ç« å¼€å¤´çš„é‚£ä¸ªtonymacx86ä¸‹è½½ã€‚æˆ‘ä»¬æ‰“å¼€è½¯ä»¶ï¼Œç‚¹å‡»Mount EFIï¼š<br><img src="/images/%E5%88%A9%E7%94%A8%E5%9B%9B%E5%8F%B6%E8%8D%89%E9%85%8D%E7%BD%AE%E8%BD%AF%E4%BB%B6%E6%8C%82%E8%BD%BDEFI.png" alt="åˆ©ç”¨å››å¶è‰é…ç½®è½¯ä»¶æŒ‚è½½EFI"><br>ä¹‹åç‚¹å‡»ï¼š<br><img src="/images/%E5%88%A9%E7%94%A8%E5%9B%9B%E5%8F%B6%E8%8D%89%E9%85%8D%E7%BD%AE%E8%BD%AF%E4%BB%B6%E6%8C%82%E8%BD%BDEFI2.png" alt="åˆ©ç”¨å››å¶è‰é…ç½®è½¯ä»¶æŒ‚è½½EFI"><br>ç„¶åå†ç‚¹å‡»ï¼š<br><img src="/images/%E5%88%A9%E7%94%A8%E5%9B%9B%E5%8F%B6%E8%8D%89%E9%85%8D%E7%BD%AE%E8%BD%AF%E4%BB%B6%E6%8C%82%E8%BD%BDEFI3.png" alt="åˆ©ç”¨å››å¶è‰é…ç½®è½¯ä»¶æŒ‚è½½EFI"><br>ä¹‹åå°±ä¼šå¼¹å‡ºä¸€ä¸ªæ–‡ä»¶ç®¡ç†å™¨çª—å£ï¼Œæ‰“å¼€EFIæ–‡ä»¶å¤¹ï¼ŒæŠŠUç›˜ä¸­EFIåˆ†åŒºçš„EFIæ–‡ä»¶å¤¹ä¸‹çš„CLOVERæ–‡ä»¶å¤¹æ‹·è´åˆ°å¼¹å‡ºçš„çª—å£çš„EFIæ–‡ä»¶å¤¹ä¸­ï¼Œå› ä¸ºæŠŠWindowsç»™æ ¼å¼åŒ–äº†ï¼Œä¸ç„¶è¿™é‡Œè¿˜ä¼šæœ‰ä¸€ä¸ªMicroSoftçš„æ–‡ä»¶å¤¹ç”¨æ¥å¼•å¯¼Windowsçš„ï¼š<br><img src="/images/EFI%E5%88%86%E5%8C%BA%E5%86%85%E5%AE%B9.png" alt="EFIåˆ†åŒºå†…å®¹"><br>ä¹‹åæŠŠè¿™ä¸ªCLOVERç›®å½•ä¸‹å¤šä½™çš„configæ–‡ä»¶åˆ é™¤ï¼Œåªç•™ä¸‹æˆ‘ç”¨åˆ°çš„é‚£ä¸ªconfig_HD4600_4400_4000.plistï¼Œå¹¶ä¸”æŠŠå®ƒæ›´åä¸ºconfig.plistï¼Œè¿™æ ·å°±ä¼šé»˜è®¤ä½¿ç”¨è¿™ä¸ªé…ç½®æ–‡ä»¶å¯åŠ¨é»‘è‹¹æœäº†ã€‚ç„¶åæˆ‘ä»¬åŒå‡»ç¡¬ç›˜ä¸­çš„è¿™ä¸ªæ›´ååçš„config.plistï¼Œé»˜è®¤ä¼šä½¿ç”¨Clover Configuratorè¿™ä¸ªè½¯ä»¶æ‰“å¼€ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥è¿›è¡Œé…ç½®äº†ã€‚é¦–å…ˆæˆ‘ä»¬åœ¨ä¹‹å‰çš„æ­¥éª¤å–æ¶ˆäº†æ ¸æ˜¾æ³¨å…¥ï¼Œå¼€å¯äº†è‹±ä¼Ÿè¾¾æ³¨å…¥ï¼Œè¿˜æ·»åŠ äº†-vå¯åŠ¨å‚æ•°ï¼Œæ¥ç€æˆ‘ä»¬å°±è¦åœ¨è½¯ä»¶ä¸­è¿›è¡Œé…ç½®ã€‚å¦‚ä¸‹å›¾ï¼š<br><img src="/images/%E6%98%BE%E5%8D%A1config.png" alt="æ˜¾å¡config"><br><img src="/images/%E6%B7%BB%E5%8A%A0v%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0.png" alt="æ·»åŠ vå¯åŠ¨å‚æ•°"></p><p>ç„¶åè¿˜æœ‰å£°å¡çš„ä»¿å†’ï¼Œä½¿ç”¨AppleALCï¼Œå¯¹äºè¿™ä¸ªæˆ‘ä»¬ä¸»è¦é…ç½®ï¼š<br><img src="/images/%E5%A1%AB%E5%85%A5%E5%A3%B0%E5%8D%A1%E5%B8%83%E5%B1%80id.png" alt="å¡«å…¥å£°å¡å¸ƒå±€id"><br>åœ¨è¾“å…¥æ¡†ä¸­æˆ‘è¾“å…¥çš„æ˜¯11ï¼Œè¿™ä¸ªæ•°å€¼è¯¥æ€ä¹ˆå¡«å†™å‘¢ï¼Ÿä¸»è¦å‚è€ƒ<a href="https://github.com/acidanthera/AppleALC/wiki/Supported-codecs">è¿™é‡Œ</a>ã€‚æˆ‘çš„å£°å¡æ˜¯ALC887ï¼š<br><img src="/images/ALC887%E5%8F%AF%E9%80%89%E5%A3%B0%E5%8D%A1%E5%B8%83%E5%B1%80id.png" alt="ALC887å¯é€‰å£°å¡å¸ƒå±€id"><br>ä»å›¾ä¸­æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°è‡ªå·±çš„å£°å¡å¯ä»¥å¡«å†™å“ªäº›æ•°å­—ï¼Œæ¯ä¸ªä¸»æ¿çš„éŸ³é¢‘çº¿è·¯éƒ½ä¸åŒï¼ˆä¸çŸ¥é“è¿™æ ·è¯´å¯¹ä¸å¯¹ï¼‰ï¼Œæ‰€ä»¥æ‰ä¼šæœ‰ä¸åŒçš„æ•°å­—å¯¹åº”ä¸åŒçš„çº¿è·¯ï¼Œæˆ‘è¿™é‡Œæ‰¾äº†ä¸€ä¸ªæ¯”è¾ƒåˆé€‚çš„æ•°å­—å°±æ˜¯11ï¼Œå‰åé¢æ¿çš„è€³æœºæ’å­”éƒ½æœ‰å£°éŸ³ï¼Œä½†æ˜¯éº¦å…‹é£å¥½åƒæ²¡è¢«é©±åŠ¨ï¼Œæš‚æ—¶å…ˆè¿™æ ·å§ï¼Œåæ­£ä¸ç”¨éº¦å…‹é£ç­‰æˆ‘ä¹‹åä¸€ä¸ªä¸€ä¸ªè¯•ä¸€ä¸‹ï¼ˆå¦‚æœä½ ä¸å«Œçƒ¦çš„è¯ï¼Œè¿˜æœ‰å¾ˆå¼ºçš„åŠ¨æ‰‹èƒ½åŠ›çš„è¯ï¼Œå¯ä»¥å‚è€ƒ<a href="https://blog.daliansky.net/Use-AppleALC-sound-card-to-drive-the-correct-posture-of-AppleHDA.html">è¿™ç¯‡åšå®¢</a>å»é©±åŠ¨å£°å¡ï¼‰ã€‚</p><p>ç„¶åæˆ‘ä»¬è¿˜è¦é…ç½®ä¸€ä¸‹è¿™å°ç”µè„‘çš„æœºå‹ï¼š<br><img src="/images/%E7%94%9F%E6%88%90%E6%9C%BA%E5%9E%8B%E6%AD%A5%E9%AA%A41.png" alt="ç”Ÿæˆæœºå‹æ­¥éª¤1"><br><img src="/images/%E7%94%9F%E6%88%90%E6%9C%BA%E5%9E%8B%E6%AD%A5%E9%AA%A42.png" alt="ç”Ÿæˆæœºå‹æ­¥éª¤2"><br><img src="/images/%E7%94%9F%E6%88%90%E6%9C%BA%E5%9E%8B%E6%AD%A5%E9%AA%A43.png" alt="ç”Ÿæˆæœºå‹æ­¥éª¤3"><br>æœ€åï¼Œç‚¹å‡»å·¦ä¸Šè§’çš„å‰å‰å…³é—­ï¼Œç‚¹å‡»OKä¿å­˜ï¼Œå¥½çš„ï¼Œé‡å¯ï¼Œè¿›å…¥BIOSï¼Œç»§ç»­ä»Uç›˜å¯åŠ¨ï¼Œä¸è¿‡æˆ‘ä»¬è¿™æ¬¡ç§»åŠ¨åˆ°ä¸‹é¢è¿™è¡Œå°å›¾æ ‡ï¼Œé€‰æ‹©ä¸€ä¸ªå››å¶è‰æ ‡å¿—çš„é€‰é¡¹è¿›å»ï¼Œé€‰æ‹©add allå¼€å¤´çš„é‚£ä¸ªé€‰é¡¹å¡ï¼ŒæŠŠå››å¶è‰å¯åŠ¨é¡¹æ·»åŠ ä¸€ä¸‹ã€‚ç„¶åå…³æœºï¼Œæ‹”æ‰Uç›˜ï¼Œå¼€æœºï¼Œè¿›BIOSï¼ŒæŠŠcloverå¼€å¤´çš„é‚£ä¸ªå¯åŠ¨é¡¹è®¾ç½®ä¸ºé¦–é€‰é¡¹ã€‚ç„¶åç»§ç»­è¿›å…¥é«˜çº§ï¼Œç³»ç»Ÿä»£ç†è®¾ç½®ï¼Œæ˜¾ç¤ºè®¾ç½®ï¼Œé¦–é€‰æ˜¾å¡è°ƒæ•´ä¸ºè‡ªåŠ¨ï¼ŒF10ä¿å­˜å¹¶é€€å‡ºï¼ŒæŠŠè¿æ¥æ˜¾ç¤ºå™¨çš„VGAçº¿è¿æ¥å›ç‹¬æ˜¾çš„è¾“å‡ºå£ï¼Œå¼€æœºï¼Œè¿›cloverï¼Œå¯åŠ¨Mac OSï¼Œå‘ç°åˆå‡ºç°äº†goIOScreenState 3é‚£ä¸ªé”™è¯¯ï¼Œè¿™ä¸ªé”™è¯¯çš„å‡ºç°çœŸæ˜¯æäº†æˆ‘å¤§åŠå¤©ï¼Œå¯èƒ½æ˜¯æˆ‘æ¯”è¾ƒå°ç™½å§ã€‚è¿›ä¸å»æ€ä¹ˆåŠï¼Œåªå¥½ç»§ç»­åˆ‡æ¢æˆæ ¸æ˜¾ï¼Œè¿›å»è‹¹æœç³»ç»Ÿé‡æ–°é…ç½®ï¼Œæœ€åæˆ‘å‘ç°ï¼ŒåŸæ¥æ˜¯è¦æŠŠnv_diableè¿™ä¸ªå‹¾é€‰å–æ¶ˆæ‰ï¼ŒæŠŠnvda_drv=1å‹¾é€‰ä¸Šï¼ˆæ®è®ºå›è¯´è¿™ä¸ªå‚æ•°å·²ç»æ²¡æœ‰ä½œç”¨äº†ï¼Œæˆ‘ä¸ç®¡é‚£ä¹ˆå¤šï¼Œä¸ºäº†ä¿é™©èµ·è§ï¼Œæˆ‘è¿˜æ˜¯å‹¾ä¸Šäº†ï¼‰ã€‚<br><img src="/images/%E5%90%AF%E7%94%A8%E8%8B%B1%E4%BC%9F%E8%BE%BE%E9%A9%B1%E5%8A%A8config.png" alt="å¯ç”¨è‹±ä¼Ÿè¾¾é©±åŠ¨config"><br>è¿™ä¸ªnv_diableå‚æ•°æ˜¯ç¦ç”¨è‹±ä¼Ÿè¾¾é©±åŠ¨çš„ï¼Œéš¾æ€ªé©±åŠ¨ä¸€ç›´æ²¡èµ·ä½œç”¨ï¼Œnvda_drv=1è¿™ä¸ªå‚æ•°æ˜¯ä½¿ç”¨è‹±ä¼Ÿè¾¾é©±åŠ¨çš„ã€‚ç„¶åå…³æœºï¼Œè¿›BIOSï¼ŒæŠŠé¦–é€‰æ˜¾å¡æœ‰è°ƒæ•´æˆè‡ªåŠ¨ï¼ŒF10ä¿å­˜å¹¶é€€å‡ºï¼ŒæŠŠè¿æ¥æ˜¾ç¤ºå±çš„çº¿æ’å›ç‹¬æ˜¾è¾“å‡ºçš„å£ã€‚å¼€æœºï¼Œå‘ç°å·²ç»å¯ä»¥æˆåŠŸè¿›å…¥ç³»ç»Ÿï¼Œå¹¶ä¸”æ˜¾å¡ä¹Ÿå¯ä»¥é©±åŠ¨ä¸Šï¼š<br><img src="/images/%E6%98%BE%E5%8D%A1%E6%88%90%E5%8A%9F%E9%A9%B1%E5%8A%A8%E7%A4%BA%E4%BE%8B.png" alt="æ˜¾å¡æˆåŠŸé©±åŠ¨ç¤ºä¾‹"><br>å¯ä»¥é€šè¿‡ä¸Šå›¾çœ‹åˆ°ç‹¬æ˜¾å·²ç»è¢«æˆåŠŸè¯†åˆ«äº†ï¼å› ä¸ºä¸€åˆ‡å¥½åƒéƒ½æ­£å¸¸äº†ï¼Œæˆ‘ä»¬å°±æ²¡å¿…è¦çœ‹å¼€æœºå¯åŠ¨æ—¥å¿—äº†ï¼Œé‚£ä¹ˆä¸€é•¿ä¸²ä»£ç å½±å“ç¾è§‚ã€‚æˆ‘ä»¬è¦åƒç™½è‹¹æœé‚£æ ·å¼€æœºåªæ˜¾ç¤ºlogoï¼Œç„¶åæˆ‘ä»¬åˆå¯ä»¥æ‰“å¼€Clover Configuratorè¿™ä¸ªè½¯ä»¶æŠŠ-vå¯åŠ¨å‚æ•°å–æ¶ˆæ‰ï¼š<br><img src="/images/%E5%8F%96%E6%B6%88v%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0.png" alt="å–æ¶ˆvå¯åŠ¨å‚æ•°"><br>æœ€åå¬è¯´é»‘è‹¹æœçš„CPUå¾ˆå¯èƒ½ä¸æ­£å¸¸ï¼Œå¯ä»¥é€šè¿‡CPU-Sè¿™ä¸ªè½¯ä»¶æŸ¥çœ‹ï¼Œæˆ‘çš„å›¾æ˜¯ä¸‹é¢è¿™æ ·ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“æˆ‘çš„æ­£å¸¸ä¸ï¼Ÿå„ä½å¤§ç¥å¸®æˆ‘çœ‹çœ‹ï¼Ÿ<br><img src="/images/%E6%B5%8B%E8%AF%95CPU%E5%8F%98%E9%A2%91%E7%BB%93%E6%9E%9C.png" alt="æµ‹è¯•CPUå˜é¢‘ç»“æœ"></p><h3 id="2019å¹´01æœˆ06æ—¥æ›´æ–°"><a href="#2019å¹´01æœˆ06æ—¥æ›´æ–°" class="headerlink" title="2019å¹´01æœˆ06æ—¥æ›´æ–°"></a>2019å¹´01æœˆ06æ—¥æ›´æ–°</h3><p>GT730 æ˜¯å…é©±å¡ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸éœ€è¦è‹±ä¼Ÿè¾¾çš„WebDriverå°±å¯ä»¥é©±åŠ¨ä¸Š</p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h3&gt;&lt;p&gt;å…¶å®ä¸€ç›´æƒ³åœ¨è‹¹æœä¸Šåšå¼€å‘çš„ï¼Œå¯æ˜¯é¢å¯¹è‹¹æœç¡¬ä»¶é«˜æ˜‚çš„ä»·æ ¼ï¼Œæˆ‘è¿™ä¸ªå°ç©·é€¼åªèƒ½æœ›è€Œå´æ­¥ï¼Œä¾¿äº§ç”Ÿäº†è‡ªå·±è£…é»‘è‹¹æœçš„å¿µå¤´ã€‚å…¶å®é»‘è‹¹æœæˆ‘å¥½æ—©å°±æ¥è§¦è¿‡ï¼Œä½†æ˜¯æ˜¯ç»™æˆ‘ç¬”è®°æœ¬è£…çš„ï¼Œè¿˜æ˜¯ç”¨åˆ«äººé…ç½®å¥½çš„ï¼Œè£…èµ·æ¥å°±åƒè£…ç™½æœé‚£ä¹ˆç®€å•ã€‚æˆ‘è¿˜æ²¡è‡ªå·±å°è¯•è¿‡è‡ªå·±é…ç½®å‘¢ï¼Œæ‰€ä»¥æ‰æœ‰äº†è¿™æ¬¡åœ¨å°å¼æœºä¸Šçš„å®‰è£…çš„ä¸€æ¬¡æ–°çš„ä½“ä¼šã€‚è¯·æ³¨æ„ï¼Œæœ¬ç¯‡æ–‡ç« å¹¶ä¸æ˜¯æ•™ç¨‹ï¼Œæ›´å¤šçš„æ˜¯ä¸€ç¯‡å¿ƒå¾—ä½“ä¼šã€‚å¦å¤–è¦è¯´ä¸€ä¸‹ï¼Œå°å¼æœºé»‘è‹¹æœæ˜¯æ¯”ç¬”è®°æœ¬è¦ç®€å•çš„ï¼Œç‰¹åˆ«æ˜¯ä½ ä½¿ç”¨äº†èƒ½å¾ˆå¥½å…¼å®¹çš„ç¡¬ä»¶ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="é»‘è‹¹æœ" scheme="https://www.cyixlq.top/categories/%E9%BB%91%E8%8B%B9%E6%9E%9C/"/>
    
    
    <category term="é»‘è‹¹æœ" scheme="https://www.cyixlq.top/tags/%E9%BB%91%E8%8B%B9%E6%9E%9C/"/>
    
    <category term="å®‰è£…" scheme="https://www.cyixlq.top/tags/%E5%AE%89%E8%A3%85/"/>
    
  </entry>
  
  <entry>
    <title>Android MVVMæ¢ç´¢(ä¸‰) - ViewModelï¼ŒDataBindingï¼ŒLiveDataæ··åˆä¸‰æ‰“</title>
    <link href="https://www.cyixlq.top/2018/10/29/MVVM3/"/>
    <id>https://www.cyixlq.top/2018/10/29/MVVM3/</id>
    <published>2018-10-29T09:07:44.000Z</published>
    <updated>2021-01-15T08:30:39.728Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ä¹‹å‰å‡ å°ç« æˆ‘ä»¬è®²äº†DataBindingï¼Œå…¶ä¸­å°†ä¸€ä¸ªæ™®é€šç±»åŒ–èº«ä¸ºViewModelï¼Œä½†æ˜¯ä»¥æˆ‘çš„è§‚ç‚¹æ¥çœ‹ï¼Œä»–ä»…ä»…åªæ˜¯ä¸€ä¸ªæ™®é€šç±»ï¼Œä¸€ä¸ªå°†å„ç§å¯è§‚å¯Ÿå±æ€§å°è£…èµ·æ¥çš„æ™®é€šç±»ï¼Œè€Œè¿™ä¸ªæ™®é€šç±»æˆ‘ä»¬è¿˜åœ¨é‡Œé¢å®šä¹‰äº†å„ç§ç›¸åº”æŒ‰é’®ç‚¹å‡»äº‹ä»¶ç­‰æ–¹æ³•ï¼Œå…¶å®è¿™äº›éƒ½è¿èƒŒäº†å®˜æ–¹çš„å»ºè®®çš„ï¼Œæˆ‘åªæ˜¯æƒ³è®©å¤§å®¶çŸ¥é“å¯ä»¥è¿™æ ·åšè€Œå·²ã€‚æ‰€ä»¥æˆ‘ä»¬è¦ä»‹ç»Android-Jetpackä¸­æ­£ç»Ÿçš„ViewModelç±»ï¼Œä»¥åŠä¸€äº›å®ƒçš„æœ€ä½³å®è·µæŒ‡å—ã€‚"><a href="#ä¹‹å‰å‡ å°ç« æˆ‘ä»¬è®²äº†DataBindingï¼Œå…¶ä¸­å°†ä¸€ä¸ªæ™®é€šç±»åŒ–èº«ä¸ºViewModelï¼Œä½†æ˜¯ä»¥æˆ‘çš„è§‚ç‚¹æ¥çœ‹ï¼Œä»–ä»…ä»…åªæ˜¯ä¸€ä¸ªæ™®é€šç±»ï¼Œä¸€ä¸ªå°†å„ç§å¯è§‚å¯Ÿå±æ€§å°è£…èµ·æ¥çš„æ™®é€šç±»ï¼Œè€Œè¿™ä¸ªæ™®é€šç±»æˆ‘ä»¬è¿˜åœ¨é‡Œé¢å®šä¹‰äº†å„ç§ç›¸åº”æŒ‰é’®ç‚¹å‡»äº‹ä»¶ç­‰æ–¹æ³•ï¼Œå…¶å®è¿™äº›éƒ½è¿èƒŒäº†å®˜æ–¹çš„å»ºè®®çš„ï¼Œæˆ‘åªæ˜¯æƒ³è®©å¤§å®¶çŸ¥é“å¯ä»¥è¿™æ ·åšè€Œå·²ã€‚æ‰€ä»¥æˆ‘ä»¬è¦ä»‹ç»Android-Jetpackä¸­æ­£ç»Ÿçš„ViewModelç±»ï¼Œä»¥åŠä¸€äº›å®ƒçš„æœ€ä½³å®è·µæŒ‡å—ã€‚" class="headerlink" title="ä¹‹å‰å‡ å°ç« æˆ‘ä»¬è®²äº†DataBindingï¼Œå…¶ä¸­å°†ä¸€ä¸ªæ™®é€šç±»åŒ–èº«ä¸ºViewModelï¼Œä½†æ˜¯ä»¥æˆ‘çš„è§‚ç‚¹æ¥çœ‹ï¼Œä»–ä»…ä»…åªæ˜¯ä¸€ä¸ªæ™®é€šç±»ï¼Œä¸€ä¸ªå°†å„ç§å¯è§‚å¯Ÿå±æ€§å°è£…èµ·æ¥çš„æ™®é€šç±»ï¼Œè€Œè¿™ä¸ªæ™®é€šç±»æˆ‘ä»¬è¿˜åœ¨é‡Œé¢å®šä¹‰äº†å„ç§ç›¸åº”æŒ‰é’®ç‚¹å‡»äº‹ä»¶ç­‰æ–¹æ³•ï¼Œå…¶å®è¿™äº›éƒ½è¿èƒŒäº†å®˜æ–¹çš„å»ºè®®çš„ï¼Œæˆ‘åªæ˜¯æƒ³è®©å¤§å®¶çŸ¥é“å¯ä»¥è¿™æ ·åšè€Œå·²ã€‚æ‰€ä»¥æˆ‘ä»¬è¦ä»‹ç»Android Jetpackä¸­æ­£ç»Ÿçš„ViewModelç±»ï¼Œä»¥åŠä¸€äº›å®ƒçš„æœ€ä½³å®è·µæŒ‡å—ã€‚"></a>ä¹‹å‰å‡ å°ç« æˆ‘ä»¬è®²äº†DataBindingï¼Œå…¶ä¸­å°†ä¸€ä¸ªæ™®é€šç±»åŒ–èº«ä¸ºViewModelï¼Œä½†æ˜¯ä»¥æˆ‘çš„è§‚ç‚¹æ¥çœ‹ï¼Œä»–ä»…ä»…åªæ˜¯ä¸€ä¸ªæ™®é€šç±»ï¼Œä¸€ä¸ªå°†å„ç§å¯è§‚å¯Ÿå±æ€§å°è£…èµ·æ¥çš„æ™®é€šç±»ï¼Œè€Œè¿™ä¸ªæ™®é€šç±»æˆ‘ä»¬è¿˜åœ¨é‡Œé¢å®šä¹‰äº†å„ç§ç›¸åº”æŒ‰é’®ç‚¹å‡»äº‹ä»¶ç­‰æ–¹æ³•ï¼Œå…¶å®è¿™äº›éƒ½è¿èƒŒäº†å®˜æ–¹çš„å»ºè®®çš„ï¼Œæˆ‘åªæ˜¯æƒ³è®©å¤§å®¶çŸ¥é“å¯ä»¥è¿™æ ·åšè€Œå·²ã€‚æ‰€ä»¥æˆ‘ä»¬è¦ä»‹ç»Android Jetpackä¸­æ­£ç»Ÿçš„ViewModelç±»ï¼Œä»¥åŠä¸€äº›å®ƒçš„æœ€ä½³å®è·µæŒ‡å—ã€‚</h3><p><a href="https://github.com/cyixlq/MVVMTest">æœ¬ç¯‡æ–‡ç« ä»£ç åœ°å€</a></p><p><a href="https://www.bilibili.com/video/av29949898">å®˜æ–¹ä¸­æ–‡æ•™å­¦è§†é¢‘åœ°å€</a></p><span id="more"></span><h2 id="Android-MVVMæ¢ç´¢ç³»åˆ—"><a href="#Android-MVVMæ¢ç´¢ç³»åˆ—" class="headerlink" title="Android MVVMæ¢ç´¢ç³»åˆ—"></a>Android MVVMæ¢ç´¢ç³»åˆ—</h2><p><a href="https://juejin.im/post/5bcdd069f265da0a96250bea">Android MVVMæ¢ç´¢(ä¸€) - DataBidingåˆè§£</a></p><p><a href="https://juejin.im/post/5bcdd0aff265da0abc2ba235">Android MVVMæ¢ç´¢(äºŒ) - DataBidingå¸¸ç”¨æ³¨è§£</a></p><p><a href="https://juejin.im/post/5bd6acd1e51d457a976637c3">Android MVVMæ¢ç´¢(ä¸‰) - ViewModelï¼ŒDataBindingï¼ŒLiveDataæ··åˆä¸‰æ‰“</a></p><h3 id="Android-Jetpackæ˜¯è°·æ­Œä¸ºäº†å¸®åŠ©å¼€å‘è€…ä»¬æ›´å¿«æ›´é«˜æ•ˆåœ°å¼€å‘å®‰å“åº”ç”¨è€Œæ¨å‡ºæ¥çš„ä¸€å¥—ç»„ä»¶ã€‚Android-JetpackåŒ…å«äº†å¼€å‘åº“ï¼Œå·¥å…·ä»¥åŠæœ€ä½³å®è·µæŒ‡å—ã€‚è€Œæˆ‘ä»¬ä»Šå¤©è¦è®²çš„ViewModelç±»æ˜¯å±äºAndroid-Jetpackåº“ä¸­çš„lifecycleåº“ã€‚è¯´åˆ°è¿™ï¼Œé¡ºå¸¦è§£é‡Šä»¥ä¸‹ã€‚lifecycleï¼Œä¸­æ–‡æ„æ€ä¸ºç”Ÿå‘½å‘¨æœŸã€‚æ‰€ä»¥è¿™ä¸ªåº“çš„å­˜åœ¨å°±è·Ÿå®ƒçš„ä¸­æ–‡å«ä¹‰ä¸€æ ·ï¼Œå®ƒå¯ä»¥æœ‰æ•ˆé¿å…å†…å­˜æ³„æ¼å’Œè§£å†³Androidå¸¸è§çš„ç”Ÿå‘½å‘¨æœŸéš¾é¢˜ã€‚ï¼ˆå¦‚æœå„ä½çœ‹å®˜ä¸çŸ¥é“å†…å­˜æ³„éœ²çš„å¯ä»¥å»å¥½å¥½è¡¥è¡¥è¯¾ï¼‰lifecycleæœ€è¿‘å‘å¸ƒäº†2-0ç‰ˆæœ¬ï¼Œåœ¨è¿™ä¸ªç‰ˆæœ¬ä¸­ï¼Œå¯ä»¥ç»“åˆDataBindingè¿›è¡Œä½¿ç”¨ï¼Œé‚£å¯ä»¥è¯´æ˜¯æ–¹ä¾¿å¤ªå¤šäº†ã€‚"><a href="#Android-Jetpackæ˜¯è°·æ­Œä¸ºäº†å¸®åŠ©å¼€å‘è€…ä»¬æ›´å¿«æ›´é«˜æ•ˆåœ°å¼€å‘å®‰å“åº”ç”¨è€Œæ¨å‡ºæ¥çš„ä¸€å¥—ç»„ä»¶ã€‚Android-JetpackåŒ…å«äº†å¼€å‘åº“ï¼Œå·¥å…·ä»¥åŠæœ€ä½³å®è·µæŒ‡å—ã€‚è€Œæˆ‘ä»¬ä»Šå¤©è¦è®²çš„ViewModelç±»æ˜¯å±äºAndroid-Jetpackåº“ä¸­çš„lifecycleåº“ã€‚è¯´åˆ°è¿™ï¼Œé¡ºå¸¦è§£é‡Šä»¥ä¸‹ã€‚lifecycleï¼Œä¸­æ–‡æ„æ€ä¸ºç”Ÿå‘½å‘¨æœŸã€‚æ‰€ä»¥è¿™ä¸ªåº“çš„å­˜åœ¨å°±è·Ÿå®ƒçš„ä¸­æ–‡å«ä¹‰ä¸€æ ·ï¼Œå®ƒå¯ä»¥æœ‰æ•ˆé¿å…å†…å­˜æ³„æ¼å’Œè§£å†³Androidå¸¸è§çš„ç”Ÿå‘½å‘¨æœŸéš¾é¢˜ã€‚ï¼ˆå¦‚æœå„ä½çœ‹å®˜ä¸çŸ¥é“å†…å­˜æ³„éœ²çš„å¯ä»¥å»å¥½å¥½è¡¥è¡¥è¯¾ï¼‰lifecycleæœ€è¿‘å‘å¸ƒäº†2-0ç‰ˆæœ¬ï¼Œåœ¨è¿™ä¸ªç‰ˆæœ¬ä¸­ï¼Œå¯ä»¥ç»“åˆDataBindingè¿›è¡Œä½¿ç”¨ï¼Œé‚£å¯ä»¥è¯´æ˜¯æ–¹ä¾¿å¤ªå¤šäº†ã€‚" class="headerlink" title="Android Jetpackæ˜¯è°·æ­Œä¸ºäº†å¸®åŠ©å¼€å‘è€…ä»¬æ›´å¿«æ›´é«˜æ•ˆåœ°å¼€å‘å®‰å“åº”ç”¨è€Œæ¨å‡ºæ¥çš„ä¸€å¥—ç»„ä»¶ã€‚Android JetpackåŒ…å«äº†å¼€å‘åº“ï¼Œå·¥å…·ä»¥åŠæœ€ä½³å®è·µæŒ‡å—ã€‚è€Œæˆ‘ä»¬ä»Šå¤©è¦è®²çš„ViewModelç±»æ˜¯å±äºAndroid Jetpackåº“ä¸­çš„lifecycleåº“ã€‚è¯´åˆ°è¿™ï¼Œé¡ºå¸¦è§£é‡Šä»¥ä¸‹ã€‚lifecycleï¼Œä¸­æ–‡æ„æ€ä¸ºç”Ÿå‘½å‘¨æœŸã€‚æ‰€ä»¥è¿™ä¸ªåº“çš„å­˜åœ¨å°±è·Ÿå®ƒçš„ä¸­æ–‡å«ä¹‰ä¸€æ ·ï¼Œå®ƒå¯ä»¥æœ‰æ•ˆé¿å…å†…å­˜æ³„æ¼å’Œè§£å†³Androidå¸¸è§çš„ç”Ÿå‘½å‘¨æœŸéš¾é¢˜ã€‚ï¼ˆå¦‚æœå„ä½çœ‹å®˜ä¸çŸ¥é“å†…å­˜æ³„éœ²çš„å¯ä»¥å»å¥½å¥½è¡¥è¡¥è¯¾ï¼‰lifecycleæœ€è¿‘å‘å¸ƒäº†2.0ç‰ˆæœ¬ï¼Œåœ¨è¿™ä¸ªç‰ˆæœ¬ä¸­ï¼Œå¯ä»¥ç»“åˆDataBindingè¿›è¡Œä½¿ç”¨ï¼Œé‚£å¯ä»¥è¯´æ˜¯æ–¹ä¾¿å¤ªå¤šäº†ã€‚"></a>Android Jetpackæ˜¯è°·æ­Œä¸ºäº†å¸®åŠ©å¼€å‘è€…ä»¬æ›´å¿«æ›´é«˜æ•ˆåœ°å¼€å‘å®‰å“åº”ç”¨è€Œæ¨å‡ºæ¥çš„ä¸€å¥—ç»„ä»¶ã€‚Android JetpackåŒ…å«äº†å¼€å‘åº“ï¼Œå·¥å…·ä»¥åŠæœ€ä½³å®è·µæŒ‡å—ã€‚è€Œæˆ‘ä»¬ä»Šå¤©è¦è®²çš„ViewModelç±»æ˜¯å±äºAndroid Jetpackåº“ä¸­çš„lifecycleåº“ã€‚è¯´åˆ°è¿™ï¼Œé¡ºå¸¦è§£é‡Šä»¥ä¸‹ã€‚lifecycleï¼Œä¸­æ–‡æ„æ€ä¸ºç”Ÿå‘½å‘¨æœŸã€‚æ‰€ä»¥è¿™ä¸ªåº“çš„å­˜åœ¨å°±è·Ÿå®ƒçš„ä¸­æ–‡å«ä¹‰ä¸€æ ·ï¼Œå®ƒå¯ä»¥æœ‰æ•ˆé¿å…å†…å­˜æ³„æ¼å’Œè§£å†³Androidå¸¸è§çš„ç”Ÿå‘½å‘¨æœŸéš¾é¢˜ã€‚ï¼ˆå¦‚æœå„ä½çœ‹å®˜ä¸çŸ¥é“å†…å­˜æ³„éœ²çš„å¯ä»¥å»å¥½å¥½è¡¥è¡¥è¯¾ï¼‰lifecycleæœ€è¿‘å‘å¸ƒäº†2.0ç‰ˆæœ¬ï¼Œåœ¨è¿™ä¸ªç‰ˆæœ¬ä¸­ï¼Œå¯ä»¥ç»“åˆDataBindingè¿›è¡Œä½¿ç”¨ï¼Œé‚£å¯ä»¥è¯´æ˜¯æ–¹ä¾¿å¤ªå¤šäº†ã€‚</h3><h4 id="ä¸€ï¼ŒViewModelçš„å®šä¹‰ã€‚"><a href="#ä¸€ï¼ŒViewModelçš„å®šä¹‰ã€‚" class="headerlink" title="ä¸€ï¼ŒViewModelçš„å®šä¹‰ã€‚"></a>ä¸€ï¼ŒViewModelçš„å®šä¹‰ã€‚</h4><p>æ¥è‡ªå®˜æ–¹çš„è§£é‡Šï¼šViewModelç±»æ˜¯ç”¨æ¥ä¿å­˜UIæ•°æ®çš„ç±»ï¼Œå®ƒä¼šåœ¨é…ç½®å˜æ›´ï¼ˆå³ Configuration Changeï¼Œä¾‹å¦‚æ‰‹æœºå±å¹•çš„æ—‹è½¬ï¼‰ä¹‹åç»§ç»­å­˜åœ¨ã€‚</p><h4 id="äºŒï¼Œå®ƒçš„ä¸€äº›ç‰¹ç‚¹ã€‚"><a href="#äºŒï¼Œå®ƒçš„ä¸€äº›ç‰¹ç‚¹ã€‚" class="headerlink" title="äºŒï¼Œå®ƒçš„ä¸€äº›ç‰¹ç‚¹ã€‚"></a>äºŒï¼Œå®ƒçš„ä¸€äº›ç‰¹ç‚¹ã€‚</h4><p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œå½“æ‰‹æœºå±å¹•å‘ç”Ÿæ—‹è½¬çš„æ—¶å€™ï¼ŒActivityä¼šè¢«é‡æ–°åˆ›å»ºï¼Œä¹Ÿå°±æ˜¯è¯´ç”Ÿå‘½å‘¨æœŸåˆå°†ä»onCreateå¼€å§‹ï¼Œå¦‚æœä½ æ­¤æ—¶ä¸åŠæ—¶ä¿å­˜ï¼Œé‚£ä¹ˆä¸€äº›UIæ•°æ®å°†ä¼šä¸¢å¤±ï¼Œè¿™æ ·è‚¯å®šæ˜¯ä¼šå‡ºé—®é¢˜çš„ã€‚ä½†æ˜¯ï¼ŒViewModelå¹¶ä¸ä¼šå—æ­¤å½±å“ï¼Œå³ä¾¿æ‰‹æœºå±å¹•å‘ç”Ÿæ—‹è½¬ï¼ŒViewModelä¾ç„¶å­˜åœ¨ï¼Œè¿™æ ·çš„è¯Activityçš„UIæ•°æ®ä¾¿å¯ä»¥ä¿å­˜ä¸‹æ¥ã€‚</p><h4 id="ä¸‰ï¼Œæœ€ä½³å®è·µï¼ˆå®˜æ–¹æ¨èåšæ³•ï¼‰ã€‚"><a href="#ä¸‰ï¼Œæœ€ä½³å®è·µï¼ˆå®˜æ–¹æ¨èåšæ³•ï¼‰ã€‚" class="headerlink" title="ä¸‰ï¼Œæœ€ä½³å®è·µï¼ˆå®˜æ–¹æ¨èåšæ³•ï¼‰ã€‚"></a>ä¸‰ï¼Œæœ€ä½³å®è·µï¼ˆå®˜æ–¹æ¨èåšæ³•ï¼‰ã€‚</h4><ol><li><p>æ‰€æœ‰Activityçš„UIç›¸å…³æ•°æ®åº”è¯¥ä¿å­˜åœ¨ViewModelä¸­ï¼Œè€Œä¸æ˜¯ä¿å­˜åœ¨Activityä¸­ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œåœ¨é…ç½®å˜æ›´çš„æ—¶å€™ï¼Œä½ åº”ç”¨çš„UIæ•°æ®ä»ç„¶å­˜åœ¨ã€‚å³ä½¿ViewModelè¿™ä¹ˆå¼ºå¤§ï¼Œä½†å®ƒä¹Ÿä¸åº”è¯¥ä¸æ‰¿æ‹…è¿‡å¤šè´£ä»»ï¼Œå½“æœ‰UIæ•°æ®å¤„ç†ç­‰ç›¸å…³äº‹ä»¶å»ºè®®åˆ›å»ºPresenterç±»ï¼Œæˆ–è€…åˆ›å»ºä¸€ä¸ªæ›´æˆç†Ÿçš„æ¶æ„ã€‚</p></li><li><p>Activityè´Ÿè´£å±•ç¤ºUIæ•°æ®ï¼Œå¹¶æ¥æ”¶äº’åŠ¨ï¼ˆä¸€èˆ¬æ¥è¯´æ˜¯ä¸ç”¨æˆ·çš„äº’åŠ¨ï¼‰ã€‚ä½†æ˜¯Activityä¸åº”å½“å¤„ç†è¿™äº›äº’åŠ¨ã€‚</p></li><li><p>åœ¨åº”ç”¨éœ€è¦åŠ è½½æ•°æ®æˆ–è€…ä¿å­˜æ•°æ®çš„æ—¶å€™ï¼Œå»ºè®®åˆ›å»ºä¸€ä¸ªRepositoryçš„å­˜å‚¨åŒºç±»ï¼Œé‡Œé¢æ”¾ç½®å­˜å‚¨ä¸åŠ è½½åº”ç”¨æ•°æ®çš„APIã€‚</p></li><li><p>ViewModelä¸åº”æŒæœ‰Contextï¼Œå°±åƒä¹‹å‰è¯´çš„ï¼š</p><blockquote><p>å®ƒä¼šåœ¨é…ç½®å˜æ›´ï¼ˆå³ Configuration Changeï¼Œä¾‹å¦‚æ‰‹æœºå±å¹•çš„æ—‹è½¬ï¼‰ä¹‹åç»§ç»­å­˜åœ¨ã€‚</p></blockquote><p> æ‰€ä»¥ï¼ŒViewModelç”Ÿå‘½å‘¨æœŸè¿œæ¯”Activityï¼ŒFragmentç­‰ç”Ÿå‘½å‘¨æœŸæ›´é•¿ï¼Œå…·ä½“å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚å¦‚æœä½ è¿™æ ·åšäº†ï¼ŒåŠ å…¥åœ¨å±å¹•æ—‹è½¬æƒ…å†µä¸‹ï¼ŒåŸActivityå°†ä¼šé”€æ¯ï¼Œæ–°çš„Activityå°†ä¼šè¢«åˆ›å»ºã€‚è€ŒViewModelä¼šä¸€ç›´æŒæœ‰åŸActivityï¼Œè¿™æ ·ä¾¿ä¼šé€ æˆå†…å­˜æ³„æ¼ã€‚å¦‚æœä½ çš„ViewModelç¡®å®éœ€è¦Contextï¼Œé‚£ä¹ˆä½ çš„ViewModelå¯ä»¥ç»§æ‰¿AndroidViewModelï¼Œè¿™æ ·ä½ çš„ViewModelä¸­ä¼šæœ‰Applicationçš„å¼•ç”¨ã€‚<br><br> <img src="https://upload-images.jianshu.io/upload_images/8654767-3367001936c06aac.png" alt="ViewModelé…ç½®å˜æ›´çš„ç”Ÿå‘½å‘¨æœŸ"></p></li><li><p>ViewModelä¸åº”å½“å–ä»£onSaveInstanceStateæ–¹æ³•ã€‚å°½ç®¡ViewModelå¾ˆå‡ºè‰²äº†ï¼Œä½†æ˜¯å®ƒå’ŒonSaveInstanceStateä¾ç„¶æ˜¯ç›¸è¾…ç›¸æˆçš„ä½œç”¨ã€‚å› ä¸ºï¼Œå½“è¿›ç¨‹è¢«å…³é—­æ—¶ï¼ŒViewModelå°†ä¼šè¢«é”€æ¯ï¼Œä½†æ˜¯onSaveInstanceStateä¸ä¼šå—åˆ°å½±å“ã€‚ï¼ˆä¸ªäººçŒœæƒ³ï¼šæ¯”å¦‚åœ¨åå°å†…å­˜ç´§å¼ æƒ…å†µä¸‹ï¼Œä½ çš„åº”ç”¨å¤„äºåå°è¢«ç³»ç»Ÿé‡Šæ”¾äº†ï¼ŒViewModelä¼šè¢«é”€æ¯ï¼Œä½†æ˜¯ä½ é€šè¿‡onSaveInstanceStateå­˜å‚¨ä¸‹æ¥çš„æ•°æ®åœ¨ä½ çš„åº”ç”¨é‡æ–°å›åˆ°å‰å°æ—¶ä»ç„¶å¯ä»¥è¢«æ¢å¤ï¼‰<br> <img src="https://upload-images.jianshu.io/upload_images/8654767-0a4131db00ef8d7d.png" alt="QQæˆªå›¾20181029143111.png"></p></li><li><p>ViewModelä¸Activityç”Ÿå‘½å‘¨æœŸå¯¹æ¯”å›¾ï¼š<br> <img src="https://upload-images.jianshu.io/upload_images/8654767-b7cb23337850512e.png" alt="ViewModelä¸Activityç”Ÿå‘½å‘¨æœŸå¯¹æ¯”å›¾"></p></li></ol><h4 id="å››ï¼ŒViewModelçš„ç”¨æ³•"><a href="#å››ï¼ŒViewModelçš„ç”¨æ³•" class="headerlink" title="å››ï¼ŒViewModelçš„ç”¨æ³•"></a>å››ï¼ŒViewModelçš„ç”¨æ³•</h4><ol><li><p>å¼•å…¥lifecycleåº“ï¼š</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">implementation &quot;android.arch.lifecycle:extensions:1.1.0&quot;</span><br><span class="line">annotationProcessor &quot;android.arch.lifecycle:compiler:1.1.0&quot;</span><br></pre></td></tr></table></figure></li><li><p>é¦–å…ˆåˆ›å»ºå‡ºæˆ‘ä»¬çš„ViewModelç±»ã€‚æˆ‘ä»¬éœ€è¦æ–°å»ºä¸€ä¸ªæ™®é€šç±»ï¼Œï¼ˆè™½ç„¶ç±»åæ˜¯éšæ„çš„ï¼Œä½†æ˜¯ä½œä¸ºä¸€ååˆæ ¼çš„ç¨‹åºå‘˜ï¼Œæˆ‘ä»¬å–å¾—æ¯ä¸€ä¸ªåå­—è¦å…·æœ‰è§„èŒƒæ€§ï¼Œè¦è®©ä»£ç é˜…è¯»è€…ä¸€çœ‹åå­—å°±çŸ¥é“è¿™ä¸ªç±»æˆ–è€…è¿™ä¸ªå˜é‡æ˜¯å¹²å˜›çš„ï¼‰è®©å®ƒç»§æ‰¿ViewModelç±»ï¼Œå¹¶ä¸”åœ¨å…¶ä¸­å­˜æ”¾UIç›¸å…³æ•°æ®ï¼š</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; å‡è®¾æˆ‘ä»¬è¦å­˜æ”¾çš„UIæ•°æ®å°±æ˜¯Userå¯¹è±¡</span><br><span class="line">&#x2F;&#x2F; å…ˆæ–°å»ºä¸€ä¸ªå®ä½“å¯¹è±¡</span><br><span class="line">data class User(val name: String, val age: Int, val sex: Int)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ–°å»ºViewModelç±»</span><br><span class="line">&#x2F;&#x2F; æ–°å»ºViewModelç±»</span><br><span class="line">class UserViewModel : ViewModel() &#123;</span><br><span class="line">    val user &#x3D; User(&quot;å¼ ä¸‰&quot;, 21, 1)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ–°å»ºActivityï¼Œå¹¶ä¸”åŠ å…¥å®ä¾‹åŒ–ViewModelçš„ä»£ç ã€‚è¿™é‡Œæˆ‘ä»¬å®ä¾‹åŒ–ViewModelä¸å†æ˜¯newä¸€ä¸‹ï¼š</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">class ViewModelActivity : AppCompatActivity() &#123;</span><br><span class="line">    override fun onCreate(savedInstanceState: Bundle?) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState)</span><br><span class="line">        setContentView(R.layout.activity_view_model)</span><br><span class="line">        val userViewModel &#x3D; ViewModelProviders.of(this).get(UserViewModel::class.java)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> è‡³æ­¤ï¼Œæˆ‘ä»¬ä¸€ä¸ªViewModelå°±åˆ›å»ºå¥½äº†ã€‚</p></li><li><p>æ„Ÿè§‰å•å•ä¸€ä¸ªViewModelçš„å­˜åœ¨æ²¡æœ‰å¾ˆå¤§çš„ä»·å€¼ï¼Œä½†æ˜¯å¦‚æœæ­é…ä¸ŠLiveDataå’ŒDataBindingä½ å°±èƒ½ä½“ä¼šåˆ°ä»€ä¹ˆæ˜¯é£ä¸€æ ·çš„æ„Ÿè§‰ã€‚ç”¨ä¸Šè¿™äº›ï¼Œä½ å°±èƒ½å¤Ÿåˆ›å»ºååº”å¼ç•Œé¢ï¼ˆæœ€åŸºæœ¬çš„åªè¦LiveDataå’ŒViewModelå°±å¯ä»¥åˆ›å»ºååº”å¼ç•Œé¢ã€‚æˆ–è€…å•å•DataBindingå°±å¯ä»¥å®Œæˆï¼Œä½†æ˜¯ä¸å…·å¤‡ç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥èƒ½åŠ›ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨å¤„ç†ç”Ÿå‘½å‘¨æœŸé—®é¢˜ï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ä½ åº•å±‚æ•°æ®å‘ç”Ÿå˜åŠ¨æ—¶ï¼ˆè¿™é‡Œæš‚æ—¶åªæ˜¯ViewModelä¸­æ•°æ®å‘ç”Ÿå˜åŠ¨ï¼‰ï¼ŒUIä¼šè‡ªåŠ¨åˆ·æ–°ã€‚</p></li><li><p>ViewModelåªæä¾›ä¸€ä¸ªé»˜è®¤çš„æ— å‚æ„é€ å‡½æ•°ï¼Œå¦‚æœä½ éœ€è¦ä¸€ä¸ªæœ‰å‚æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆå°±éœ€è¦ä½¿ç”¨ViewModelFactoryè¿™ä¸ªç±»ï¼Œå…·ä½“ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹æ‰€ç¤º(æ‘˜è‡ªå®˜æ–¹sunflower Demoä»£ç )ï¼š</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; æ–°å»ºä¸€ä¸ªFactoryç±»ï¼Œç”¨æ¥æä¾›å¸¦æœ‰æœ‰å‚æ„é€ å‡½æ•°çš„ViewModelå®ä¾‹ï¼Œå¿…é¡»ç»§æ‰¿ViewModelProvider.NewInstanceFactoryï¼Œç„¶åé‡å†™createæ–¹æ³•</span><br><span class="line">class MessageViewModelFactory(private val message: Message) : ViewModelProvider.NewInstanceFactory() &#123;</span><br><span class="line">    @Suppress(&quot;UNCHECKED_CAST&quot;)</span><br><span class="line">    override fun &lt;T : ViewModel?&gt; create(modelClass: Class&lt;T&gt;): T &#123;</span><br><span class="line">        return MessageViewModel(message) as T</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ–°å»ºä¸€ä¸ªå¸¦æœ‰æœ‰å‚æ„é€ å‡½æ•°çš„ViewModel</span><br><span class="line">class MessageViewModel(val message: Message) : ViewModel()</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Activityä¸­åˆå§‹åŒ–ViewModelçš„ä»£ç ä¹Ÿè¦è¿›è¡Œæ”¹åŠ¨</span><br><span class="line">&#x2F;&#x2F; åˆ›å»ºFactoryå¯¹è±¡</span><br><span class="line">val factory &#x3D; MessageViewModelFactory(Message(&quot;æˆ‘æ˜¯é€šè¿‡æœ‰å‚æ„é€ å‡½æ•°ç›´æ¥åˆå§‹åŒ–çš„ä¿¡æ¯å†…å®¹&quot;,</span><br><span class="line">        &quot;æˆ‘æ˜¯é€šè¿‡æœ‰å‚æ„é€ å‡½æ•°ç›´æ¥æ„é€ å‡ºæ¥çš„ä¿¡æ¯å‘é€äºº&quot;))</span><br><span class="line">&#x2F;&#x2F; é€šè¿‡Factoryå¯¹è±¡åˆå§‹åŒ–å¸¦å‚æ„é€ å‡½æ•°çš„ViewModel</span><br><span class="line">val messageViewModel &#x3D; ViewModelProviders.of(this, factory).get(MessageViewModel::class.java)</span><br><span class="line">&#x2F;&#x2F; å°†MessageViewModelå®ä¾‹èµ‹å€¼ç»™xmlä¸­çš„msg</span><br><span class="line">binding.msg &#x3D; messageViewModel</span><br></pre></td></tr></table></figure><p> è¿™æ ·ä¾¿å¯ä»¥å®Œæˆå¸¦æœ‰æœ‰å‚æ„é€ å‡½æ•°çš„ViewModelçš„åˆå§‹åŒ–ã€‚</p></li></ol><h4 id="äº”ï¼Œæ­é…ä¸ŠLiveData"><a href="#äº”ï¼Œæ­é…ä¸ŠLiveData" class="headerlink" title="äº”ï¼Œæ­é…ä¸ŠLiveData"></a>äº”ï¼Œæ­é…ä¸ŠLiveData</h4><ol><li><p>LiveDataç®€ä»‹ï¼šLiveDataæ˜¯ä¸€ç§å…·æœ‰ç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥èƒ½åŠ›çš„å¯è§‚å¯Ÿæ•°æ®æŒæœ‰ç±»ã€‚å®ƒåŒå±äºAndroid Jectpackä¸­çš„lifecycleåº“ã€‚LiveDataå¯¹è±¡é€šå¸¸ä¿å­˜åœ¨æˆ‘ä»¬ä¸Šé¢è®²çš„ViewModelä¸­ã€‚</p></li><li><p>ç»“åˆViewModelçš„ä½¿ç”¨ã€‚æˆ‘ä»¬è¯´è¿‡ï¼Œä½¿ç”¨LiveDataåŠ ViewModelå¯ä»¥åˆ›å»ºä¸€ä¸ªååº”å¼ç•Œé¢ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿæˆ‘ä»¬éœ€è¦æ”¹å†™ä¸Šé¢çš„UserViewModelï¼Œè®©å…¶ä¸­çš„userå…·æœ‰å¯è§‚å¯Ÿæ€§ï¼š</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">class UserViewModel : ViewModel() &#123;</span><br><span class="line">    val user &#x3D; MutableLiveData&lt;User&gt;()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ¥ç€ï¼Œæˆ‘ä»¬åœ¨ViewModelActivityä¸­ç›‘å¬UserViewModelä¸­çš„userå±æ€§çš„å˜åŒ–ï¼Œå¹¶ä¸”åœ¨å®ƒå˜åŒ–åè¿›è¡Œç›¸åº”çš„æ“ä½œï¼š</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- ä¸ºäº†æ¼”ç¤ºæ•ˆæœï¼Œæˆ‘ä»¬åœ¨å¸ƒå±€æ–‡ä»¶activity_view_modelä¸­æ·»åŠ äº†ä¸€äº›æ§ä»¶ --&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class="line">    xmlns:tools&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;tools&quot;</span><br><span class="line">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class="line">    android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class="line">    android:orientation&#x3D;&quot;vertical&quot;</span><br><span class="line">    tools:context&#x3D;&quot;.viewmodel.ViewModelActivity&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:id&#x3D;&quot;@+id&#x2F;tv_vm&quot;</span><br><span class="line">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height&#x3D;&quot;wrap_content&quot; &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Button</span><br><span class="line">        android:id&#x3D;&quot;@+id&#x2F;bt_vm&quot;</span><br><span class="line">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">        android:text&#x3D;&quot;è®¾ç½®å§“å&quot;&#x2F;&gt;</span><br><span class="line">&lt;&#x2F;LinearLayout&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; åœ¨Activityä¸­è®¾ç½®æ•°æ®å˜åŒ–ç›‘å¬ï¼Œå¹¶ä¸”è¿›è¡Œç›¸åº”å¤„ç†</span><br><span class="line">class ViewModelActivity : AppCompatActivity() &#123;</span><br><span class="line">    private lateinit var tv: TextView</span><br><span class="line">    private lateinit var bt: Button</span><br><span class="line"></span><br><span class="line">    override fun onCreate(savedInstanceState: Bundle?) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState)</span><br><span class="line">        setContentView(R.layout.activity_view_model)</span><br><span class="line">        tv &#x3D; findViewById(R.id.tv_vm)</span><br><span class="line">        bt &#x3D; findViewById(R.id.bt_vm)</span><br><span class="line">        val userViewModel &#x3D; ViewModelProviders.of(this).get(UserViewModel::class.java)</span><br><span class="line">        &#x2F;&#x2F; ç›‘å¬ViewModelä¸­userçš„å˜åŒ–ï¼Œå½“å®ƒå˜åŒ–æ—¶ï¼Œå°†TextViewé‡æ–°è®¾ç½®æ–‡å­—</span><br><span class="line">        userViewModel.user.observe(this, Observer &#123;</span><br><span class="line">            tv.text &#x3D; it?.name</span><br><span class="line">        &#125;)</span><br><span class="line">        &#x2F;&#x2F; ä¸ºæŒ‰é’®è®¾ç½®ç‚¹å‡»äº‹ä»¶ï¼Œç‚¹å‡»åè®¾ç½®userçš„å€¼</span><br><span class="line">        bt.setOnClickListener&#123;</span><br><span class="line">            val user &#x3D; User(&quot;å¼ ä¸‰&quot;, 21, 1)</span><br><span class="line">            userViewModel.user.value &#x3D; user</span><br><span class="line">            &#x2F;&#x2F; Javaä»£ç </span><br><span class="line">            &#x2F;&#x2F; userViewModel.user.setValue(user)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> å†™å®Œä»¥ä¸Šä»£ç ï¼Œå½“æˆ‘ä»¬ç‚¹å‡»æŒ‰é’®çš„æ—¶å€™TextViewå°±ä¼šæ˜¾ç¤ºâ€œå¼ ä¸‰â€äºŒå­—äº†ã€‚</p></li><li><p>ä¸Šé¢ä»£ç ä¸­é™¤äº†setValueï¼Œè¿˜æœ‰ä¸€ä¸ªæ–¹æ³•å«postValueã€‚åŒºåˆ«åœ¨äºsetValueåªå¯ä»¥åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œï¼ˆå³UIçº¿ç¨‹ï¼‰ï¼ŒpostValueåªå¯ä»¥åœ¨åå°çº¿ç¨‹è¿è¡Œã€‚</p></li><li><p>LiveDataèƒ½å¤Ÿæ„ŸçŸ¥ç”Ÿå‘½å‘¨æœŸçš„å¥½å¤„ï¼š1ï¼Œå½“Activityä¸åœ¨å±å¹•ä¸Šæ—¶ï¼ˆä¸å¯è§ï¼‰ï¼ŒLiveDataä¸ä¼šå‡ºå‘æ²¡å¿…è¦çš„ç•Œé¢æ›´æ–°ï¼›2ï¼Œå½“Activityè¢«é”€æ¯æ—¶ï¼ŒLiveDataå°†è‡ªåŠ¨æ¸…ç©ºä¸Observerçš„è¿æ¥ï¼›</p></li></ol><h4 id="å…­ï¼Œæ­é…ä¸ŠDataBinding"><a href="#å…­ï¼Œæ­é…ä¸ŠDataBinding" class="headerlink" title="å…­ï¼Œæ­é…ä¸ŠDataBinding"></a>å…­ï¼Œæ­é…ä¸ŠDataBinding</h4><p>æˆ‘ä»¬çœ‹åˆ°ï¼Œä¸Šé¢çš„ä»£ç è¿˜æ˜¯æœ‰äº›ç¹çï¼Œæˆ‘ä»¬è¿˜è¦è‡ªå·±å†™ä»£ç ç›‘å¬æ•°æ®å˜åŒ–ï¼Œå¹¶ä¸”è‡ªå·±æ‰‹åŠ¨å»æ›´æ–°UIã€‚ä¹‹å‰æˆ‘ä»¬DataBindingå¯ä¸æ˜¯è¿™æ ·çš„ã€‚æ˜¯çš„ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æ›´ç®€å•ã€‚åˆ«å¿˜äº†ï¼Œlifecycle2.0æ˜¯æ”¯æŒäº†DataBindingæ•°æ®ç»‘å®šçš„ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤æ¥ç»“åˆDataBindingä½¿ç”¨ï¼š</p><ol><li><p>åƒDataBindingä¸­é‚£æ ·å†™å¸ƒå±€ï¼Œæ‰€ä»¥å°†activity_view_modelæ”¹æˆå¦‚ä¸‹æ‰€ç¤ºï¼š</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;layout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class="line">    xmlns:tools&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;tools&quot;&gt;</span><br><span class="line">    &lt;data&gt;</span><br><span class="line">        &lt;variable</span><br><span class="line">            name&#x3D;&quot;viewModel&quot;</span><br><span class="line">            type&#x3D;&quot;top.cyixlq.test.viewmodel.UserViewModel&quot;&#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;data&gt;</span><br><span class="line"></span><br><span class="line">    &lt;LinearLayout</span><br><span class="line">        android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class="line">        android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class="line">        android:orientation&#x3D;&quot;vertical&quot;</span><br><span class="line">        tools:context&#x3D;&quot;.viewmodel.ViewModelActivity&quot;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:id&#x3D;&quot;@+id&#x2F;tv_vm&quot;</span><br><span class="line">            android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">            android:text&#x3D;&quot;@&#123;viewModel.user.name&#125;&quot;&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">            android:text&#x3D;&quot;@&#123;String.valueOf(viewModel.user.age)&#125;&quot;&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;Button</span><br><span class="line">            android:id&#x3D;&quot;@+id&#x2F;bt_vm&quot;</span><br><span class="line">            android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">            android:text&#x3D;&quot;è®¾ç½®å§“å&quot;&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;&#x2F;LinearLayout&gt;</span><br><span class="line">&lt;&#x2F;layout&gt;</span><br></pre></td></tr></table></figure></li><li><p>æ³¨é‡Šæ‰ViewModelActivityä¸­çš„ä¹‹å‰çš„ä»£ç ï¼Œå¹¶é‡æ–°å†™ï¼Œæ‰€ä»¥æœ‰ç”¨çš„ä»£ç å°±æ˜¯ä¸‹é¢è¿™æ ·ï¼š</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">class ViewModelActivity : AppCompatActivity() &#123;</span><br><span class="line">    override fun onCreate(savedInstanceState: Bundle?) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState)</span><br><span class="line">        setContentView(R.layout.activity_view_model)</span><br><span class="line">        val userViewModel &#x3D; ViewModelProviders.of(this).get(UserViewModel::class.java)</span><br><span class="line">        val binding &#x3D; DataBindingUtil.setContentView&lt;ActivityViewModelBinding&gt;(this, R.layout.activity_view_model)</span><br><span class="line">        &#x2F;&#x2F; Javaä»£ç </span><br><span class="line">        &#x2F;&#x2F; ActivityViewModelBinding binding &#x3D; DataBindingUtil.setContentView(this, R.layout.activity_view_model)</span><br><span class="line"></span><br><span class="line">        binding.viewModel &#x3D; userViewModel</span><br><span class="line">        &#x2F;&#x2F; javaä»£ç </span><br><span class="line">        &#x2F;&#x2F; binding.setViewModel(userViewModel)</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; è®©xmlå†…ç»‘å®šçš„LiveDataå’ŒObserverå»ºç«‹è¿æ¥ï¼Œä¹Ÿæ­£æ˜¯å› ä¸ºè¿™æ®µä»£ç ï¼Œè®©LiveDataèƒ½æ„ŸçŸ¥Activityçš„ç”Ÿå‘½å‘¨æœŸ</span><br><span class="line">        binding.setLifecycleOwner(this)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä¸ºäº†éªŒè¯æ•ˆæœï¼Œæˆ‘ä»¬è®¾ç½®ä¸€ä¸‹æŒ‰é’®çš„çš„ç‚¹å‡»äº‹ä»¶ï¼Œå½“æŒ‰é’®ç‚¹å‡»åTextViewæ˜¾ç¤ºå§“åå¹´é¾„çš„ä¿¡æ¯ï¼š</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">bt_vm.setOnClickListener &#123; </span><br><span class="line">    userViewModel.user.value &#x3D; User(&quot;æå››&quot;, 22, 1)</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; javaä»£ç </span><br><span class="line">&#x2F;&#x2F; findViewById(R.id.bt_vm).setOnClickListener(new View.OnClickListener() &#123;</span><br><span class="line">&#x2F;&#x2F;     userViewModel.user.setValue(new User(&quot;æå››&quot;, 22, 1))</span><br><span class="line">&#x2F;&#x2F; &#125;)</span><br></pre></td></tr></table></figure></li></ol><p>ç»è¿‡ä»¥ä¸Šçš„æ­¥éª¤å°±å¯ä»¥ç»“åˆDataBindingä½¿ç”¨äº†</p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;ä¹‹å‰å‡ å°ç« æˆ‘ä»¬è®²äº†DataBindingï¼Œå…¶ä¸­å°†ä¸€ä¸ªæ™®é€šç±»åŒ–èº«ä¸ºViewModelï¼Œä½†æ˜¯ä»¥æˆ‘çš„è§‚ç‚¹æ¥çœ‹ï¼Œä»–ä»…ä»…åªæ˜¯ä¸€ä¸ªæ™®é€šç±»ï¼Œä¸€ä¸ªå°†å„ç§å¯è§‚å¯Ÿå±æ€§å°è£…èµ·æ¥çš„æ™®é€šç±»ï¼Œè€Œè¿™ä¸ªæ™®é€šç±»æˆ‘ä»¬è¿˜åœ¨é‡Œé¢å®šä¹‰äº†å„ç§ç›¸åº”æŒ‰é’®ç‚¹å‡»äº‹ä»¶ç­‰æ–¹æ³•ï¼Œå…¶å®è¿™äº›éƒ½è¿èƒŒäº†å®˜æ–¹çš„å»ºè®®çš„ï¼Œæˆ‘åªæ˜¯æƒ³è®©å¤§å®¶çŸ¥é“å¯ä»¥è¿™æ ·åšè€Œå·²ã€‚æ‰€ä»¥æˆ‘ä»¬è¦ä»‹ç»Android-Jetpackä¸­æ­£ç»Ÿçš„ViewModelç±»ï¼Œä»¥åŠä¸€äº›å®ƒçš„æœ€ä½³å®è·µæŒ‡å—ã€‚&quot;&gt;&lt;a href=&quot;#ä¹‹å‰å‡ å°ç« æˆ‘ä»¬è®²äº†DataBindingï¼Œå…¶ä¸­å°†ä¸€ä¸ªæ™®é€šç±»åŒ–èº«ä¸ºViewModelï¼Œä½†æ˜¯ä»¥æˆ‘çš„è§‚ç‚¹æ¥çœ‹ï¼Œä»–ä»…ä»…åªæ˜¯ä¸€ä¸ªæ™®é€šç±»ï¼Œä¸€ä¸ªå°†å„ç§å¯è§‚å¯Ÿå±æ€§å°è£…èµ·æ¥çš„æ™®é€šç±»ï¼Œè€Œè¿™ä¸ªæ™®é€šç±»æˆ‘ä»¬è¿˜åœ¨é‡Œé¢å®šä¹‰äº†å„ç§ç›¸åº”æŒ‰é’®ç‚¹å‡»äº‹ä»¶ç­‰æ–¹æ³•ï¼Œå…¶å®è¿™äº›éƒ½è¿èƒŒäº†å®˜æ–¹çš„å»ºè®®çš„ï¼Œæˆ‘åªæ˜¯æƒ³è®©å¤§å®¶çŸ¥é“å¯ä»¥è¿™æ ·åšè€Œå·²ã€‚æ‰€ä»¥æˆ‘ä»¬è¦ä»‹ç»Android-Jetpackä¸­æ­£ç»Ÿçš„ViewModelç±»ï¼Œä»¥åŠä¸€äº›å®ƒçš„æœ€ä½³å®è·µæŒ‡å—ã€‚&quot; class=&quot;headerlink&quot; title=&quot;ä¹‹å‰å‡ å°ç« æˆ‘ä»¬è®²äº†DataBindingï¼Œå…¶ä¸­å°†ä¸€ä¸ªæ™®é€šç±»åŒ–èº«ä¸ºViewModelï¼Œä½†æ˜¯ä»¥æˆ‘çš„è§‚ç‚¹æ¥çœ‹ï¼Œä»–ä»…ä»…åªæ˜¯ä¸€ä¸ªæ™®é€šç±»ï¼Œä¸€ä¸ªå°†å„ç§å¯è§‚å¯Ÿå±æ€§å°è£…èµ·æ¥çš„æ™®é€šç±»ï¼Œè€Œè¿™ä¸ªæ™®é€šç±»æˆ‘ä»¬è¿˜åœ¨é‡Œé¢å®šä¹‰äº†å„ç§ç›¸åº”æŒ‰é’®ç‚¹å‡»äº‹ä»¶ç­‰æ–¹æ³•ï¼Œå…¶å®è¿™äº›éƒ½è¿èƒŒäº†å®˜æ–¹çš„å»ºè®®çš„ï¼Œæˆ‘åªæ˜¯æƒ³è®©å¤§å®¶çŸ¥é“å¯ä»¥è¿™æ ·åšè€Œå·²ã€‚æ‰€ä»¥æˆ‘ä»¬è¦ä»‹ç»Android Jetpackä¸­æ­£ç»Ÿçš„ViewModelç±»ï¼Œä»¥åŠä¸€äº›å®ƒçš„æœ€ä½³å®è·µæŒ‡å—ã€‚&quot;&gt;&lt;/a&gt;ä¹‹å‰å‡ å°ç« æˆ‘ä»¬è®²äº†DataBindingï¼Œå…¶ä¸­å°†ä¸€ä¸ªæ™®é€šç±»åŒ–èº«ä¸ºViewModelï¼Œä½†æ˜¯ä»¥æˆ‘çš„è§‚ç‚¹æ¥çœ‹ï¼Œä»–ä»…ä»…åªæ˜¯ä¸€ä¸ªæ™®é€šç±»ï¼Œä¸€ä¸ªå°†å„ç§å¯è§‚å¯Ÿå±æ€§å°è£…èµ·æ¥çš„æ™®é€šç±»ï¼Œè€Œè¿™ä¸ªæ™®é€šç±»æˆ‘ä»¬è¿˜åœ¨é‡Œé¢å®šä¹‰äº†å„ç§ç›¸åº”æŒ‰é’®ç‚¹å‡»äº‹ä»¶ç­‰æ–¹æ³•ï¼Œå…¶å®è¿™äº›éƒ½è¿èƒŒäº†å®˜æ–¹çš„å»ºè®®çš„ï¼Œæˆ‘åªæ˜¯æƒ³è®©å¤§å®¶çŸ¥é“å¯ä»¥è¿™æ ·åšè€Œå·²ã€‚æ‰€ä»¥æˆ‘ä»¬è¦ä»‹ç»Android Jetpackä¸­æ­£ç»Ÿçš„ViewModelç±»ï¼Œä»¥åŠä¸€äº›å®ƒçš„æœ€ä½³å®è·µæŒ‡å—ã€‚&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/cyixlq/MVVMTest&quot;&gt;æœ¬ç¯‡æ–‡ç« ä»£ç åœ°å€&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.bilibili.com/video/av29949898&quot;&gt;å®˜æ–¹ä¸­æ–‡æ•™å­¦è§†é¢‘åœ°å€&lt;/a&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Android" scheme="https://www.cyixlq.top/categories/Android/"/>
    
    
    <category term="MVVM" scheme="https://www.cyixlq.top/tags/MVVM/"/>
    
  </entry>
  
  <entry>
    <title>Android MVVMæ¢ç´¢(äºŒ) - DataBidingå¸¸ç”¨æ³¨è§£</title>
    <link href="https://www.cyixlq.top/2018/10/23/MVVM2/"/>
    <id>https://www.cyixlq.top/2018/10/23/MVVM2/</id>
    <published>2018-10-22T16:32:38.000Z</published>
    <updated>2021-01-15T08:30:39.728Z</updated>
    
    <content type="html"><![CDATA[<h3 id="æœ¬æ¥æƒ³ç›´æ¥ä¸€ç« èŠ‚å¤§è‡´è®²è®²å®ŒDataBindingçš„ï¼Œä½†æ˜¯è¦çŸ¥é“ï¼ŒDataBindingçŸ¥è¯†ç‚¹è¿˜æ˜¯è›®å¤šçš„ï¼ˆæˆ‘ä¹Ÿè¿˜æ²¡å…¨éƒ¨äº†è§£å®Œï¼‰ã€‚åŠ ä¸Šæˆ‘åˆå–œæ¬¢å†™çš„ç»†ä¸€ç‚¹ï¼Œæ‰€ä»¥ä¸€ç¯‡å†™ä¸‹æ¥æ´‹æ´‹æ´’æ´’ä¸€é•¿ç¯‡ï¼Œæ‰€ä»¥è¿˜æ˜¯åˆ†å¼€æ¥å†™å§ï¼ä»Šå¤©ï¼ˆå¥½å§ï¼Œå…¶å®å’Œä¸Šä¸€ç¯‡æ˜¯åŒä¸€å¤©ï¼‰æˆ‘ä»¬è¦è¯´çš„DataBindingå¸¸ç”¨çš„ä¸€äº›æ³¨è§£ï¼"><a href="#æœ¬æ¥æƒ³ç›´æ¥ä¸€ç« èŠ‚å¤§è‡´è®²è®²å®ŒDataBindingçš„ï¼Œä½†æ˜¯è¦çŸ¥é“ï¼ŒDataBindingçŸ¥è¯†ç‚¹è¿˜æ˜¯è›®å¤šçš„ï¼ˆæˆ‘ä¹Ÿè¿˜æ²¡å…¨éƒ¨äº†è§£å®Œï¼‰ã€‚åŠ ä¸Šæˆ‘åˆå–œæ¬¢å†™çš„ç»†ä¸€ç‚¹ï¼Œæ‰€ä»¥ä¸€ç¯‡å†™ä¸‹æ¥æ´‹æ´‹æ´’æ´’ä¸€é•¿ç¯‡ï¼Œæ‰€ä»¥è¿˜æ˜¯åˆ†å¼€æ¥å†™å§ï¼ä»Šå¤©ï¼ˆå¥½å§ï¼Œå…¶å®å’Œä¸Šä¸€ç¯‡æ˜¯åŒä¸€å¤©ï¼‰æˆ‘ä»¬è¦è¯´çš„DataBindingå¸¸ç”¨çš„ä¸€äº›æ³¨è§£ï¼" class="headerlink" title="æœ¬æ¥æƒ³ç›´æ¥ä¸€ç« èŠ‚å¤§è‡´è®²è®²å®ŒDataBindingçš„ï¼Œä½†æ˜¯è¦çŸ¥é“ï¼ŒDataBindingçŸ¥è¯†ç‚¹è¿˜æ˜¯è›®å¤šçš„ï¼ˆæˆ‘ä¹Ÿè¿˜æ²¡å…¨éƒ¨äº†è§£å®Œï¼‰ã€‚åŠ ä¸Šæˆ‘åˆå–œæ¬¢å†™çš„ç»†ä¸€ç‚¹ï¼Œæ‰€ä»¥ä¸€ç¯‡å†™ä¸‹æ¥æ´‹æ´‹æ´’æ´’ä¸€é•¿ç¯‡ï¼Œæ‰€ä»¥è¿˜æ˜¯åˆ†å¼€æ¥å†™å§ï¼ä»Šå¤©ï¼ˆå¥½å§ï¼Œå…¶å®å’Œä¸Šä¸€ç¯‡æ˜¯åŒä¸€å¤©ï¼‰æˆ‘ä»¬è¦è¯´çš„DataBindingå¸¸ç”¨çš„ä¸€äº›æ³¨è§£ï¼"></a>æœ¬æ¥æƒ³ç›´æ¥ä¸€ç« èŠ‚å¤§è‡´è®²è®²å®ŒDataBindingçš„ï¼Œä½†æ˜¯è¦çŸ¥é“ï¼ŒDataBindingçŸ¥è¯†ç‚¹è¿˜æ˜¯è›®å¤šçš„ï¼ˆæˆ‘ä¹Ÿè¿˜æ²¡å…¨éƒ¨äº†è§£å®Œï¼‰ã€‚åŠ ä¸Šæˆ‘åˆå–œæ¬¢å†™çš„ç»†ä¸€ç‚¹ï¼Œæ‰€ä»¥ä¸€ç¯‡å†™ä¸‹æ¥æ´‹æ´‹æ´’æ´’ä¸€é•¿ç¯‡ï¼Œæ‰€ä»¥è¿˜æ˜¯åˆ†å¼€æ¥å†™å§ï¼ä»Šå¤©ï¼ˆå¥½å§ï¼Œå…¶å®å’Œä¸Šä¸€ç¯‡æ˜¯åŒä¸€å¤©ï¼‰æˆ‘ä»¬è¦è¯´çš„DataBindingå¸¸ç”¨çš„ä¸€äº›æ³¨è§£ï¼</h3><p><a href="https://github.com/cyixlq/MVVMTest">æœ¬ç¯‡æ–‡ç« ä»£ç åœ°å€</a></p><span id="more"></span><h2 id="Android-MVVMæ¢ç´¢ç³»åˆ—"><a href="#Android-MVVMæ¢ç´¢ç³»åˆ—" class="headerlink" title="Android MVVMæ¢ç´¢ç³»åˆ—"></a>Android MVVMæ¢ç´¢ç³»åˆ—</h2><p><a href="https://cyixlq.top/2018/10/22/MVVM1/">Android MVVMæ¢ç´¢(ä¸€) - DataBidingåˆè§£</a></p><p><a href="https://cyixlq.top/2018/10/23/MVVM2/">Android MVVMæ¢ç´¢(äºŒ) - DataBidingå¸¸ç”¨æ³¨è§£</a></p><p><a href="https://cyixlq.top/2018/10/29/MVVM3/">Android MVVMæ¢ç´¢(ä¸‰) - ViewModelï¼ŒDataBindingï¼ŒLiveDataæ··åˆä¸‰æ‰“</a></p><h3 id="6ï¼Œ-ä¸€äº›å¸¸ç”¨æ³¨è§£è¯´æ˜"><a href="#6ï¼Œ-ä¸€äº›å¸¸ç”¨æ³¨è§£è¯´æ˜" class="headerlink" title="6ï¼Œ ä¸€äº›å¸¸ç”¨æ³¨è§£è¯´æ˜"></a>6ï¼Œ ä¸€äº›å¸¸ç”¨æ³¨è§£è¯´æ˜</h3><ul><li><p>@BidingAdapter</p><p>  åœ¨xmlæ–‡ä»¶ä¸­ï¼Œæ€»æ˜¯æœ‰äº›æ§ä»¶çš„å±æ€§ä¸å¤Ÿæˆ‘ä»¬ç”¨ï¼Œæ¯”å¦‚æˆ‘ä»¬æœ‰ä¸€å¼ å›¾ç‰‡çš„ç½‘ç»œåœ°å€ï¼Œæˆ‘ä»¬æƒ³ç›´æ¥åœ¨xmlä¸­å°†åœ°å€ç»‘å®šåˆ°ImageViewï¼Œè®©å®ƒæ˜¾ç¤ºè¿™å¼ å›¾ç‰‡ï¼Œå¾ˆæ˜æ˜¾çš„ImageViewè‡ªå¸¦çš„å±æ€§æ˜æ˜¾ä¸èƒ½å®Œæˆæˆ‘ä»¬çš„è¦æ±‚ã€‚é‚£æ€ä¹ˆåŠå‘¢ï¼Ÿæˆ‘ä»¬éœ€è¦æ‹“å±•å±æ€§ï¼<br>  é¦–å…ˆæˆ‘ä»¬æ–°å»ºä¸€ä¸ªåä¸ºViewBindingAdaptersçš„Kotlinæ–‡ä»¶ï¼Œï¼ˆå¦‚æœæ˜¯Javaè¯·æ–°å»ºä¸€ä¸ªæ™®é€šç±»ï¼Œç±»åéšæ„ï¼‰ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">package top.cyixlq.test</span><br><span class="line"></span><br><span class="line">import android.databinding.BindingAdapter</span><br><span class="line">import android.widget.ImageView</span><br><span class="line">import com.bumptech.glide.Glide</span><br><span class="line"></span><br><span class="line">@BindingAdapter(&quot;imgUrl&quot;)</span><br><span class="line">fun setImgUrl(view: ImageView, url: String) &#123;</span><br><span class="line">    Glide.with(view).load(url).into(view)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Javaå¦‚ä¸‹ï¼š</span><br><span class="line">public class ViewBindingAdapters &#123;</span><br><span class="line">    @BindingAdapter(&quot;imgUrl&quot;)</span><br><span class="line">    public static void setImgUrl(ImageView view, String url) &#123;</span><br><span class="line">        Glide.with(view).load(url).into(view)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>  å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†Glideï¼Œæ‰€ä»¥éœ€è¦åœ¨appçš„build.gradleæ–‡ä»¶ä¸­dependenciesä¸‹åŠ å…¥(æˆ‘å†™è¿™ç¯‡æ–‡ç« æ—¶ï¼Œæœ€æ–°çš„Glideç‰ˆæœ¬ä¸º4.8.0):</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">implementation &#39;com.github.bumptech.glide:glide:4.8.0&#39;</span><br><span class="line">annotationProcessor &#39;com.github.bumptech.glide:compiler:4.8.0&#39;</span><br></pre></td></tr></table></figure><p>  æˆ‘ä»¬éœ€è¦åœ¨ç½‘ä¸Šæ‰¾äº†ä¸€å¼ å›¾ç‰‡çš„é“¾æ¥ï¼Œå¹¶ä¸”æŠŠå®ƒåŠ å…¥åˆ°MainViewModelçš„å±æ€§ä¸­:</p><blockquote><p>val imgUrl = â€œè¿™é‡Œæ˜¯å›¾ç‰‡åœ°å€ï¼Œåœ°å€å¤ªé•¿ï¼Œæˆ‘å°±ä¸è´´åœ¨è¿™é‡Œâ€</p></blockquote><p>  æˆ‘ä»¬åœ¨activity_main.xmlæ–‡ä»¶ä¸­åŠ å…¥ä¸€ä¸ªImageViewï¼Œå¹¶ä½¿ç”¨æˆ‘ä»¬æ‹“å±•çš„å±æ€§ï¼š</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;ImageView</span><br><span class="line">    android:layout_width&#x3D;&quot;80dp&quot;</span><br><span class="line">    android:layout_height&#x3D;&quot;80dp&quot;</span><br><span class="line">    imgUrl&#x3D;&quot;@&#123;viewModel.imgUrl&#125;&quot;&#x2F;&gt;</span><br></pre></td></tr></table></figure><p>  æœ€ååˆ«å¿˜äº†åœ¨manifestä¸­æ·»åŠ ç½‘ç»œæƒé™ï¼š</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;uses-permission android:name&#x3D;&quot;android.permission.INTERNET&quot; &#x2F;&gt;</span><br></pre></td></tr></table></figure><p>  é‚£ä¹ˆï¼Œè¿™ä¸ªæ³¨è§£æ˜¯å¦‚ä½•åˆ¤æ–­æ˜¯ç»™å“ªä¸ªæ§ä»¶æ·»åŠ çš„æ‹“å±•å±æ€§å‘¢ï¼Ÿè¯·çœ‹æœ¬å°èŠ‚å¼€å¤´æˆ‘ä»¬åˆ›å»ºçš„é‚£ä¸ªKotlinæ–‡ä»¶çš„å†…å®¹ï¼Œæˆ‘ä»¬ç”¨@BindingAdapteræ³¨è§£ä¿®é¥°äº†ä¸€ä¸ªsetImgUrlçš„æ–¹æ³•ï¼Œæ³¨è§£ä¸­åŒ…å«ä¸€ä¸ªå­—ç¬¦ä¸²â€œimgUrlâ€ã€‚æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå½¢å‚çš„ç±»å‹æ˜¯ImageViewï¼Œæ‰€ä»¥ï¼Œè¿™ä¸ªæ³¨è§£æ˜¯é€šè¿‡ç¬¬ä¸€ä¸ªå½¢å‚çš„ç±»å‹æ¥åˆ¤æ–­æ‹“å±•çš„æ˜¯å“ªä¸ªæ§ä»¶çš„å±æ€§ï¼Œç¬¬ä¸€ä¸ªå½¢å‚ä¹Ÿæ˜¯è®¾ç½®äº†è¯¥æ‹“å±•å±æ€§çš„æ§ä»¶çš„å®ä¾‹ã€‚ç¬¬äºŒä¸ªå½¢å‚ä¼ è¿›æ¥çš„æ˜¯ä¸€ä¸ªStringç±»å‹çš„å€¼ï¼Œä¹Ÿå°±æ˜¯åœ¨xmlå¸ƒå±€æ–‡ä»¶ä¸­ä¼ è¿›æ¥çš„viewModel.imgUrlï¼Œç„¶åæˆ‘ä»¬åœ¨æ–¹æ³•ä½“ä¸­è¿›è¡Œä¸€ä¸‹å¤„ç†å³å¯å®ç°è‡ªåŠ¨åŠ è½½ç½‘ç»œå›¾ç‰‡äº†ï¼</p><p>  @BindingAdapteræ³¨è§£éœ€è¦ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²æ•°ç»„ã€‚å¦‚æœä½ åªæƒ³æ‹“å±•ä¸€ä¸ªå±æ€§ï¼Œé‚£ä¹ˆåªä¼ ä¸€ä¸ªå­—ç¬¦ä¸²å°±è¡Œã€‚å¦‚æœä½ æƒ³æ‹“å±•å¤šä¸ªå±æ€§ï¼Œé‚£ä¹ˆä½ å°±éœ€è¦ä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œä¸€ä¸ªå­—ç¬¦ä¸²å°±ä»£è¡¨ä¸€ä¸ªæ‹“å±•å±æ€§ã€‚å½“æ•°ç»„é•¿åº¦å¤§äºä¸€æ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦è®¾ç½®å®ƒçš„ç¬¬äºŒä¸ªå‚æ•°ï¼ŒrequireAllï¼ˆä¸­æ–‡æ„æ€ï¼šå…¨éƒ¨å¿…é¡»ï¼‰ã€‚è¿™ä¸ªå‚æ•°ä¸ºå¸ƒå°”å‹ã€‚å½“ä¸ºtrueæ—¶(é»˜è®¤å°±æ˜¯ä¸ºtrue)ï¼Œå°±åƒä»–çš„ä¸­æ–‡æ„æ€ä¸€æ ·ï¼Œå…¨éƒ¨éœ€è¦ï¼Œä»£è¡¨ä½ ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå­—ç¬¦ä¸²æ•°ç»„çš„æ‹“å±•å±æ€§å¿…é¡»åœ¨ä¸€ä¸ªæ§ä»¶ä¸Šå…¨éƒ¨è¦è®¾ç½®ï¼Œå¦åˆ™çš„è¯ä½ æƒ³è®¾ç½®å“ªä¸ªæ‹“å±•å±æ€§å°±è®¾ç½®å“ªä¸ªæ‹“å±•å±æ€§ï¼ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; å½“ä¸ºfalseæ—¶</span><br><span class="line">@BindingAdapter(value &#x3D; [&quot;imgUrl&quot;, &quot;bgRes&quot;], requireAll &#x3D; false)</span><br><span class="line">fun setImgUrl(view: ImageView, url: String, res: Int) &#123;</span><br><span class="line">    Glide.with(view).load(url).into(view)</span><br><span class="line">    view.setBackgroundResource(res)</span><br><span class="line">&#125;</span><br><span class="line">&lt;!-- xmlæ–‡ä»¶ä»£ç  --&gt;</span><br><span class="line">&lt;ImageView</span><br><span class="line">    android:layout_width&#x3D;&quot;80dp&quot;</span><br><span class="line">    android:layout_height&#x3D;&quot;80dp&quot;</span><br><span class="line">    imgUrl&#x3D;&quot;@&#123;viewModel.imgUrl&#125;&quot;&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å½“ä¸ºtrueæ—¶</span><br><span class="line">@BindingAdapter(value &#x3D; [&quot;imgUrl&quot;, &quot;bgRes&quot;], requireAll &#x3D; true)</span><br><span class="line">fun setImgUrl(view: ImageView, url: String, res: Int) &#123;</span><br><span class="line">    Glide.with(view).load(url).into(view)</span><br><span class="line">    view.setBackgroundResource(res)</span><br><span class="line">&#125;</span><br><span class="line">&lt;!-- xmlæ–‡ä»¶ä»£ç  --&gt;</span><br><span class="line">&lt;!-- è¿™æ®µè¯·æ”¾åœ¨dataæ ‡ç­¾ä¸­ --&gt;</span><br><span class="line">&lt;import type&#x3D;&quot;top.cyixlq.test.R&quot;&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">&lt;ImageView</span><br><span class="line">    android:layout_width&#x3D;&quot;80dp&quot;</span><br><span class="line">    android:layout_height&#x3D;&quot;80dp&quot;</span><br><span class="line">    imgUrl&#x3D;&quot;@&#123;viewModel.imgUrl&#125;&quot;</span><br><span class="line">    bgRes&#x3D;&quot;@&#123;R.mipmap.ic_launcher&#125;&quot;&#x2F;&gt;</span><br></pre></td></tr></table></figure><p>  å¦‚æœç¬¬äºŒä¸ªå‚æ•°è®¾ç½®ä¸ºtrueä½†æ˜¯åœ¨xmlä¸­æœ‰æ²¡æœ‰å°†å…¨éƒ¨çš„æ‹“å±•å±æ€§è®¾ç½®å¥½çš„è¯åœ¨ç¼–è¯‘çš„æ—¶å€™å°±ä¼šæŠ¥é”™ï¼š</p><blockquote><p>Found data binding errors.</p></blockquote><p>  è¡¥å……ä¸€ä¸‹ï¼Œä¼ å…¥çš„å±æ€§å€¼å‰é¢å¯ä»¥åŠ ä¸Šå‘½åç©ºé—´ï¼Œå°±åƒä¸‹é¢é‚£æ ·ï¼ˆå‘½åç©ºé—´æœ‰ä¸€å®šè§„èŒƒ,æœ€å¥½æ˜¯è‹±æ–‡å•è¯ï¼‰ï¼š</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@BindingAdapter(value &#x3D; [&quot;app:imgUrl&quot;, &quot;app:bgRes&quot;], requireAll &#x3D; true)</span><br><span class="line">fun setImgUrl(view: ImageView, url: String, res: Int) &#123;</span><br><span class="line">    Glide.with(view).load(url).into(view)</span><br><span class="line">    view.setBackgroundResource(res)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>  å¦‚æœä½ åŠ å…¥äº†å‘½åç©ºé—´ï¼Œç›¸åº”çš„ä½ ä¹Ÿéœ€è¦åœ¨xmlå¸ƒå±€æ–‡ä»¶ä¸­å¼•å…¥å‘½åç©ºé—´å¹¶ä¸”åŠ ä¸Šå»ï¼Œå°±åƒä¸‹é¢é‚£æ ·:</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- å¼•å…¥appå‘½åç©ºé—´ --&gt;</span><br><span class="line">&lt;layout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class="line">    xmlns:tools&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;tools&quot;</span><br><span class="line">    xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- æ§ä»¶ç›¸åº”å±æ€§åŠ ä¸Šå‘½åç©ºé—´ --&gt;</span><br><span class="line">&lt;ImageView</span><br><span class="line">    android:layout_width&#x3D;&quot;80dp&quot;</span><br><span class="line">    android:layout_height&#x3D;&quot;80dp&quot;</span><br><span class="line">    imgUrl&#x3D;&quot;@&#123;viewModel.imgUrl&#125;&quot;</span><br><span class="line">    app:bgRes&#x3D;&quot;@&#123;R.mipmap.ic_launcher&#125;&quot;&#x2F;&gt;</span><br></pre></td></tr></table></figure><p>  æœ€åçœ‹çœ‹è¿™ä¸ªæ³¨è§£çš„æºä»£ç ï¼Œæ›´æ–¹ä¾¿ç†è§£ï¼š</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@Target(ElementType.METHOD)</span><br><span class="line">public @interface BindingAdapter &#123;</span><br><span class="line">    String[] value();</span><br><span class="line">    boolean requireAll() default true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>@BindingConversion</p><p>  è¿™ä¸ªæ³¨è§£çš„ä½œç”¨å°±æ˜¯å°†ä¸ç¬¦åˆæŸä¸ªæ§ä»¶å±æ€§çš„å€¼çš„ç±»å‹è½¬æ¢æˆç¬¦åˆçš„ç±»å‹ã€‚ä¸¾ä¸ªä¾‹å­ï¼šTextViewçš„textå±æ€§æ˜¯éœ€è¦Stringç±»å‹çš„ï¼Œå‡å¦‚æˆ‘ä»¬ä¼ å…¥æ—¶é—´æˆ³(Longç±»å‹)å¾ˆæ˜æ˜¾æ˜¯ä¸è¡Œçš„ï¼Œä½†æ˜¯æˆ‘å°±æ˜¯ä¸æƒ³è‡ªå·±æ¯ä¸ªéƒ½è‡ªå·±æ‰‹åŠ¨è½¬æ¢ä¸€ä¸‹ï¼Œæ€ä¹ˆåŠï¼Ÿé‚£ä¹ˆè¿™ä¸ªæ³¨è§£å°±æ´¾ä¸Šç”¨åœºäº†ã€‚æˆ‘ä»¬ç›´æ¥ä¸Šä»£ç ï¼Œå°±ä»¥TextViewè¿™ä¸ªä¾‹å­æ¥è¯´æ˜ï¼š</p><p>  1.æˆ‘ä»¬æ–°å»ºä¸€ä¸ªKotlinæ–‡ä»¶ï¼Œæ–‡ä»¶åä¸ºViewBindingConversionsï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@SuppressLint(&quot;SimpleDateFormat&quot;)</span><br><span class="line">@BindingConversion</span><br><span class="line">fun convertIntToString(value: Long): String &#123;</span><br><span class="line">    val formatter &#x3D; SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;)</span><br><span class="line">    return formatter.format(value)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>æŠŠæˆ‘ä»¬ä¹‹å‰å¸ƒå±€æ–‡ä»¶ä¸­æ–°åŠ å…¥ä¸€ä¸ªTextViewï¼Œå°±åƒä¸‹é¢çš„ä»£ç ï¼Œä¹‹åç¼–è¯‘è¿è¡Œï¼Œæˆ‘ä»¬å‘ç°å¯ä»¥æ­£å¸¸è¿è¡Œã€‚<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;TextView</span><br><span class="line">    android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class="line">    android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">    android:text&#x3D;&quot;@&#123;System.currentTimeMillis()&#125;&quot;&#x2F;&gt;</span><br></pre></td></tr></table></figure>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªæ³¨è§£ï¼Œå£°æ˜ä¸€ä¸ªï¼Œæ‰€æœ‰æ§ä»¶éƒ½ä¼šè‡ªåŠ¨è½¬æ¢ã€‚ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬ä¸Šé¢çš„é‚£ä¸ªæ–¹æ³•ï¼Œå‡¡æ˜¯æŸä¸ªå±æ€§éœ€è¦Stringç±»å‹çš„ï¼Œå¦‚æœä½ ä¼ å…¥äº†Longï¼Œå®ƒå°±ä¼šé€šè¿‡æ–¹æ³•ä½“ä¸­çš„ä»£ç è¿›è¡Œè½¬æ¢ï¼Œæœ€åå¡«å……çš„å±æ€§å€¼å°±æ˜¯è¿”å›çš„ç»“æœã€‚åŠ å…¥Buttonçš„textä½ ä¹Ÿä¼ å…¥äº†Longï¼Œé‚£ä¹ˆä¹Ÿä¼šè¿›è¡Œè½¬æ¢ï¼Œå¹¶ä¸åªé™äºTextViewã€‚ç”¨è¿™ä¸ªæ³¨è§£ä¿®é¥°çš„æ–¹æ³•åªæœ‰ä¸€ä¸ªå½¢å‚ï¼Œå®ƒçš„ç±»å‹ä»£è¡¨æ˜¯xmlä¸­ä¼ è¿›æ¥çš„å€¼çš„ç±»å‹ï¼Œæœ€åå‡½æ•°å¿…é¡»è¦ä¸€ä¸ªè¿”å›å€¼ï¼Œè¿”å›åŒ¹é…æ§ä»¶æ”¯æŒçš„å€¼å¾—ç±»å‹ã€‚æ‰€ä»¥æ„Ÿè§‰å°±æ˜¯è¿™ä¸ªæ³¨è§£ç”¨èµ·æ¥ä¸ä¼šå¤ªçµæ´»ï¼</li></ol></li><li><p>@InverseMethod</p><p>  åœ¨å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°æŸä¸ªå­—ç¬¦ä¸²ï¼Œæˆ–è€…æŸä¸ªæ•°å­—ä»£è¡¨æŸç§çŠ¶æ€ã€‚æ¯”å¦‚0ä»£è¡¨å¥³å­©å­ï¼Œ1ä»£è¡¨ç”·å­©å­ã€‚ä½†æ˜¯ç”¨æˆ·é€‰å¥½ç”·è¿˜æ˜¯å¥³ä¹‹åï¼Œæˆ‘ä»¬å›ä¼ åˆ°åå°çš„æ•°æ®åº”è¯¥æ˜¯0æˆ–1ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸æƒ³æ‰‹åŠ¨è½¬æ¢æ€ä¹ˆåŠï¼Œé‚£å°±ç”¨è¿™ä¸ªæ³¨è§£ã€‚è¿™ä¸ªæ³¨è§£çš„ä½œç”¨å’Œä¸Šé¢é‚£ä¸ªæ³¨è§£@BindingConversionæœ‰ç‚¹ç±»ä¼¼ï¼Œä½†æ˜¯ä¸åŒçš„æ˜¯ï¼Œè¿™ä¸ªå¯ä»¥å…·ä½“ä½œç”¨åˆ°æŸä¸ªæ§ä»¶å®ä¾‹ä¸Šï¼Œè¿˜æœ‰åŒå‘ç»‘å®šçš„ä½œç”¨ã€‚å¦‚æœä¸çŸ¥é“åŒå‘ç»‘å®šæ˜¯ä»€ä¹ˆæ„æ€ï¼Œè¯·å‚ç…§ä¸Šä¸€å°ç« èŠ‚ã€‚é¦–å…ˆè¿˜æ˜¯æ–°å»ºä¸€ä¸ªKotlinæ–‡ä»¶ï¼Œæ–‡ä»¶åä¸ºï¼šViewInverseMethodsï¼ŒJavaçš„è¯è¿˜æ˜¯å’Œä¸Šé¢ä¸€æ ·æ–°å»ºä¸€ä¸ªç±»ï¼Œç±»åéšæ„ã€‚æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; è¿™ä¸ªæ³¨è§£å‚æ•°ä¸ºåè½¬çš„æ–¹æ³•åï¼Œæ„å‘³ç€ä¸€ä¸ªè¿™ä¸ªæ³¨è§£éœ€è¦ä¸¤ä¸ªæ–¹æ³•æ‰èƒ½å®Œæˆ</span><br><span class="line">@InverseMethod(&quot;sexToNum&quot;)</span><br><span class="line">fun numToSex(num: Int): String &#123;</span><br><span class="line">    return when (num) &#123;</span><br><span class="line">        0 -&gt; &quot;å¥³&quot;</span><br><span class="line">        1 -&gt; &quot;ç”·&quot;</span><br><span class="line">        else -&gt; &quot;æœªçŸ¥æ€§åˆ«&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fun sexToNum(sex: String): Int &#123;</span><br><span class="line">    return when(sex) &#123;</span><br><span class="line">        &quot;å¥³&quot; -&gt; 0</span><br><span class="line">        &quot;ç”·&quot; -&gt; 1</span><br><span class="line">        else -&gt; 2</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>  æ˜¯çš„ï¼Œå› ä¸ºè¿™ä¸ªæ³¨è§£è®¾è®¡åˆ°åŒå‘ç»‘å®šï¼Œæœ‰è½¬æ¢è¿‡å»çš„æ–¹æ³•è‚¯å®š,è‚¯å®šå°±æœ‰è½¬æ¢å›æ¥çš„æ–¹æ³•ã€‚æˆ‘ä»¬åœ¨MainViewModelä¸­æ·»åŠ å±æ€§ï¼š</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; å› ä¸ºæ¶‰åŠåŒå‘ç»‘å®šï¼Œè¿™é‡Œå¿…é¡»æ˜¯å¯è§‚å¯Ÿçš„æ•°æ®ç±»å‹</span><br><span class="line">val num &#x3D; ObservableInt(1)</span><br></pre></td></tr></table></figure><p>  åœ¨å¸ƒå±€æ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸ªTextViewå’Œä¸€ä¸ªEditTextï¼ŒTextViewç”¨æ¥è§‚å¯Ÿnumè¿™ä¸ªå€¼çš„å˜åŒ–ï¼ŒEditTextç”¨æ¥å±•ç¤ºè½¬æ¢å¥½ä¹‹åçš„æ•°æ®ï¼š</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- è¿™é‡Œåˆ«å¿˜äº†å¯¼å…¥ï¼Œå¯¼å…¥äº†ä¸‹é¢çš„EditTextæ‰èƒ½ç”¨è¿™ä¸ªç±» --&gt;</span><br><span class="line">&lt;import type&#x3D;&quot;top.cyixlq.test.ViewInverseMethodsKt&quot;&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">&lt;TextView</span><br><span class="line">    android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class="line">    android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">    android:text&#x3D;&quot;@&#123;String.valueOf(viewModel.num)&#125;&quot;&#x2F;&gt;</span><br><span class="line">&lt;EditText</span><br><span class="line">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class="line">    android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">    android:text&#x3D;&quot;@&#x3D;&#123;ViewInverseMethodsKt.numToSex(viewModel.num)&#125;&quot;&#x2F;&gt;</span><br></pre></td></tr></table></figure><p>  è¿™æ—¶å€™ç¼–è¯‘è¿è¡Œï¼ŒEditTextç›´æ¥æ˜¾ç¤ºäº†ç”·ï¼Œå¦‚æœæˆ‘ä»¬åˆ é™¤ç”·ï¼ŒEditTextç«‹é©¬æ˜¾ç¤ºäº†æœªçŸ¥æ€§åˆ«ã€‚å› ä¸ºç©ºå­—ç¬¦ä¸²ä¼šå¯¹åº”åˆ°sexToNumä¸­çš„elseï¼Œæ‰€ä»¥numçš„å€¼ç¬é—´å˜æˆ2ï¼Œè€Œ2åˆå¯¹åº”numToSexä¸­çš„elseï¼Œæ‰€ä»¥EditTextå°±ä¼šæ˜¾ç¤ºæœªçŸ¥æ€§åˆ«ã€‚å½“æˆ‘ä»¬æŠŠæœªçŸ¥æ€§åˆ«å‡ ä¸ªå­—å…¨éƒ¨åˆ é™¤ï¼Œè¾“å…¥1ï¼Œæˆ–è€…2ä¹Ÿå¥½ï¼Œnuméƒ½æ˜¯2ï¼Œå› ä¸ºå­—ç¬¦ä¸²-â€œ1â€,å­—ç¬¦ä¸²-â€œ2â€éƒ½æ˜¯å¯¹åº”sexToNumæ–¹æ³•ä¸­çš„elseã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥ç”·ï¼Œnumå°±å˜æˆ1äº†ï¼Œè¾“å…¥å¥³numå°±å˜æˆ0äº†ã€‚å…¶ä¸­çš„è¿‡ç¨‹æˆ‘å°±ä¸ç»§ç»­è¯¦ç»†è§£é‡Šäº†ã€‚ä¸‹é¢è´´å‡ºä¸€å¼ åŠ¨æ€å›¾ï¼š<br>  <img src="https://upload-images.jianshu.io/upload_images/8654767-386d9ceaa25b82d8.gif?imageMogr2/auto-orient/strip" alt="InverseMethodæ³¨è§£è¯¦è§£åŠ¨å›¾.gif"></p></li></ul><h3 id="æš‚æ—¶æˆ‘å°±ç”¨åˆ°è¿™ä¹ˆäº›æ³¨è§£ï¼Œæˆ‘è®¤ä¸ºæ¯”è¾ƒå¸¸ç”¨çš„ã€‚å…¶ä»–æ³¨è§£æˆ‘åœ¨ä¸‹é¢è´´ä¸Šé“¾æ¥ï¼Œå¤§å®¶å¯ä»¥å»çœ‹çœ‹ã€‚å¦å¤–æœ¬ç« èŠ‚ä¸­å‡ºç°çš„é—®é¢˜è¿˜æœ›å¤§å®¶ç•™è¨€æŒ‡æ­£ï¼Œæ¯•ç«Ÿè¿˜æ˜¯åœ¨MVVMæ¢ç´¢é“è·¯ä¸­ï¼"><a href="#æš‚æ—¶æˆ‘å°±ç”¨åˆ°è¿™ä¹ˆäº›æ³¨è§£ï¼Œæˆ‘è®¤ä¸ºæ¯”è¾ƒå¸¸ç”¨çš„ã€‚å…¶ä»–æ³¨è§£æˆ‘åœ¨ä¸‹é¢è´´ä¸Šé“¾æ¥ï¼Œå¤§å®¶å¯ä»¥å»çœ‹çœ‹ã€‚å¦å¤–æœ¬ç« èŠ‚ä¸­å‡ºç°çš„é—®é¢˜è¿˜æœ›å¤§å®¶ç•™è¨€æŒ‡æ­£ï¼Œæ¯•ç«Ÿè¿˜æ˜¯åœ¨MVVMæ¢ç´¢é“è·¯ä¸­ï¼" class="headerlink" title="æš‚æ—¶æˆ‘å°±ç”¨åˆ°è¿™ä¹ˆäº›æ³¨è§£ï¼Œæˆ‘è®¤ä¸ºæ¯”è¾ƒå¸¸ç”¨çš„ã€‚å…¶ä»–æ³¨è§£æˆ‘åœ¨ä¸‹é¢è´´ä¸Šé“¾æ¥ï¼Œå¤§å®¶å¯ä»¥å»çœ‹çœ‹ã€‚å¦å¤–æœ¬ç« èŠ‚ä¸­å‡ºç°çš„é—®é¢˜è¿˜æœ›å¤§å®¶ç•™è¨€æŒ‡æ­£ï¼Œæ¯•ç«Ÿè¿˜æ˜¯åœ¨MVVMæ¢ç´¢é“è·¯ä¸­ï¼"></a>æš‚æ—¶æˆ‘å°±ç”¨åˆ°è¿™ä¹ˆäº›æ³¨è§£ï¼Œæˆ‘è®¤ä¸ºæ¯”è¾ƒå¸¸ç”¨çš„ã€‚å…¶ä»–æ³¨è§£æˆ‘åœ¨ä¸‹é¢è´´ä¸Šé“¾æ¥ï¼Œå¤§å®¶å¯ä»¥å»çœ‹çœ‹ã€‚å¦å¤–æœ¬ç« èŠ‚ä¸­å‡ºç°çš„é—®é¢˜è¿˜æœ›å¤§å®¶ç•™è¨€æŒ‡æ­£ï¼Œæ¯•ç«Ÿè¿˜æ˜¯åœ¨MVVMæ¢ç´¢é“è·¯ä¸­ï¼</h3><p><a href="https://blog.csdn.net/qiang_xi/article/details/75379321">DataBindingä½¿ç”¨æ•™ç¨‹ï¼ˆä¸‰ï¼‰ï¼šå„ä¸ªæ³¨è§£è¯¦è§£</a></p><p><a href="https://upload-images.jianshu.io/upload_images/8654767-386d9ceaa25b82d8.gif">DataBindingæœ€å…¨ä½¿ç”¨è¯´æ˜</a></p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;æœ¬æ¥æƒ³ç›´æ¥ä¸€ç« èŠ‚å¤§è‡´è®²è®²å®ŒDataBindingçš„ï¼Œä½†æ˜¯è¦çŸ¥é“ï¼ŒDataBindingçŸ¥è¯†ç‚¹è¿˜æ˜¯è›®å¤šçš„ï¼ˆæˆ‘ä¹Ÿè¿˜æ²¡å…¨éƒ¨äº†è§£å®Œï¼‰ã€‚åŠ ä¸Šæˆ‘åˆå–œæ¬¢å†™çš„ç»†ä¸€ç‚¹ï¼Œæ‰€ä»¥ä¸€ç¯‡å†™ä¸‹æ¥æ´‹æ´‹æ´’æ´’ä¸€é•¿ç¯‡ï¼Œæ‰€ä»¥è¿˜æ˜¯åˆ†å¼€æ¥å†™å§ï¼ä»Šå¤©ï¼ˆå¥½å§ï¼Œå…¶å®å’Œä¸Šä¸€ç¯‡æ˜¯åŒä¸€å¤©ï¼‰æˆ‘ä»¬è¦è¯´çš„DataBindingå¸¸ç”¨çš„ä¸€äº›æ³¨è§£ï¼&quot;&gt;&lt;a href=&quot;#æœ¬æ¥æƒ³ç›´æ¥ä¸€ç« èŠ‚å¤§è‡´è®²è®²å®ŒDataBindingçš„ï¼Œä½†æ˜¯è¦çŸ¥é“ï¼ŒDataBindingçŸ¥è¯†ç‚¹è¿˜æ˜¯è›®å¤šçš„ï¼ˆæˆ‘ä¹Ÿè¿˜æ²¡å…¨éƒ¨äº†è§£å®Œï¼‰ã€‚åŠ ä¸Šæˆ‘åˆå–œæ¬¢å†™çš„ç»†ä¸€ç‚¹ï¼Œæ‰€ä»¥ä¸€ç¯‡å†™ä¸‹æ¥æ´‹æ´‹æ´’æ´’ä¸€é•¿ç¯‡ï¼Œæ‰€ä»¥è¿˜æ˜¯åˆ†å¼€æ¥å†™å§ï¼ä»Šå¤©ï¼ˆå¥½å§ï¼Œå…¶å®å’Œä¸Šä¸€ç¯‡æ˜¯åŒä¸€å¤©ï¼‰æˆ‘ä»¬è¦è¯´çš„DataBindingå¸¸ç”¨çš„ä¸€äº›æ³¨è§£ï¼&quot; class=&quot;headerlink&quot; title=&quot;æœ¬æ¥æƒ³ç›´æ¥ä¸€ç« èŠ‚å¤§è‡´è®²è®²å®ŒDataBindingçš„ï¼Œä½†æ˜¯è¦çŸ¥é“ï¼ŒDataBindingçŸ¥è¯†ç‚¹è¿˜æ˜¯è›®å¤šçš„ï¼ˆæˆ‘ä¹Ÿè¿˜æ²¡å…¨éƒ¨äº†è§£å®Œï¼‰ã€‚åŠ ä¸Šæˆ‘åˆå–œæ¬¢å†™çš„ç»†ä¸€ç‚¹ï¼Œæ‰€ä»¥ä¸€ç¯‡å†™ä¸‹æ¥æ´‹æ´‹æ´’æ´’ä¸€é•¿ç¯‡ï¼Œæ‰€ä»¥è¿˜æ˜¯åˆ†å¼€æ¥å†™å§ï¼ä»Šå¤©ï¼ˆå¥½å§ï¼Œå…¶å®å’Œä¸Šä¸€ç¯‡æ˜¯åŒä¸€å¤©ï¼‰æˆ‘ä»¬è¦è¯´çš„DataBindingå¸¸ç”¨çš„ä¸€äº›æ³¨è§£ï¼&quot;&gt;&lt;/a&gt;æœ¬æ¥æƒ³ç›´æ¥ä¸€ç« èŠ‚å¤§è‡´è®²è®²å®ŒDataBindingçš„ï¼Œä½†æ˜¯è¦çŸ¥é“ï¼ŒDataBindingçŸ¥è¯†ç‚¹è¿˜æ˜¯è›®å¤šçš„ï¼ˆæˆ‘ä¹Ÿè¿˜æ²¡å…¨éƒ¨äº†è§£å®Œï¼‰ã€‚åŠ ä¸Šæˆ‘åˆå–œæ¬¢å†™çš„ç»†ä¸€ç‚¹ï¼Œæ‰€ä»¥ä¸€ç¯‡å†™ä¸‹æ¥æ´‹æ´‹æ´’æ´’ä¸€é•¿ç¯‡ï¼Œæ‰€ä»¥è¿˜æ˜¯åˆ†å¼€æ¥å†™å§ï¼ä»Šå¤©ï¼ˆå¥½å§ï¼Œå…¶å®å’Œä¸Šä¸€ç¯‡æ˜¯åŒä¸€å¤©ï¼‰æˆ‘ä»¬è¦è¯´çš„DataBindingå¸¸ç”¨çš„ä¸€äº›æ³¨è§£ï¼&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/cyixlq/MVVMTest&quot;&gt;æœ¬ç¯‡æ–‡ç« ä»£ç åœ°å€&lt;/a&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Android" scheme="https://www.cyixlq.top/categories/Android/"/>
    
    
    <category term="MVVM" scheme="https://www.cyixlq.top/tags/MVVM/"/>
    
  </entry>
  
  <entry>
    <title>Android MVVMæ¢ç´¢(ä¸€) - DataBidingåˆè§£</title>
    <link href="https://www.cyixlq.top/2018/10/22/MVVM1/"/>
    <id>https://www.cyixlq.top/2018/10/22/MVVM1/</id>
    <published>2018-10-22T09:39:00.000Z</published>
    <updated>2021-01-15T08:30:39.728Z</updated>
    
    <content type="html"><![CDATA[<h5 id="å‘ç°æˆ‘å¥½ä¹…æ²¡å†™åšå®¢ï¼Œå…¶å®æœ€è¿‘ä¸€ç›´éƒ½å¾ˆæƒ³å†™åšå®¢çš„ï¼Œä½†æ˜¯ä¸çŸ¥é“å†™ç‚¹ä»€ä¹ˆå¥½ã€‚åˆšå¥½ç¢°ä¸Šæœ€è¿‘åœ¨å­¦ä¹ Androidçš„MVVMè®¾è®¡æ¨¡å¼ä»¥åŠå®˜æ–¹æä¾›ç»™æˆ‘ä»¬çš„æ§ä»¶ï¼Œæ‰€ä»¥æ‰æœ‰äº†è¿™ç¯‡æ–‡ç« ã€‚ï¼ˆå…¶å®è¿˜æ˜¯å› ä¸ºæˆ‘æ‡’ï¼Œæˆ‘æ‡’ï¼ï¼‰"><a href="#å‘ç°æˆ‘å¥½ä¹…æ²¡å†™åšå®¢ï¼Œå…¶å®æœ€è¿‘ä¸€ç›´éƒ½å¾ˆæƒ³å†™åšå®¢çš„ï¼Œä½†æ˜¯ä¸çŸ¥é“å†™ç‚¹ä»€ä¹ˆå¥½ã€‚åˆšå¥½ç¢°ä¸Šæœ€è¿‘åœ¨å­¦ä¹ Androidçš„MVVMè®¾è®¡æ¨¡å¼ä»¥åŠå®˜æ–¹æä¾›ç»™æˆ‘ä»¬çš„æ§ä»¶ï¼Œæ‰€ä»¥æ‰æœ‰äº†è¿™ç¯‡æ–‡ç« ã€‚ï¼ˆå…¶å®è¿˜æ˜¯å› ä¸ºæˆ‘æ‡’ï¼Œæˆ‘æ‡’ï¼ï¼‰" class="headerlink" title="å‘ç°æˆ‘å¥½ä¹…æ²¡å†™åšå®¢ï¼Œå…¶å®æœ€è¿‘ä¸€ç›´éƒ½å¾ˆæƒ³å†™åšå®¢çš„ï¼Œä½†æ˜¯ä¸çŸ¥é“å†™ç‚¹ä»€ä¹ˆå¥½ã€‚åˆšå¥½ç¢°ä¸Šæœ€è¿‘åœ¨å­¦ä¹ Androidçš„MVVMè®¾è®¡æ¨¡å¼ä»¥åŠå®˜æ–¹æä¾›ç»™æˆ‘ä»¬çš„æ§ä»¶ï¼Œæ‰€ä»¥æ‰æœ‰äº†è¿™ç¯‡æ–‡ç« ã€‚ï¼ˆå…¶å®è¿˜æ˜¯å› ä¸ºæˆ‘æ‡’ï¼Œæˆ‘æ‡’ï¼ï¼‰"></a>å‘ç°æˆ‘å¥½ä¹…æ²¡å†™åšå®¢ï¼Œå…¶å®æœ€è¿‘ä¸€ç›´éƒ½å¾ˆæƒ³å†™åšå®¢çš„ï¼Œä½†æ˜¯ä¸çŸ¥é“å†™ç‚¹ä»€ä¹ˆå¥½ã€‚åˆšå¥½ç¢°ä¸Šæœ€è¿‘åœ¨å­¦ä¹ Androidçš„MVVMè®¾è®¡æ¨¡å¼ä»¥åŠå®˜æ–¹æä¾›ç»™æˆ‘ä»¬çš„æ§ä»¶ï¼Œæ‰€ä»¥æ‰æœ‰äº†è¿™ç¯‡æ–‡ç« ã€‚ï¼ˆå…¶å®è¿˜æ˜¯å› ä¸ºæˆ‘æ‡’ï¼Œæˆ‘æ‡’ï¼ï¼‰</h5><p>ä»Šå¤©æˆ‘æƒ³ç»™å¤§å®¶è®²è®²DataBindingï¼Œä¸ºäº†ä¿è¯æˆ‘å†™çš„ä¸ä¼šå‡ºé”™ï¼Œæˆ‘ä¹Ÿå€Ÿé‰´å‚è€ƒäº†ä¸å°‘æ–‡ç« å’Œè§†é¢‘ã€‚ç»™å¤§å®¶çœ‹çœ‹ä¸€ç¯‡æˆ‘ä¸ªäººè§‰å¾—è¿˜ä¸é”™çš„ã€‚<a href="https://juejin.im/post/5a55ecb6f265da3e4d7298e9">DataBindingæœ€å…¨ä½¿ç”¨è¯´æ˜ï¼ˆæ˜é‡‘åšå®¢ï¼‰</a>è¿˜æœ‰æŸè¯¾ç½‘çš„è§†é¢‘ï¼Œ<a href="https://www.imooc.com/learn/719">Android Data Bindingå®æˆ˜-å…¥é—¨ç¯‡</a>ã€<a href="https://www.imooc.com/learn/720">Android Data Bindingå®æˆ˜-é«˜çº§ç¯‡</a></p><p><a href="https://github.com/cyixlq/MVVMTest">æœ¬ç¯‡æ–‡ç« ä»£ç åœ°å€</a></p><span id="more"></span><p><a href="https://cyixlq.top/2018/10/22/MVVM1/">Android MVVMæ¢ç´¢(ä¸€) - DataBidingåˆè§£</a></p><p><a href="https://cyixlq.top/2018/10/23/MVVM2/">Android MVVMæ¢ç´¢(äºŒ) - DataBidingå¸¸ç”¨æ³¨è§£</a></p><p><a href="https://cyixlq.top/2018/10/29/MVVM3/">Android MVVMæ¢ç´¢(ä¸‰) - ViewModelï¼ŒDataBindingï¼ŒLiveDataæ··åˆä¸‰æ‰“</a></p><h3 id="1-ä»€ä¹ˆæ˜¯DataBindingï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯DataBindingï¼Ÿ" class="headerlink" title="1, ä»€ä¹ˆæ˜¯DataBindingï¼Ÿ"></a>1, ä»€ä¹ˆæ˜¯DataBindingï¼Ÿ</h3><p>DataBinding,2015å¹´IOå¤§ä¼šä»‹ç»çš„ä¸€ä¸ªæ¡†æ¶ï¼Œå­—é¢ç†è§£å³ä¸ºæ•°æ®ç»‘å®šï¼Œæ˜¯Googleå¯¹MVVMåœ¨Androidä¸Šçš„ä¸€ç§å®ç°ï¼Œå¯ä»¥ç›´æ¥ç»‘å®šæ•°æ®åˆ°xmlä¸­ï¼Œå¹¶å®ç°è‡ªåŠ¨åˆ·æ–°ï¼ˆå³ï¼Œæ•°æ®å˜åŒ–UIè¿›è¡Œç›¸åº”çš„å˜åŒ–ï¼‰ã€‚è€Œä¸”è¿˜æ”¯æŒä¸€äº›è¡¨è¾¾å¼ã€‚æ¯”å¦‚å¸¸è§çš„ä¸‰å…ƒè¿ç®—ç¬¦ï¼š</p><blockquote><p>1+x == 3 ? â€œtrueâ€ : â€œfalseâ€</p></blockquote><p>å®ƒè¿˜å¯ä»¥æ”¯æŒlambdaè¡¨è¾¾å¼ï¼š</p><blockquote><p>(v,fcs) -&gt; presenter.onFocusChange(user)}</p></blockquote><p>ä½¿ç”¨äº†DataBindingï¼Œå¯ä»¥çœå»ä¸€äº›æ§ä»¶ç»‘å®šä»£ç ï¼Œä¾‹å¦‚ï¼šfindviewByIdç­‰ã€‚</p><h3 id="2-å¼€å§‹ä½¿ç”¨DataBinding"><a href="#2-å¼€å§‹ä½¿ç”¨DataBinding" class="headerlink" title="2, å¼€å§‹ä½¿ç”¨DataBinding"></a>2, å¼€å§‹ä½¿ç”¨DataBinding</h3><p>è¦æƒ³ä½¿ç”¨DataBindingçš„è¯ï¼Œé¦–å…ˆè¦åœ¨ä½ å®‰å“å·¥ç¨‹ä¸­ï¼Œå®‰å“Applicationçš„moduleï¼ˆä¸€èˆ¬ä¸ºappè¿™ä¸ªmoduleï¼‰çš„androidé…ç½®ä¸­åŠ ä¸Šå¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">android&#123;</span><br><span class="line">    &#x2F;&#x2F; è¿™é‡Œçœå»ä¸€äº›å¸¸æœ‰çš„é…ç½®ä»£ç </span><br><span class="line">    dataBinding &#123;</span><br><span class="line">        enabled &#x3D; true;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦å¤–ï¼Œå¦‚æœä½ æ˜¯ä½¿ç”¨Kotlinè¿›è¡Œç¼–ç¨‹çš„è¯ï¼Œä½ è¿˜è¦åœ¨åŠ å…¥äº†ä¸Šé¢ä»£ç çš„Gradleæ–‡ä»¶ä¸­é¡¶éƒ¨åŠ ä¸Šä»¥ä¸‹ä»£ç ï¼Œå¦åˆ™Kotlinå°†æ— æ³•è¯†åˆ«DataBindingèµ„æºï¼Œè‡³äºä»€ä¹ˆæ˜¯DataBindingèµ„æºï¼Œæˆ‘ä»¬åé¢ä¼šæåˆ°ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apply plugin: &#39;kotlin-kapt&#39;</span><br></pre></td></tr></table></figure><p>æ˜¯çš„ï¼Œä½ æ²¡æœ‰çœ‹é”™ï¼Œå°±è¿™ä¹ˆç®€å•æˆ‘ä»¬å°±åŠ ä¸Šäº†DataBidingï¼Œä¸éœ€è¦å¼•å…¥ä»»ä½•ä¾èµ–ã€‚<br>é¦–å…ˆæˆ‘ä»¬å…ˆå»ºç«‹ä¸€ä¸ªæ™®é€šç±»ä½œä¸ºViewModelï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">package top.cyixlq.test</span><br><span class="line"></span><br><span class="line">class MainViewModel &#123;</span><br><span class="line">    var name &#x3D; &quot;å¼ ä¸‰&quot;</span><br><span class="line">    var age &#x3D; 15</span><br><span class="line">    var isMan &#x3D; true</span><br><span class="line">    fun log() &#123;</span><br><span class="line">        Log.d(&quot;MyTAG&quot;, &quot;æŒ‰é’®è¢«ç‚¹å‡»äº†ä¸€ä¸‹&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶æ¬¡ï¼Œæˆ‘ä»¬è¦å°†æˆ‘ä»¬å¸ƒå±€æ–‡ä»¶ä»£ç è¿›è¡Œä¸€äº›æ”¹åŠ¨ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;layout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class="line">    xmlns:tools&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;tools&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;data&gt;</span><br><span class="line">        &lt;variable</span><br><span class="line">            name&#x3D;&quot;viewModel&quot;</span><br><span class="line">            type&#x3D;&quot;top.cyixlq.test.MainViewModel&quot;&#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;data&gt;</span><br><span class="line"></span><br><span class="line">    &lt;LinearLayout</span><br><span class="line">        android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class="line">        android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class="line">        android:orientation&#x3D;&quot;vertical&quot;</span><br><span class="line">        tools:context&#x3D;&quot;.MainActivity&quot;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">            android:text&#x3D;&quot;@&#123;viewModel.name&#125;&quot;&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">            android:text&#x3D;&quot;@&#123;String.valueOf(viewModel.age)&#125;&quot;&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">            android:text&#x3D;&quot;@&#123;viewModel.isMan ? @string&#x2F;man : @string&#x2F;woman&#125;&quot;&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;Button</span><br><span class="line">            android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">            android:onClick&#x3D;&quot;@&#123;v -&gt; viewModel.log()&#125;&quot;</span><br><span class="line">            android:text&#x3D;&quot;ç‚¹æˆ‘&quot;&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;&#x2F;LinearLayout&gt;</span><br><span class="line">&lt;&#x2F;layout&gt;</span><br></pre></td></tr></table></figure><p>æœ€åï¼Œæ”¹é€ æˆ‘ä»¬çš„Activityä»£ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">class MainActivity : AppCompatActivity() &#123;</span><br><span class="line"></span><br><span class="line">    private lateinit var binding: ActivityMainBinding</span><br><span class="line"></span><br><span class="line">    override fun onCreate(savedInstanceState: Bundle?) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState)</span><br><span class="line">        binding &#x3D; DataBindingUtil.setContentView(this, R.layout.activity_main)</span><br><span class="line">        &#x2F;&#x2F; ç¬¬ä¸€ç§å°†æ•°æ®å¡«å……åˆ°xmlæ–‡ä»¶ä¸­çš„æ–¹æ³•(ä»£ç åœ¨ä¸‹é¢è¿™è¡Œ)ï¼Œæˆ‘ä»¬ç›´æ¥å®ä¾‹åŒ–äº†ä¸€ä¸ªMainViewModelèµ‹å€¼ç»™BRèµ„æºä¸­ä¸€ä¸ªå«viewModelçš„å˜é‡</span><br><span class="line">        &#x2F;&#x2F; binding.setVariable(BR.viewModel, MainViewModel())</span><br><span class="line">        &#x2F;&#x2F; ä»¥ä¸‹æ˜¯ä¸€äº›è¯´æ˜ï¼š</span><br><span class="line">        &#x2F;&#x2F; BRå°±æ˜¯å‰æ–‡æåˆ°çš„DataBindingèµ„æºï¼ŒåƒRæ–‡ä»¶ä¸€æ ·è‡ªåŠ¨ç”Ÿæˆï¼Œè®°å½•æ‰€æœ‰xmlä¸­dataæ ‡ç­¾å†…çš„å˜é‡åç§°ï¼Œæœ‰ç‚¹åƒæ§ä»¶idçš„æ„Ÿè§‰</span><br><span class="line">        &#x2F;&#x2F; viewModelæ¥è‡ªå¸ƒå±€æ–‡ä»¶ä¸­dataæ ‡ç­¾å†…çš„variableæ ‡ç­¾ä¸­çš„name</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; ç¬¬äºŒç§å°†æ•°æ®å¡«å……åˆ°xmlæ–‡ä»¶ä¸­çš„æ–¹æ³•(ä»£ç åœ¨ä¸‹é¢è¿™è¡Œ),viewModelè¿™ä¸ªå˜é‡åè§†ä½ åœ¨xmlä¸­variableæ ‡ç­¾ä¸­çš„nameè€Œå®š</span><br><span class="line">        binding.viewModel &#x3D; MainViewModel()</span><br><span class="line">        &#x2F;&#x2F; å‡å¦‚ä½ çš„nameä¸ºuser,å¹¶ä¸”classåç§°ä¹Ÿä¸ºUserçš„è¯(nameå’Œclassçš„åç§°ä¸ä¸€å®šè¦ç›¸åŒ)</span><br><span class="line">        &#x2F;&#x2F; é‚£ä¹ˆä»£ç å°±æ˜¯binding.user &#x3D; User()</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; java ä»£ç å¦‚ä¸‹</span><br><span class="line">        &#x2F;&#x2F; binding.setViewModel(new MainViewModel())</span><br><span class="line">        &#x2F;&#x2F; binding.setUser(new User())</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    override fun onDestroy() &#123;</span><br><span class="line">        super.onDestroy()</span><br><span class="line">        &#x2F;&#x2F; åœ¨Activityé”€æ¯æ—¶è®°å¾—è§£ç»‘ï¼Œä»¥å…å†…å­˜æ³„æ¼</span><br><span class="line">        binding.unbind()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3ï¼Œ-åŠ å…¥DataBindingåï¼Œxmlæ–‡ä»¶çš„ä¸€äº›æ–°çš„ç”¨æ³•"><a href="#3ï¼Œ-åŠ å…¥DataBindingåï¼Œxmlæ–‡ä»¶çš„ä¸€äº›æ–°çš„ç”¨æ³•" class="headerlink" title="3ï¼Œ åŠ å…¥DataBindingåï¼Œxmlæ–‡ä»¶çš„ä¸€äº›æ–°çš„ç”¨æ³•"></a>3ï¼Œ åŠ å…¥DataBindingåï¼Œxmlæ–‡ä»¶çš„ä¸€äº›æ–°çš„ç”¨æ³•</h3><ol><li><p>æ•°æ®çš„å¡«å……</p><p> å¯ä»¥å¾ˆæ˜æ˜¾çš„çœ‹åˆ°ï¼Œæˆ‘ä»¬åœ¨å¸ƒå±€æ–‡ä»¶çš„æœ€å¤–å±‚ä¸æ˜¯ä»»ä½•å¸ƒå±€æ ‡ç­¾ï¼Œè€Œæ˜¯layoutæ ‡ç­¾ã€‚ä¹‹åå†å¼•å…¥dataæ ‡ç­¾ï¼Œdataé‡Œé¢æ˜¯å˜é‡é›†åˆï¼Œæ•´ä¸ªxmlæ–‡ä»¶ä¸­åªå…è®¸æœ‰ä¸€ä¸ªdataæ ‡ç­¾ã€‚dataæ ‡ç­¾ä¸­å¯ä»¥åŒ…å«å¤šä¸ªvariableã€‚nameä»£è¡¨å˜é‡åç§°ï¼Œtypeæ˜¯å˜é‡ç±»å‹ã€‚åœ¨activityä¸­ï¼Œæˆ‘ä»¬æ–°å»ºäº†ä¸€ä¸ªbindingå˜é‡ï¼Œå¹¶ä¸”é€šè¿‡bindingå˜é‡æŠŠMainViewModelå®ä¾‹åŒ–çš„å¯¹è±¡èµ‹å€¼åˆ°xmlæ–‡ä»¶ä¸­ï¼Œè¿™æ ·æˆ‘ä»¬åœ¨xmlä¸­å°±å¯ä»¥ç›´æ¥å¡«å……åˆ°å¯¹åº”æ§ä»¶ä¸­ã€‚é€šè¿‡@{}ï¼Œæˆ‘ä»¬çš„æ§ä»¶å°±å¯ä»¥ç›´æ¥å¼•ç”¨åˆ°viewModelä¸­çš„å¯¹åº”çš„å€¼ã€‚å°±åƒï¼š</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">android:text&#x3D;&quot;@&#123;viewModel.name&#125;&quot;</span><br></pre></td></tr></table></figure></li><li><p>importæ ‡ç­¾</p><p> å°±åƒjavaä¸­çš„importå…³é”®å­—ä¸€æ ·ï¼Œå¯ä»¥å¯¼å…¥ç±»å‹ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸Šé¢çš„xmlæ–‡ä»¶ä¸­dataéƒ¨ä»½è¿˜å¯ä»¥è¿™æ ·å†™ï¼š</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;import type&#x3D;&quot;top.cyixlq.test.MainViewModel&quot;&#x2F;&gt;</span><br><span class="line">&lt;variable</span><br><span class="line">    name&#x3D;&quot;viewModel&quot;</span><br><span class="line">    type&#x3D;&quot;MainViewModel&quot;&#x2F;&gt;</span><br></pre></td></tr></table></figure><p> æˆ‘ä»¬è¿˜æ³¨æ„åˆ°ï¼Œå¡«å……ageå±æ€§çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ˜¯@{String.valueOf(viewModel.age)}ã€‚å› ä¸ºageæ˜¯æ•´æ•°å‹ï¼Œæˆ‘ä»¬çŸ¥é“TextViewçš„Textæ˜¯ä¸å¯ä»¥ä¸ºæ•´æ•°å‹çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨äº†Stringè¿™ä¸ªç±»ä¸­çš„æ–¹æ³•è¿›è¡Œäº†è½¬æ¢ã€‚æŒ‰ç†è¯´ï¼ŒStringç†åº”ä¹Ÿéœ€è¦ä½¿ç”¨importæ ‡ç­¾è¿›è¡Œå¼•å…¥ï¼Œç„¶è€Œæˆ‘ä»¬å¹¶æ²¡æœ‰è¿™ä¹ˆåšã€‚æ˜¯çš„ï¼Œå’ŒJavaä¸€æ ·ï¼Œjava.langåŒ…ä¸‹çš„ä¸œè¥¿æ˜¯è‡ªåŠ¨å¼•å…¥çš„ã€‚</p></li><li><p>ä¸‰å…ƒè¿ç®—ç¬¦å’Œlambdaè¡¨è¾¾å¼ä»¥åŠç®€å•è¿ç®—</p><p> æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬å¡«å……isManè¿™ä¸ªå±æ€§çš„æ—¶å€™ä½¿ç”¨äº†ä¸‰å…ƒè¿ç®—ç¬¦ï¼Œå¹¶ä¸”ä½¿ç”¨@string/manå’Œ@string/womanä½œä¸ºä¸¤ä¸ªå¯é€‰å€¼ã€‚çœ‹èµ·æ¥æ˜¯ä¸æ˜¯å¾ˆç¥å¥‡ï¼Ÿå…¶å®æˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥è¿™æ ·å†™ï¼š</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">android:text&#x3D;&#39;@&#123;viewModel.isMan ? &quot;ç”·&quot; : &quot;å¥³&quot;&#125;&#39;</span><br></pre></td></tr></table></figure><p> ä½†æ˜¯å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨Windowsä¸‹ï¼Œæˆ‘ä»¬è¿™æ ·å†™å¯èƒ½ä¼šæŠ¥é”™ã€‚æ˜¯å…³äºutf-8çš„ä¸€ä¸ªé”™è¯¯ï¼Œå…·ä½“ä¸å¤ªæ¸…æ¥šã€‚å¦‚æœä½ æ˜¯javaä»£ç ï¼Œåœ¨ç¼–è¯‘çš„æ—¶å€™ä¼šå‘Šè¯‰ä½ è¿™ä¸ªé”™è¯¯ã€‚å¦‚æœæ˜¯kotlinä¸‹ï¼Œå°±ä¼šæ˜¾ç¤ºæ— æ³•æ‰“å°è¿™ä¸ªé”™è¯¯logã€‚æ‰€ä»¥æˆ‘è¿˜æ˜¯æ¨èå¼•ç”¨stringèµ„æºã€‚</p><p> å°±åƒæˆ‘ä»¬åœ¨xmlæ–‡ä»¶ä¸­è®¾ç½®æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å¼•å…¥lambdaè¡¨è¾¾å¼ï¼Œä»è€Œç›´æ¥è°ƒç”¨viewModelä¸­çš„å…¬å¼€æ–¹æ³•ï¼Œæ˜¯ä¸æ˜¯è§‰å¾—ç®€å•å¤šäº†ï¼Ÿ</p><p> è™½ç„¶å¯ä»¥ç›´æ¥åœ¨xmlæ–‡ä»¶ä¸­è¿›è¡Œè¿ç®—äº†ï¼Œä¾‹å¦‚å­—ç¬¦ä¸²çš„æ‹¼æ¥ï¼Œæ•°å­—çš„åŠ å‡ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">android:text&#x3D;&quot;@&#123;String.valueOf(viewModel.age + 1)&#125;&quot;</span><br><span class="line">android:text&#x3D;&#39;&quot;æ€§åˆ«ï¼š&quot; + viewModel.isMan ? &quot;ç”·&quot; : &quot;å¥³&quot;&#39;</span><br></pre></td></tr></table></figure><p> ä½†æ˜¯ï¼Œæˆ‘ä¸æ¨èåœ¨xmlæ–‡ä»¶ä¸­è¿›è¡Œè¿‡äºå¤æ‚çš„è¿ç®—ï¼Œå¯ä»¥åœ¨ViewModelç±»ä¸­å¤„ç†å¥½ä¹‹ååˆ©ç”¨å‡½æ•°è¿”å›ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- xmlæ–‡ä»¶ä¸­ --&gt;</span><br><span class="line">android:text&#x3D;&quot;@&#123;viewModel.convertSex()&#125;&quot;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; MainViewModelæ–‡ä»¶ä¸­</span><br><span class="line">fun convertSex(): String &#123;</span><br><span class="line">    var result &#x3D; &quot;æ€§åˆ«ï¼š&quot;</span><br><span class="line">    val sex &#x3D; if (isMan) &quot;ç”·&quot; else &quot;å¥³&quot;</span><br><span class="line">    return result + sex</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>includeæ ‡ç­¾çš„ä¸€äº›å˜åŒ–</p><p> æˆ‘ä»¬åœ¨å¼€å‘ä¸­éš¾å…è¦è¿›è¡Œå¸ƒå±€çš„å¤ç”¨ï¼Œè¿™å°±ä¼šç”¨åˆ°includeæ ‡ç­¾äº†ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬å¼•å…¥çš„å¸ƒå±€æ–‡ä»¶ä¸­ä¹Ÿæœ‰variableæ€ä¹ˆåŠï¼Œæ€ä¹ˆæ‰èƒ½ä»å½“å‰å¸ƒå±€æ–‡ä»¶ä¸­ä¼ å…¥åˆ°includeå¯¼å…¥çš„å¸ƒå±€ä¸­å‘¢ï¼Ÿè¯·ç›´æ¥çœ‹ä»£ç è¯´æ˜ï¼æˆ‘ä»¬ä»¥è‡ªå·±åšä¸€ä¸ªæ ‡é¢˜æ ä¸ºä¾‹ã€‚</p><ol><li>é¦–å…ˆéšè—æˆ‘ä»¬åŸæœ‰çš„æ ‡é¢˜æ ï¼Œåœ¨Activityçš„onCreateä¸­åŠ å…¥ä¸‹é¢çš„ä»£ç ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">supportActionBar?.hide()</span><br><span class="line">&#x2F;&#x2F; javaä»£ç </span><br><span class="line">&#x2F;&#x2F; ActionBar actionBar &#x3D; getSupportActionBar();</span><br><span class="line">&#x2F;&#x2F; if (actionBar !&#x3D; null) actionBar.hide()</span><br></pre></td></tr></table></figure></li><li>æ–°å»ºä¸€ä¸ªlayout_title_bar.xmlï¼Œå†…å®¹å¦‚ä¸‹ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;layout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;&gt;</span><br><span class="line">    &lt;data&gt;</span><br><span class="line">        &lt;variable</span><br><span class="line">            name&#x3D;&quot;title&quot;</span><br><span class="line">            type&#x3D;&quot;String&quot;&#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;data&gt;</span><br><span class="line">    &lt;RelativeLayout</span><br><span class="line">        android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class="line">        android:layout_height&#x3D;&quot;?attr&#x2F;actionBarSize&quot;</span><br><span class="line">        android:background&#x3D;&quot;@color&#x2F;colorPrimary&quot;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">            android:layout_centerInParent&#x3D;&quot;true&quot;</span><br><span class="line">            android:textColor&#x3D;&quot;@android:color&#x2F;white&quot;</span><br><span class="line">            android:text&#x3D;&quot;@&#123;title&#125;&quot;&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;&#x2F;RelativeLayout&gt;</span><br><span class="line">&lt;&#x2F;layout&gt;</span><br></pre></td></tr></table></figure></li><li>åœ¨activity_main.xmlä¸­åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;variable</span><br><span class="line">    name&#x3D;&quot;text&quot;</span><br><span class="line">    type&#x3D;&quot;String&quot; &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- è¿™é‡Œä¼ è¿‡å»çš„å±æ€§åç§°è¦ä¸includeå¼•å…¥çš„å¸ƒå±€æ–‡ä»¶ä¸­variableçš„nameä¸€æ · --&gt;</span><br><span class="line">&lt;!-- åŒæ ·ï¼Œè¿™é‡Œå¯ä»¥ä½¿ç”¨MainViewModelä¸­çš„æŸä¸ªå­—ç¬¦ä¸²å±æ€§ä½œä¸ºå€¼ä¼ è¿‡å»ï¼Œä¸å£°æ˜ä¸€ä¸ªæ–°çš„variable --&gt;</span><br><span class="line">&lt;include layout&#x3D;&quot;@layout&#x2F;layout_titlt_bar&quot;</span><br><span class="line">    title&#x3D;&quot;@&#123;text&#125;&quot;&#x2F;&gt;</span><br></pre></td></tr></table></figure></li><li>åˆ«å¿˜äº†åœ¨Activityä¸­ç»™textèµ‹å€¼ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">binding.text &#x3D; &quot;æµ‹è¯•&quot;</span><br></pre></td></tr></table></figure></li></ol></li></ol><h3 id="4ï¼Œ-å…³äºActivityæ–‡ä»¶ä¸­bindingå˜é‡çš„ä¸€äº›è¯´æ˜"><a href="#4ï¼Œ-å…³äºActivityæ–‡ä»¶ä¸­bindingå˜é‡çš„ä¸€äº›è¯´æ˜" class="headerlink" title="4ï¼Œ å…³äºActivityæ–‡ä»¶ä¸­bindingå˜é‡çš„ä¸€äº›è¯´æ˜"></a>4ï¼Œ å…³äºActivityæ–‡ä»¶ä¸­bindingå˜é‡çš„ä¸€äº›è¯´æ˜</h3><ol><li>bindingå˜é‡çš„ç±»å‹æ˜¯ActivityMainBindingï¼Œè¿™ä¸ªæ˜¯é¡¹ç›®buildåè‡ªåŠ¨ç”Ÿæˆçš„ï¼Œæ ¹æ®å¸ƒå±€æ–‡ä»¶åï¼šactivity_main.xml æ¥å‘½åçš„ç±»åç§°ã€‚ä¹Ÿè®¸ä½ ä¹Ÿå‘ç°äº†ï¼Œå®ƒå°±æ˜¯å¸ƒå±€æ–‡ä»¶æ¯ä¸ªå•è¯é¦–å­—æ¯å¤§å†™ï¼Œç„¶åæ‹¼æ¥ä¸ŠBindingã€‚</li><li>æˆ‘ä»¬å‰é¢è¯´è¿‡ï¼ŒåŠ å…¥DataBindingåæˆ‘ä»¬å¯ä»¥çœå»ä¸€äº›UIç›¸å…³ä»£ç ï¼Œæ¯”å¦‚findviewByIdã€‚é‚£ä¹ˆå…·ä½“æ˜¯æ€ä¹ˆæ“ä½œå‘¢ã€‚å¾ˆç®€å•ï¼Œåœ¨bindingå˜é‡èµ‹å€¼åï¼Œæˆ‘ä»¬ç›´æ¥é€šè¿‡binding.æ§ä»¶IDå°±å¯ä»¥ç›´æ¥è·å–è¯¥æ§ä»¶å®ä¾‹ã€‚ä¾‹å¦‚ï¼šbinding.button.setOnClickListener(*)</li><li>æˆ‘ä»¬è¿˜å¯ä»¥å°†xmlæ–‡ä»¶ä¸­çš„variableè¿›è¡Œèµ‹å€¼ã€‚å…·ä½“è§ä¸Šé¢Activityä»£ç åŠç›¸å…³æ³¨é‡Šï¼</li></ol><h3 id="5ï¼Œæ•°æ®çš„å®æ—¶æ›´æ–°ï¼ŒåŒå‘ç»‘å®š"><a href="#5ï¼Œæ•°æ®çš„å®æ—¶æ›´æ–°ï¼ŒåŒå‘ç»‘å®š" class="headerlink" title="5ï¼Œæ•°æ®çš„å®æ—¶æ›´æ–°ï¼ŒåŒå‘ç»‘å®š"></a>5ï¼Œæ•°æ®çš„å®æ—¶æ›´æ–°ï¼ŒåŒå‘ç»‘å®š</h3><p>åœ¨MainViewModelä¸­å’Œxmlå¸ƒå±€æ–‡ä»¶ä¸­æ–°æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; MainViewModelä¸­</span><br><span class="line">fun oneYearLater() &#123;</span><br><span class="line">    age++</span><br><span class="line">    Log.d(&quot;MyTAG&quot;, &quot;å¹´é¾„ï¼š$age&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;!-- åœ¨xmlå¸ƒå±€æ–‡ä»¶ä¸­ --&gt;</span><br><span class="line">&lt;Button</span><br><span class="line">    android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class="line">    android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">    android:onClick&#x3D;&quot;@&#123;v -&gt; viewModel.oneYearLater()&#125;&quot;</span><br><span class="line">    android:text&#x3D;&quot;ä¸€å¹´å&quot;&#x2F;&gt;</span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬ç‚¹å‡»è¿™ä¸ªæŒ‰é’®ä¸€å¹´åä¹‹åä¼šæ‰§è¡ŒoneYearLateræ–¹æ³•ï¼Œé‡Œé¢çš„ageå±æ€§ä¼šè‡ªå¢ã€‚ä½†æ˜¯ï¼Œè¿™æ ·å†™å¥½ä¹‹åï¼Œæˆ‘ä»¬å‘ç°ageå˜åŒ–äº†ï¼Œä½†æ˜¯è§†å›¾ä¸Šçš„å¹´é¾„çš„æ–‡å­—å¹¶æ²¡æœ‰åˆ·æ–°ã€‚æˆ‘ä»¬ä¸æ˜¯è¯´åŠ å…¥äº†DataBindingä¹‹åä¼šè‡ªåŠ¨å®æ—¶åˆ·æ–°å—ï¼Ÿåˆ«æ€¥ï¼Œå¦‚æœæˆ‘ä»¬è¦å®ç°å®æ—¶åˆ·æ–°çš„è¯ï¼Œæˆ‘ä»¬è¦å¯¹MainViewModelè¿›è¡Œå°å°çš„æ”¹é€ ï¼Œå…¶ä¸­æœ‰ä¸‰ç§æ–¹æ³•ï¼š</p><ol><li><p>å°±åƒä¸‹é¢é‚£æ ·ï¼Œå°†å¯¹åº”å±æ€§æ”¹æˆè¿™æ ·ï¼š</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; var age &#x3D; 15</span><br><span class="line">var age &#x3D; ObservableInt(15)</span><br><span class="line"></span><br><span class="line">fun oneYearLater() &#123;</span><br><span class="line">    &#x2F;&#x2F; age++</span><br><span class="line">    val lastAge &#x3D; age.get()</span><br><span class="line">    age.set(lastAge + 1)</span><br><span class="line">    Log.d(&quot;MyTAG&quot;, &quot;å¹´é¾„ï¼š$age&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> å°†å˜é‡ageå£°æ˜ä¸ºå¯è§‚å¯Ÿçš„Intå¯¹è±¡ã€‚å…¶ä¸­ï¼Œç±»ä¼¼ObservableIntçš„å˜é‡ç±»å‹è¿˜æœ‰ï¼š</p><ul><li>ObservableBoolean</li><li>ObservableByte</li><li>ObservableChar</li><li>ObservableDouble</li><li>ObservableLong<br>â€¦æ­¤å¤„çœç•¥äº†ä¸€äº›åŸºæœ¬æ•°æ®ç±»å‹</li></ul><p> å¯¹äºåˆ—è¡¨å’ŒMapï¼Œè¿˜æœ‰ä¸‹é¢è¿™äº›ç±»å‹ï¼š</p><ul><li>ObservableList&lt; T &gt;</li><li>ObservableArrayList&lt; T &gt;</li><li>ObservableArrayMap&lt;K,V&gt;</li><li>ObservableMap&lt;K,V&gt;</li></ul><p> é‚£ä¹ˆå¯¹äºStringæˆ–è€…è‡ªå®šä¹‰çš„ç±»è¿™ç§éåŸºæœ¬æ•°æ®ç±»å‹ï¼Œé‚£ä¹ˆæ€ä¹ˆåŠï¼ŸDataBindingç»™æˆ‘ä»¬æä¾›äº†ï¼šObservableField<T>ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿™æ ·ç”¨ï¼š</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">val name &#x3D; ObservableField&lt;String&gt;(&quot;å¼ ä¸‰&quot;)</span><br></pre></td></tr></table></figure><p> å¯¹äºåºåˆ—åŒ–ï¼Œè¿˜æœ‰è¿™ä¸ªæ•°æ®ç±»å‹ï¼š</p><blockquote><p>ObservableParcelable&lt; T &gt;</p></blockquote></li><li><p>è®©ç±»ç»§æ‰¿BaseObservableï¼š</p><p> æˆ‘ä»¬å…ˆæ–°å»ºä¸€ä¸ªObserveViewModelçš„ç±»ï¼Œè®©å®ƒç»§æ‰¿BaseObservableï¼š</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">class ObserveViewModel : BaseObservable() &#123;</span><br><span class="line"></span><br><span class="line">    private var firstName &#x3D; &quot;y&quot;</span><br><span class="line">    private var lastName &#x3D; &quot;c&quot;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; è¿™é‡Œè¦åŠ ä¸Šè¿™ä¸ªæ ‡ç­¾ï¼Œåœ¨setæ–¹æ³•ä¸­BRæ‰èƒ½æ‰¾åˆ°å¯¹åº”å±æ€§</span><br><span class="line">    @Bindable</span><br><span class="line">    fun getFirstName(): String &#123;</span><br><span class="line">        return firstName</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Bindable</span><br><span class="line">    fun getLastName():String &#123;</span><br><span class="line">        return lastName</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fun setFirstName(name:String) &#123;</span><br><span class="line">        this.firstName &#x3D; name</span><br><span class="line">        notifyPropertyChanged(BR.firstName)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fun setLastName(name:String) &#123;</span><br><span class="line">        this.lastName &#x3D; name</span><br><span class="line">        notifyPropertyChanged(BR.lastName)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; æ”¹å§“çš„æ–¹æ³•</span><br><span class="line">    fun changeLastName() &#123;</span><br><span class="line">        setLastName(&quot;è–›&quot;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> åœ¨xmlå¸ƒå±€ä¸­è¿›è¡Œå¼•å…¥ï¼Œå¹¶ä¸”å°†å¯¹åº”å±æ€§å€¼è¿›è¡Œå±•ç¤ºä»¥åŠè®¾å®šæŒ‰é’®ç‚¹å‡»äº‹ä»¶ï¼š</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- è¿™æ®µè¯·æ”¾åœ¨dataæ ‡ç­¾å†… --&gt;</span><br><span class="line">&lt;variable</span><br><span class="line">    name&#x3D;&quot;observeViewModel&quot;</span><br><span class="line">    type&#x3D;&quot;top.cyixlq.test.ObserveViewModel&quot;&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">&lt;TextView</span><br><span class="line">    android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class="line">    android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">    android:text&#x3D;&quot;@&#123;observeViewModel.firstName&#125;&quot;&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">&lt;TextView</span><br><span class="line">    android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class="line">    android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">    android:text&#x3D;&quot;@&#123;observeViewModel.lastName&#125;&quot;&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">&lt;Button</span><br><span class="line">    android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class="line">    android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">    android:text&#x3D;&quot;æ”¹å§“&quot;</span><br><span class="line">    android:onClick&#x3D;&quot;@&#123;v -&gt; observeViewModel.changeLastName()&#125;&quot;&#x2F;&gt;</span><br></pre></td></tr></table></figure><p> åˆ«å¿˜äº†è¿˜è¦åœ¨Activityä¸­è¿›è¡Œèµ‹å€¼ï¼š</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">val observeViewModel &#x3D; ObserveViewModel()</span><br><span class="line">binding.observeViewModel &#x3D; observeViewModel</span><br></pre></td></tr></table></figure></li><li><p>åœ¨Activityä¸­è¿›è¡Œç›‘å¬ã€‚</p><p> åœ¨ObserveViewModelç±»ä¸­æ–°æ·»åŠ ä¸€ä¸ªå±æ€§ï¼š</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">val age &#x3D; ObservableInt(17)</span><br></pre></td></tr></table></figure><p> åœ¨Activityä¸­æ–°åŠ å…¥å¦‚ä¸‹ä»£ç ï¼š</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; ç»™æŒ‰é’®è®¾ç½®ç‚¹å‡»ç›‘å¬äº‹ä»¶</span><br><span class="line">binding.btnAddAge.setOnClickListener &#123;</span><br><span class="line">    val lastAge &#x3D; observeViewModel.age.get()</span><br><span class="line">    observeViewModel.age.set(lastAge + 1)</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; ç›‘å¬ObserveViewModelä¸­å€¼çš„å˜åŒ–å¹¶è¿›è¡Œå›è°ƒå¤„ç†</span><br><span class="line">observeViewModel.age.addOnPropertyChangedCallback(object : Observable.OnPropertyChangedCallback() &#123;</span><br><span class="line">    override fun onPropertyChanged(observable: Observable, i: Int) &#123;</span><br><span class="line">        binding.age.text &#x3D; observeViewModel.age.get().toString()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p> åœ¨å¸ƒå±€æ–‡ä»¶ä¸­æ–°å¢ä¸€ä¸ªTextViewå±•ç¤ºæ–°çš„å±æ€§ï¼Œå¹¶æ·»åŠ ä¸€ä¸ªæŒ‰é’®æ”¹å˜æ–°çš„å±æ€§å€¼ï¼š</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;TextView</span><br><span class="line">    android:id&#x3D;&quot;@+id&#x2F;age&quot;</span><br><span class="line">    android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class="line">    android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">    android:text&#x3D;&quot;å¹´é¾„&quot;&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">&lt;Button</span><br><span class="line">    android:id&#x3D;&quot;@+id&#x2F;btn_add_age&quot;</span><br><span class="line">    android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class="line">    android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">    android:text&#x3D;&quot;åŠ ä¸€å²&quot;&#x2F;&gt;</span><br></pre></td></tr></table></figure></li></ol><p>çœ‹è¿‡ä¸Šé¢ä¸‰ç§æ–¹æ³•åï¼Œæ˜¯ä¸æ˜¯è§‰å¾—ç¬¬ä¸€ç§æ–¹æ³•æœ€ç®€å•ï¼Ÿæ˜¯çš„ï¼Œæˆ‘ä¸ªäººä¹Ÿæ¯”è¾ƒæ¨å´‡ç¬¬ä¸€ç§æ–¹æ³•ï¼Œç®€å•ç²—æš´ï¼Œä½†æ˜¯å¹¶ä¸æ„å‘³ç€å…¶ä»–æ–¹æ³•å°±ç”¨ä¸åˆ°äº†ï¼Œæˆ‘ä»¬è¿˜æ˜¯åº”è¯¥æ ¹æ®ä¸šåŠ¡éœ€æ±‚ä½¿ç”¨ä¸åŒçš„æ–¹æ³•çµæ´»å˜é€šï¼</p><p>äº†è§£Vueçš„åŒå­¦çŸ¥é“ï¼Œå½“æˆ‘ä½¿ç”¨:value=çš„æ—¶å€™ï¼Œå°±å¯ä»¥å®ç°æ•°æ®è§†å›¾åŒå‘ç»‘å®šã€‚å³è¾“å…¥æ¡†ä¸­çš„å†…å®¹æ˜¯ä»€ä¹ˆï¼Œå¯¹åº”çš„å±æ€§å€¼å°±æ˜¯è¾“å…¥æ¡†ä¸­çš„å†…å®¹ã€‚é‚£ä¹ˆï¼ŒDataBdingä¹Ÿå¯ä»¥åšåˆ°å—ï¼Ÿç­”æ¡ˆæ˜¯å½“ç„¶å¯ä»¥çš„ã€‚é¦–å…ˆæˆ‘ä»¬åœ¨MainViewModelä¸­æ–°æ·»åŠ ä¸€ä¸ªtextå±æ€§ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">val text &#x3D; ObservableField&lt;String&gt;(&quot;&quot;)</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨activity_main.xmlå¸ƒå±€æ–‡ä»¶ä¸­å¤šåŠ ä¸€ä¸ªEditTextå’Œä¸€ä¸ªTextViewï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;TextView</span><br><span class="line">    android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class="line">    android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">    android:text&#x3D;&quot;@&#123;viewModel.text&#125;&quot;&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">&lt;EditText</span><br><span class="line">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class="line">    android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">    android:text&#x3D;&quot;@&#x3D;&#123;viewModel.text&#125;&quot;&#x2F;&gt;</span><br></pre></td></tr></table></figure><p>è¿™æ ·åšå®Œä¹‹åï¼Œæˆ‘ä»¬åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥ä»€ä¹ˆï¼Œæˆ‘ä»¬åœ¨TextViewä¸Šé¢çœ‹åˆ°çš„å°±æ˜¯ä»€ä¹ˆã€‚è¿™æ ·å°±å®ç°äº†åŒå‘ç»‘å®šã€‚æˆ‘ä»¬ä¸ç„¶å‘ç°ï¼Œæˆ‘ä»¬å®ç°åŒå‘ç»‘å®šå…¶å®å°±æ˜¯å¤šåŠ äº†ä¸€ä¸ªâ€œ = â€ï¼</p><h2 id="OKï¼Œè¿™ä¸€å°ç« èŠ‚æˆ‘ä»¬å°±å…ˆåˆ°è¿™é‡Œäº†ï¼Œä¸‹ä¸€ç« èŠ‚æˆ‘ä»¬å°±ä»‹ç»ä¸€ä¸‹DataBindingçš„ä¸€äº›å¸¸ç”¨æ³¨è§£ï¼å¦å¤–æœ¬ç« èŠ‚ä¸­å‡ºç°çš„é—®é¢˜è¿˜æœ›å¤§å®¶ç•™è¨€æŒ‡æ­£ï¼Œæ¯•ç«Ÿè¿˜æ˜¯åœ¨MVVMæ¢ç´¢é“è·¯ä¸­ï¼"><a href="#OKï¼Œè¿™ä¸€å°ç« èŠ‚æˆ‘ä»¬å°±å…ˆåˆ°è¿™é‡Œäº†ï¼Œä¸‹ä¸€ç« èŠ‚æˆ‘ä»¬å°±ä»‹ç»ä¸€ä¸‹DataBindingçš„ä¸€äº›å¸¸ç”¨æ³¨è§£ï¼å¦å¤–æœ¬ç« èŠ‚ä¸­å‡ºç°çš„é—®é¢˜è¿˜æœ›å¤§å®¶ç•™è¨€æŒ‡æ­£ï¼Œæ¯•ç«Ÿè¿˜æ˜¯åœ¨MVVMæ¢ç´¢é“è·¯ä¸­ï¼" class="headerlink" title="OKï¼Œè¿™ä¸€å°ç« èŠ‚æˆ‘ä»¬å°±å…ˆåˆ°è¿™é‡Œäº†ï¼Œä¸‹ä¸€ç« èŠ‚æˆ‘ä»¬å°±ä»‹ç»ä¸€ä¸‹DataBindingçš„ä¸€äº›å¸¸ç”¨æ³¨è§£ï¼å¦å¤–æœ¬ç« èŠ‚ä¸­å‡ºç°çš„é—®é¢˜è¿˜æœ›å¤§å®¶ç•™è¨€æŒ‡æ­£ï¼Œæ¯•ç«Ÿè¿˜æ˜¯åœ¨MVVMæ¢ç´¢é“è·¯ä¸­ï¼"></a>OKï¼Œè¿™ä¸€å°ç« èŠ‚æˆ‘ä»¬å°±å…ˆåˆ°è¿™é‡Œäº†ï¼Œä¸‹ä¸€ç« èŠ‚æˆ‘ä»¬å°±ä»‹ç»ä¸€ä¸‹DataBindingçš„ä¸€äº›å¸¸ç”¨æ³¨è§£ï¼å¦å¤–æœ¬ç« èŠ‚ä¸­å‡ºç°çš„é—®é¢˜è¿˜æœ›å¤§å®¶ç•™è¨€æŒ‡æ­£ï¼Œæ¯•ç«Ÿè¿˜æ˜¯åœ¨MVVMæ¢ç´¢é“è·¯ä¸­ï¼</h2>]]></content>
    
    
    <summary type="html">&lt;h5 id=&quot;å‘ç°æˆ‘å¥½ä¹…æ²¡å†™åšå®¢ï¼Œå…¶å®æœ€è¿‘ä¸€ç›´éƒ½å¾ˆæƒ³å†™åšå®¢çš„ï¼Œä½†æ˜¯ä¸çŸ¥é“å†™ç‚¹ä»€ä¹ˆå¥½ã€‚åˆšå¥½ç¢°ä¸Šæœ€è¿‘åœ¨å­¦ä¹ Androidçš„MVVMè®¾è®¡æ¨¡å¼ä»¥åŠå®˜æ–¹æä¾›ç»™æˆ‘ä»¬çš„æ§ä»¶ï¼Œæ‰€ä»¥æ‰æœ‰äº†è¿™ç¯‡æ–‡ç« ã€‚ï¼ˆå…¶å®è¿˜æ˜¯å› ä¸ºæˆ‘æ‡’ï¼Œæˆ‘æ‡’ï¼ï¼‰&quot;&gt;&lt;a href=&quot;#å‘ç°æˆ‘å¥½ä¹…æ²¡å†™åšå®¢ï¼Œå…¶å®æœ€è¿‘ä¸€ç›´éƒ½å¾ˆæƒ³å†™åšå®¢çš„ï¼Œä½†æ˜¯ä¸çŸ¥é“å†™ç‚¹ä»€ä¹ˆå¥½ã€‚åˆšå¥½ç¢°ä¸Šæœ€è¿‘åœ¨å­¦ä¹ Androidçš„MVVMè®¾è®¡æ¨¡å¼ä»¥åŠå®˜æ–¹æä¾›ç»™æˆ‘ä»¬çš„æ§ä»¶ï¼Œæ‰€ä»¥æ‰æœ‰äº†è¿™ç¯‡æ–‡ç« ã€‚ï¼ˆå…¶å®è¿˜æ˜¯å› ä¸ºæˆ‘æ‡’ï¼Œæˆ‘æ‡’ï¼ï¼‰&quot; class=&quot;headerlink&quot; title=&quot;å‘ç°æˆ‘å¥½ä¹…æ²¡å†™åšå®¢ï¼Œå…¶å®æœ€è¿‘ä¸€ç›´éƒ½å¾ˆæƒ³å†™åšå®¢çš„ï¼Œä½†æ˜¯ä¸çŸ¥é“å†™ç‚¹ä»€ä¹ˆå¥½ã€‚åˆšå¥½ç¢°ä¸Šæœ€è¿‘åœ¨å­¦ä¹ Androidçš„MVVMè®¾è®¡æ¨¡å¼ä»¥åŠå®˜æ–¹æä¾›ç»™æˆ‘ä»¬çš„æ§ä»¶ï¼Œæ‰€ä»¥æ‰æœ‰äº†è¿™ç¯‡æ–‡ç« ã€‚ï¼ˆå…¶å®è¿˜æ˜¯å› ä¸ºæˆ‘æ‡’ï¼Œæˆ‘æ‡’ï¼ï¼‰&quot;&gt;&lt;/a&gt;å‘ç°æˆ‘å¥½ä¹…æ²¡å†™åšå®¢ï¼Œå…¶å®æœ€è¿‘ä¸€ç›´éƒ½å¾ˆæƒ³å†™åšå®¢çš„ï¼Œä½†æ˜¯ä¸çŸ¥é“å†™ç‚¹ä»€ä¹ˆå¥½ã€‚åˆšå¥½ç¢°ä¸Šæœ€è¿‘åœ¨å­¦ä¹ Androidçš„MVVMè®¾è®¡æ¨¡å¼ä»¥åŠå®˜æ–¹æä¾›ç»™æˆ‘ä»¬çš„æ§ä»¶ï¼Œæ‰€ä»¥æ‰æœ‰äº†è¿™ç¯‡æ–‡ç« ã€‚ï¼ˆå…¶å®è¿˜æ˜¯å› ä¸ºæˆ‘æ‡’ï¼Œæˆ‘æ‡’ï¼ï¼‰&lt;/h5&gt;&lt;p&gt;ä»Šå¤©æˆ‘æƒ³ç»™å¤§å®¶è®²è®²DataBindingï¼Œä¸ºäº†ä¿è¯æˆ‘å†™çš„ä¸ä¼šå‡ºé”™ï¼Œæˆ‘ä¹Ÿå€Ÿé‰´å‚è€ƒäº†ä¸å°‘æ–‡ç« å’Œè§†é¢‘ã€‚ç»™å¤§å®¶çœ‹çœ‹ä¸€ç¯‡æˆ‘ä¸ªäººè§‰å¾—è¿˜ä¸é”™çš„ã€‚&lt;a href=&quot;https://juejin.im/post/5a55ecb6f265da3e4d7298e9&quot;&gt;DataBindingæœ€å…¨ä½¿ç”¨è¯´æ˜ï¼ˆæ˜é‡‘åšå®¢ï¼‰&lt;/a&gt;è¿˜æœ‰æŸè¯¾ç½‘çš„è§†é¢‘ï¼Œ&lt;a href=&quot;https://www.imooc.com/learn/719&quot;&gt;Android Data Bindingå®æˆ˜-å…¥é—¨ç¯‡&lt;/a&gt;ã€&lt;a href=&quot;https://www.imooc.com/learn/720&quot;&gt;Android Data Bindingå®æˆ˜-é«˜çº§ç¯‡&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cyixlq/MVVMTest&quot;&gt;æœ¬ç¯‡æ–‡ç« ä»£ç åœ°å€&lt;/a&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Android" scheme="https://www.cyixlq.top/categories/Android/"/>
    
    
    <category term="MVVM" scheme="https://www.cyixlq.top/tags/MVVM/"/>
    
  </entry>
  
  <entry>
    <title>ç”Ÿæ´»ä¸­ï¼Œé‚£äº›è¢«æˆ‘ä»¬å¿½è§†äº†çš„ç¾å¥½ï¼</title>
    <link href="https://www.cyixlq.top/2018/05/30/%E7%94%9F%E6%B4%BB%E4%B8%AD%EF%BC%8C%E9%82%A3%E4%BA%9B%E8%A2%AB%E6%88%91%E4%BB%AC%E5%BF%BD%E8%A7%86%E4%BA%86%E7%9A%84%E7%BE%8E%E5%A5%BD%EF%BC%81/"/>
    <id>https://www.cyixlq.top/2018/05/30/%E7%94%9F%E6%B4%BB%E4%B8%AD%EF%BC%8C%E9%82%A3%E4%BA%9B%E8%A2%AB%E6%88%91%E4%BB%AC%E5%BF%BD%E8%A7%86%E4%BA%86%E7%9A%84%E7%BE%8E%E5%A5%BD%EF%BC%81/</id>
    <published>2018-05-30T15:32:59.000Z</published>
    <updated>2021-04-12T02:20:42.187Z</updated>
    
    <content type="html"><![CDATA[<iframe class="player" src="https://v.qq.com/txp/iframe/player.html?vid=l0649b0vtvo&amp;tiny=0&amp;auto=0" allowfullscreen frameborder="0" style="width: 100%; height: 517px;"></iframe>ä¸Šé¢æ˜¯ä¸€ä¸ª4åˆ†å¤šé’Ÿçš„çŸ­è§†é¢‘ï¼Œæ•…äº‹æƒ…èŠ‚å¾ˆç®€å•ï¼Œç”·å¥³ä¸»è§’åŸæœ¬æ˜¯ä¸€å¯¹æ©çˆ±å¤«å¦»ï¼Œä½†ç»“å©šåçç¢çš„ç”Ÿæ´»æ¶ˆç£¨äº†æ¿€æƒ…ï¼Œåƒç©ºæ°”ä¸€æ ·ä¹ æƒ¯å½¼æ­¤ä»¥åï¼Œä¾¿ä¸å†å»è¡¨è¾¾çˆ±ï¼Œç”šè‡³è¿æ¯å¹´çš„çºªå¿µæ—¥ï¼Œä¹Ÿä»…ä»…è¢«å½“æˆäº†ä¸€ç§å¯æœ‰å¯æ— çš„ä»ªå¼ã€‚<p>å¯»æ€è‰¯ä¹…ä»¥åï¼Œä¸ˆå¤«è§‰å¾—ä»–å’Œå¦»å­å·²ç»æ²¡æœ‰æ„Ÿæƒ…äº†ï¼Œç»§ç»­èµ°ä¸‹å»å½¼æ­¤éƒ½ä¸ä¼šå¹¸ç¦ï¼Œä¾¿æå‡ºç¦»å©šã€‚</p><p>å¦»å­æƒ³äº†ä¸€å¤œï¼ŒåŒæ„ç¦»å©šï¼Œä¸è¿‡å¥¹å¸Œæœ›ä¸ˆå¤«å¯ä»¥åœ¨æ¥ä¸‹æ¥çš„ä¸€ä¸ªæœˆé‡Œï¼Œå®Œæˆå¥¹æå‡ºçš„ä¸€äº›è¦æ±‚ã€‚</p><p>ä¸ˆå¤«è™½ç„¶æœ‰ç‚¹å¿ƒä¸ç”˜æƒ…ä¸æ„¿ï¼Œä½†ä¸€æƒ³åˆ°30å¤©åä¸€åˆ‡éƒ½ç»“æŸäº†ï¼Œä¾¿ç­”åº”äº†å¦»å­ã€‚</p><p>å€’è®¡æ—¶çš„30å¤©é‡Œï¼Œå¦»å­è¦ä¸ˆå¤«åšçš„äº‹éƒ½å¾ˆç®€å•ï¼šä¸Šç­å‰æŠ±ä¸€æŠ±å¥¹ï¼Œé†’æ¥åäº²ä¸€ä¸‹å¥¹ï¼Œèµ°åœ¨è·¯ä¸Šç‰µä¸€ç‰µå¥¹çš„æ‰‹ï¼Œç¡å‰è¯´ä¸€å¥â€œæˆ‘çˆ±ä½ â€â€¦â€¦</p><p>æœ€å¼€å§‹ï¼Œä¸ˆå¤«ç‰µæ‰‹çš„æ—¶å€™åƒä¸Šåˆ‘åœºï¼Œæ‰‹æŒ‡å°–åˆšä¸€è§¦ç¢°åˆ°å°±ç¼©å›ï¼Œæ‹¥æŠ±çš„æ—¶å€™ä¿æŒè·ç¦»ï¼Œäº²å»çš„æ—¶å€™å‹‰å¼ºç¢°å˜´å”‡å°±è½¬è¿‡èº«å»ï¼Œè¯´è¯çš„æ—¶å€™ä¹Ÿå¿ƒä¸åœ¨ç„‰ã€‚</p><p>ç„¶è€Œ15å¤©åï¼Œå½“å¦»å­ä¼¸å‡ºå³æ‰‹æ—¶ï¼Œä¸ˆå¤«å·²ç»å¯ä»¥å¾ˆè‡ªç„¶åœ°ä¼¸å‡ºå·¦æ‰‹ï¼Œç¯å…‰ä¸‹æ‹¥æŠ±å¥¹ï¼Œèµ·åºŠæ—¶äº²å»å¥¹ï¼Œä»¿ä½›å›åˆ°äº†ä¸¤äººå å…¥çˆ±æ²³çš„æ—¶å€™ã€‚ä»¥å‰è¢«ä»–æ‰€å¿½ç•¥æ‰çš„çˆ±å’Œå…³å¿ƒï¼Œåˆå†ä¸€æ¬¡è¢«æ‰¾äº†å›æ¥ã€‚</p><p>30å¤©çš„æœŸé™åˆ°äº†ï¼Œä¸ˆå¤«ç»ˆäºæ˜ç™½ï¼Œæ˜¯è‡ªå·±é”™äº†ã€‚ä»–ä»¬ä¸æ˜¯ä¸çˆ±äº†ï¼Œè€Œæ˜¯å¿˜è®°äº†å¦‚ä½•å»çˆ±ã€‚</p><p>å½“çƒ­æƒ…åœ¨æ²¹ç›æŸ´ç±³ä¸­å½’äºå¹³æ·¡ï¼Œæ›¾ç»ç‹‚çƒ­çš„å¿ƒæ€»ä¼šè§‰å¾—è‹¥æœ‰æ‰€å¤±ï¼Œç„¶è€Œæˆ‘ä»¬å´å¿½ç•¥äº†ï¼Œå…¶å®å¹³æ·¡å¦‚æ°´çš„ç”Ÿæ´»æ‰æ˜¯äººç”Ÿå¸¸æ€ã€‚</p><h4 id="æ‘˜è‡ªç®€ä¹¦ï¼š"><a href="#æ‘˜è‡ªç®€ä¹¦ï¼š" class="headerlink" title="æ‘˜è‡ªç®€ä¹¦ï¼š"></a>æ‘˜è‡ªç®€ä¹¦ï¼š</h4><p>ä½œè€…ï¼šè¡·æ›²æ— é—»</p><p>é“¾æ¥ï¼š<a href="https://www.jianshu.com/p/9733bce8fc4a">https://www.jianshu.com/p/9733bce8fc4a</a></p><p>ä¾†æºï¼šç®€ä¹¦</p><p>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;iframe class=&quot;player&quot; src=&quot;https://v.qq.com/txp/iframe/player.html?vid=l0649b0vtvo&amp;amp;tiny=0&amp;amp;auto=0&quot; allowfullscreen frameborder=&quot;0&quot; s</summary>
      
    
    
    
    <category term="éšç¬”" scheme="https://www.cyixlq.top/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
    <category term="éšç¬”" scheme="https://www.cyixlq.top/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>è¯•ç”¨ä¸€ä¸‹RxJavaåŠ Retrofit</title>
    <link href="https://www.cyixlq.top/2018/05/19/%E8%AF%95%E7%94%A8%E4%B8%80%E4%B8%8BRxJava%E5%8A%A0Retrofit/"/>
    <id>https://www.cyixlq.top/2018/05/19/%E8%AF%95%E7%94%A8%E4%B8%80%E4%B8%8BRxJava%E5%8A%A0Retrofit/</id>
    <published>2018-05-19T13:37:11.000Z</published>
    <updated>2021-04-12T02:52:06.677Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>è¿™æ®µæ—¶é—´æˆ‘å·²ç»åœ¨ä¸€ä¸ªå…¬å¸å®ä¹ äº†ï¼Œè™½ç„¶å·¥èµ„ä¸é«˜ï¼Œæˆ‘å¹¶æ²¡æœ‰å¤ªå¤šçš„ä»‹æ„ã€‚ä½†æ˜¯æœ‰ä¸€ç‚¹æ˜¯æˆ‘ä¸èˆ’æœçš„ï¼Œè´Ÿè´£æˆ‘ä»¬éƒ¨é—¨çš„ç»ç†åŠ©ç†ä¼¼ä¹çœ‹ä¸èµ·å®ä¹ ç”Ÿï¼Œå¯¹æˆ‘æœ‰äº›è½»è”‘ã€‚ä¸»è¦æ˜¯ä»–æŠ€æœ¯ä¹Ÿä¸æ˜¯å¾ˆç‰›é€¼é‚£ç§ã€‚æ•´ä¸ªå…¬å¸ç”¨çš„æŠ€æœ¯è¿˜æ˜¯æ¯”è¾ƒè½åé‚£ç§ã€‚å½“æˆ‘æ¨èVueæ—¶ç«Ÿç„¶è¯´è¿™ç§åˆ«äººå°è£…å¥½çš„jsä¸å¤ªå¥½ã€‚å½“æ—¶å†…å¿ƒæœ‰ä¸€åƒæ¡è‰æ³¥é©¬å¥”è·‘ï¼Œé‚£ä½ ä¸ºä»€ä¹ˆè¿˜è¦ç”¨jQueryï¼Ÿsoï¼Œæˆ‘æ‰“ç®—è·³æ§½ï¼Œè·³å»æ›´æœ‰å‘å±•çš„å…¬å¸ï¼Œæ¯•ç«Ÿæˆ‘ç°åœ¨æ˜¯å®ä¹ ï¼Œä¸»è¦è¿˜æ˜¯å¸Œæœ›å¾—åˆ°æˆé•¿~äºæ˜¯æ¥åˆ°äº†ä¸€ä¸ªå®‰å“é¢è¯•ï¼Œæ‰€ä»¥ç‰¹åœ°å‰æ¥å†™ä¸‹è¿™ç¯‡æ–‡ç« è¿›è¡Œå¤ä¹ ã€‚ï¼ˆæœ¬äººé¢è¯•ç°åœ¨çš„å…¬å¸å°±æ˜¯æ¥åšå®‰å“çš„ï¼Œä½†æ˜¯äººæ‰‹ä¸å¤Ÿè®©æˆ‘åšåšå‰ç«¯ï¼‰</p><span id="more"></span><h3 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h3><p>å®‰å“ç°åœ¨æ¯”è¾ƒçƒ­ç«çš„å››å¤§æ¡†æ¶åº”è¯¥æ˜¯Rxjavaï¼Œretrofitï¼ŒOkhttpï¼ŒDaggerã€‚äºæ˜¯æˆ‘å»ç¿»å„ç§åšæ–‡è‡ªå·±å°è¯•ç€å»å†™ä¸€ä¸ªå°demoã€‚é¦–å…ˆæ¥çœ‹çœ‹æˆ‘ä»¬è¿™ä¸ªå°demoçš„ä¸€ä¸ªæ•ˆæœå›¾ï¼š<br><img src="/images/%E8%AF%95%E7%94%A8RxJava%E5%8A%A0Retrofit%E6%95%88%E6%9E%9C%E5%9B%BE.gif" alt="æ•ˆæœå›¾.gif"><br>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬è¿™ä¸ªdemoå°±æ˜¯è°ƒç”¨äº†ä¸€ä¸ªæ¥å£ï¼Œæœ‰ä¸€ä¸ªæ»‘åŠ¨åˆ—è¡¨ï¼Œæœ‰å›¾ç‰‡ï¼Œæœ‰çš„æ˜¯è§†é¢‘ï¼Œç‚¹è¿›å»å¯ä»¥è§‚çœ‹è§†é¢‘ã€‚ä¸€ä¸ªå¾ˆç®€å•çš„App DEMOã€‚å¥½äº†åºŸè¯ä¸å¤šè¯´ï¼Œè®©æˆ‘ä»¬å¼€å§‹å§ï¼<br><strong>ç¬¬ä¸€</strong>ï¼Œå…ˆæ¥çœ‹çœ‹æˆ‘ä»¬æ•´ä¸ªé¡¹ç›®å¼•å…¥çš„ä¾èµ–ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])</span><br><span class="line">implementation &#39;com.android.support:appcompat-v7:27.1.0&#39;</span><br><span class="line">implementation &#39;com.android.support:recyclerview-v7:27.1.0&#39;</span><br><span class="line">implementation &#39;com.android.support:cardview-v7:27.1.0&#39;</span><br><span class="line">implementation &#39;com.android.support.constraint:constraint-layout:1.0.2&#39;</span><br><span class="line">testImplementation &#39;junit:junit:4.12&#39;</span><br><span class="line">androidTestImplementation &#39;com.android.support.test:runner:1.0.1&#39;</span><br><span class="line">androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.1&#39;</span><br><span class="line">&#x2F;&#x2F;æœ€ä¸»è¦çš„æ˜¯ä¸‹é¢è¿™å‡ æ¡</span><br><span class="line">implementation &quot;io.reactivex.rxjava2:rxjava:2.1.10&quot;</span><br><span class="line">implementation &#39;io.reactivex.rxjava2:rxandroid:2.0.2&#39;</span><br><span class="line">implementation &#39;com.squareup.retrofit2:retrofit:2.4.0&#39;</span><br><span class="line">implementation &#39;com.squareup.retrofit2:converter-gson:2.3.0&#39;</span><br><span class="line">implementation &#39;com.squareup.retrofit2:adapter-rxjava2:2.3.0&#39;</span><br><span class="line">implementation &#39;com.github.bumptech.glide:glide:4.6.1&#39;</span><br></pre></td></tr></table></figure><p>å…¶æ¬¡æ¥çœ‹çœ‹æˆ‘ä»¬æ•´ä¸ªé¡¹ç›®çš„ä¸€ä¸ªç»“æ„å›¾ï¼ˆMVPæ¶æ„ï¼Œç›´æ¥ç”¨MVPHelperç”Ÿæˆçš„ï¼‰ï¼š<br><img src="/images/%E8%AF%95%E7%94%A8RxJava%E5%8A%A0Retrofit%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%9B%BE.webp" alt="é¡¹ç›®ç»“æ„å›¾"><br>ç°åœ¨æ¥ä»‹ç»ä¸€ä¸‹æ•´ä¸ªé¡¹ç›®ç»“æ„ï¼š</p><ul><li>contractåŒ…é‡Œé¢æ”¾çš„æ˜¯æ¥å£ï¼Œç”¨æ¥çº¦æŸåé¢çš„å¼€å‘ï¼›</li><li>modelé‡Œé¢å°±æ˜¯å®ä½“ç±»å¯¹è±¡å’Œæä¾›åå°æ•°æ®çš„è¯·æ±‚æ¥å£ï¼›</li><li>presenterï¼Œå¾ˆæ˜æ˜¾å°±æ˜¯MVPä¸­çš„Pï¼Œä¸»æŒè€…ç±»ï¼›</li><li>viewé‡Œé¢æœ¬æ¥æˆ‘æ˜¯è¦æŠŠactivityä¹Ÿæ”¾è¿›å»çš„ï¼Œä½†æ˜¯æ²¡æ”¾ï¼Œé‡Œé¢å°±æ”¾äº†ä¸€ä¸ªRecyclerViewçš„é€‚é…å™¨ã€‚</li><li>utilsé‡Œé¢æ˜¯ä¸€ä¸ªåˆ›å»ºRetrofitçš„å·¥å‚ç±»</li></ul><h6 id="è‡³æ­¤ï¼Œæ•´ä¸ªåŒ…çš„é¡¹ç›®ç»“æ„å°±ç®—æ˜¯ä»‹ç»å®Œæˆäº†ã€‚"><a href="#è‡³æ­¤ï¼Œæ•´ä¸ªåŒ…çš„é¡¹ç›®ç»“æ„å°±ç®—æ˜¯ä»‹ç»å®Œæˆäº†ã€‚" class="headerlink" title="è‡³æ­¤ï¼Œæ•´ä¸ªåŒ…çš„é¡¹ç›®ç»“æ„å°±ç®—æ˜¯ä»‹ç»å®Œæˆäº†ã€‚"></a>è‡³æ­¤ï¼Œæ•´ä¸ªåŒ…çš„é¡¹ç›®ç»“æ„å°±ç®—æ˜¯ä»‹ç»å®Œæˆäº†ã€‚</h6><p><strong>ç¬¬äºŒ</strong>ï¼Œåœ¨ä¸»ç•Œé¢å¸ƒå±€æ–‡ä»¶ä¸­åŠ å…¥ä¸€ä¸ªRcyclerViewå’Œä¸€ä¸ªProgressBarï¼Œæ ¹å¸ƒå±€æˆ‘ä»¬ç›´æ¥ä½¿ç”¨çš„æ˜¯ConstraintLayoutï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;android.support.constraint.ConstraintLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class="line">    xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br><span class="line">    xmlns:tools&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;tools&quot;</span><br><span class="line">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class="line">    android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class="line">    tools:context&#x3D;&quot;top.cyixlq.rxtestapp.MainActivity&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;ProgressBar</span><br><span class="line">        android:id&#x3D;&quot;@+id&#x2F;pro&quot;</span><br><span class="line">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">        android:visibility&#x3D;&quot;gone&quot;</span><br><span class="line">        app:layout_constraintBottom_toBottomOf&#x3D;&quot;parent&quot;</span><br><span class="line">        app:layout_constraintEnd_toEndOf&#x3D;&quot;parent&quot;</span><br><span class="line">        app:layout_constraintStart_toStartOf&#x3D;&quot;parent&quot;</span><br><span class="line">        app:layout_constraintTop_toTopOf&#x3D;&quot;parent&quot; &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;android.support.v7.widget.RecyclerView</span><br><span class="line">        android:id&#x3D;&quot;@+id&#x2F;rec&quot;</span><br><span class="line">        android:layout_width&#x3D;&quot;0dp&quot;</span><br><span class="line">        android:layout_height&#x3D;&quot;0dp&quot;</span><br><span class="line">        app:layout_constraintBottom_toBottomOf&#x3D;&quot;parent&quot;</span><br><span class="line">        app:layout_constraintEnd_toEndOf&#x3D;&quot;parent&quot;</span><br><span class="line">        app:layout_constraintStart_toStartOf&#x3D;&quot;parent&quot;</span><br><span class="line">        app:layout_constraintTop_toTopOf&#x3D;&quot;parent&quot; &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;android.support.constraint.ConstraintLayout&gt;</span><br></pre></td></tr></table></figure><p>æ¥ç€å°±æ˜¯åˆ›å»ºä¸€ä¸ªRecyclerViewçš„å•ä¸ªæ¡ç›®å¸ƒå±€æ–‡ä»¶joker_rec_item.xmlï¼Œæ ¹å¸ƒå±€æˆ‘ä»¬ç”¨çš„æ˜¯CardViewï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;android.support.v7.widget.CardView xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class="line">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class="line">    android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">    xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br><span class="line">    app:cardCornerRadius&#x3D;&quot;5dp&quot;</span><br><span class="line">    app:cardElevation&#x3D;&quot;3dp&quot;</span><br><span class="line">    app:contentPadding&#x3D;&quot;5dp&quot;</span><br><span class="line">    android:layout_marginBottom&#x3D;&quot;5dp&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:id&#x3D;&quot;@+id&#x2F;title&quot;</span><br><span class="line">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">        android:text&#x3D;&quot;æ ‡é¢˜&quot;</span><br><span class="line">        android:textSize&#x3D;&quot;15sp&quot;&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:id&#x3D;&quot;@+id&#x2F;content&quot;</span><br><span class="line">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">        android:textSize&#x3D;&quot;10sp&quot;</span><br><span class="line">        android:layout_marginTop&#x3D;&quot;20dp&quot;</span><br><span class="line">        android:text&#x3D;&quot;å†…å®¹&quot;&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;ImageView</span><br><span class="line">        android:id&#x3D;&quot;@+id&#x2F;img&quot;</span><br><span class="line">        android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class="line">        android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">        android:layout_marginTop&#x3D;&quot;40dp&quot;&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;android.support.v7.widget.CardView&gt;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºè¿™ä¸ªå¸ƒå±€å¾ˆç®€å•ï¼Œå°±æ˜¯æ ‡é¢˜å†…å®¹éƒ½æ˜¯TextViewï¼Œè¿˜æœ‰ä¸€ä¸ªImageViewæ¥å±•ç¤ºå›¾ç‰‡ã€‚<br>ç„¶åæŠŠçº¦æŸç±»å»ºç«‹èµ·æ¥ï¼ŒJokerContractï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">public interface JokerContract &#123;</span><br><span class="line">    interface Model &#123;</span><br><span class="line">        void getJokerList(String type,String page,Observer&lt;Joker&gt; observer);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    interface View &#123;</span><br><span class="line">        void showJokerList(List&lt;Joker.DataBean&gt; list);</span><br><span class="line">        void getJokerListFinish();</span><br><span class="line">        void getJokerListErro(String msg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    interface Presenter &#123;</span><br><span class="line">        void getJokerList(String type,String page);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç¬¬ä¸‰</strong>ï¼Œå®Œæˆæˆ‘ä»¬çš„Retrofitçš„å·¥å‚ç±»RetrofitFactoryï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">public class RetrofitFactory &#123;</span><br><span class="line">    private final static String BASE_URL&#x3D;&quot;https:&#x2F;&#x2F;www.apiopen.top&#x2F;&quot;;</span><br><span class="line">    private static final long TIMEOUT &#x3D; 30;</span><br><span class="line">    private static JokerApiService jokerApiService&#x3D;new Retrofit.Builder()</span><br><span class="line">            .baseUrl(BASE_URL)</span><br><span class="line">            &#x2F;&#x2F;æ·»åŠ Gsonè½¬æ¢å™¨</span><br><span class="line">            .addConverterFactory(GsonConverterFactory.create())</span><br><span class="line">            &#x2F;&#x2F;&#x2F;&#x2F; æ·»åŠ Retrofitåˆ°RxJavaçš„è½¬æ¢å™¨</span><br><span class="line">            .addCallAdapterFactory(RxJava2CallAdapterFactory.create())</span><br><span class="line">            .build()</span><br><span class="line">            .create(JokerApiService.class);</span><br><span class="line"></span><br><span class="line">    public static JokerApiService getJokerApiService()&#123;</span><br><span class="line">        return jokerApiService;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç¬¬å››</strong>ï¼Œå®ŒæˆMå±‚ï¼Œå…ˆå®Œæˆæ¥å£apiçš„è¯·æ±‚ï¼Œåœ¨modelåŒ…ä¸­çš„apiservicesåŒ…ä¸­æ–°å»ºä¸€ä¸ªæ¥å£ï¼ŒJokerApiServiceï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public interface JokerApiService &#123;</span><br><span class="line">    @GET(&quot;satinApi&quot;)</span><br><span class="line">    Observable&lt;Joker&gt; getJokerList(@Query(&quot;type&quot;)String type,@Query(&quot;page&quot;)String page);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶ååˆ©ç”¨GsonFormatåˆ›å»ºå®ä½“ç±»Jokerï¼ˆå†…å®¹æœ‰ç‚¹é•¿ï¼Œä½†æ˜¯å…¶å®æˆ‘ä»¬ä¼šç”¨åˆ°çš„å±æ€§ä¸å¤šï¼‰ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">public class Joker &#123;</span><br><span class="line">    private int code;</span><br><span class="line">    private String msg;</span><br><span class="line">    private List&lt;DataBean&gt; data;</span><br><span class="line">    &#x2F;&#x2F;getå’Œsetçœç•¥</span><br><span class="line">    public static class DataBean &#123;</span><br><span class="line">        private String type;</span><br><span class="line">        private String text;</span><br><span class="line">        private String user_id;</span><br><span class="line">        private String name;</span><br><span class="line">        private String screen_name;</span><br><span class="line">        private String profile_image;</span><br><span class="line">        private String created_at;</span><br><span class="line">        private Object create_time;</span><br><span class="line">        private String passtime;</span><br><span class="line">        private String love;</span><br><span class="line">        private String hate;</span><br><span class="line">        private String comment;</span><br><span class="line">        private String repost;</span><br><span class="line">        private String bookmark;</span><br><span class="line">        private String bimageuri;</span><br><span class="line">        private Object voiceuri;</span><br><span class="line">        private Object voicetime;</span><br><span class="line">        private Object voicelength;</span><br><span class="line">        private String status;</span><br><span class="line">        private String theme_id;</span><br><span class="line">        private String theme_name;</span><br><span class="line">        private String theme_type;</span><br><span class="line">        private String videouri;</span><br><span class="line">        private int videotime;</span><br><span class="line">        private String original_pid;</span><br><span class="line">        private int cache_version;</span><br><span class="line">        private String playcount;</span><br><span class="line">        private String playfcount;</span><br><span class="line">        private String cai;</span><br><span class="line">        private Object weixin_url;</span><br><span class="line">        private String image1;</span><br><span class="line">        private String image2;</span><br><span class="line">        private boolean is_gif;</span><br><span class="line">        private String image0;</span><br><span class="line">        private String image_small;</span><br><span class="line">        private String cdn_img;</span><br><span class="line">        private String width;</span><br><span class="line">        private String height;</span><br><span class="line">        private String tag;</span><br><span class="line">        private int t;</span><br><span class="line">        private String ding;</span><br><span class="line">        private String favourite;</span><br><span class="line">        private Object top_cmt;</span><br><span class="line">        private Object themes;</span><br><span class="line">        &#x2F;&#x2F;getå’Œsetçœç•¥</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥ç€å°±æ˜¯æŠŠModelç±»å»ºèµ·æ¥ï¼ŒJokerModelï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public class JokerModel implements JokerContract.Model &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void getJokerList(String type, String page, Observer&lt;Joker&gt; observer) &#123;</span><br><span class="line">        JokerApiService apiService&#x3D;RetrofitFactory.getJokerApiService();  &#x2F;&#x2F;è·å–æ¥å£</span><br><span class="line">        Observable&lt;Joker&gt; observable&#x3D; apiService.getJokerList(type,page);  &#x2F;&#x2F;åˆ©ç”¨æ¥å£è·å–æ•°æ®</span><br><span class="line">        observable.subscribeOn(Schedulers.io()).observeOn(AndroidSchedulers.mainThread())</span><br><span class="line">                .subscribe(observer); &#x2F;&#x2F;åœ¨IOçº¿ç¨‹æ‰§è¡Œï¼Œå‘é€ç»“æœåˆ°ä¸»çº¿ç¨‹</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="è¿™æ ·ï¼ŒMå±‚ç®—æ˜¯å®Œæˆäº†ã€‚"><a href="#è¿™æ ·ï¼ŒMå±‚ç®—æ˜¯å®Œæˆäº†ã€‚" class="headerlink" title="è¿™æ ·ï¼ŒMå±‚ç®—æ˜¯å®Œæˆäº†ã€‚"></a>è¿™æ ·ï¼ŒMå±‚ç®—æ˜¯å®Œæˆäº†ã€‚</h6><p><strong>ç¬¬äº”</strong>ï¼Œå®ŒæˆPå±‚ï¼Œæ–°å»ºJokerPresenterï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">public class JokerPresenter implements JokerContract.Presenter &#123;</span><br><span class="line"></span><br><span class="line">    JokerContract.Model mModel;</span><br><span class="line">    JokerContract.View mView;</span><br><span class="line"></span><br><span class="line">    public JokerPresenter(JokerContract.View view)&#123;</span><br><span class="line">        mModel&#x3D;new JokerModel();</span><br><span class="line">        this.mView&#x3D;view;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void getJokerList(String type, String page) &#123;</span><br><span class="line">        mModel.getJokerList(type,page,new Observer&lt;Joker&gt;()&#123;</span><br><span class="line"></span><br><span class="line">            @Override</span><br><span class="line">            public void onSubscribe(Disposable d) &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            @Override</span><br><span class="line">            public void onNext(Joker joker) &#123;</span><br><span class="line">                List&lt;Joker.DataBean&gt; list&#x3D;joker.getData();</span><br><span class="line">                mView.showJokerList(list);  &#x2F;&#x2F;è§†å›¾å±‚å°†åˆ—è¡¨ç»“æœå±•ç¤ºå‡ºæ¥</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            @Override</span><br><span class="line">            public void onError(Throwable e) &#123;</span><br><span class="line">                mView.getJokerListErro(e.getMessage());    &#x2F;&#x2F;è§†å›¾å±‚å°†é”™è¯¯ä¿¡æ¯æ˜¾ç¤ºå‡ºæ¥</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            @Override</span><br><span class="line">            public void onComplete() &#123;</span><br><span class="line">                mView.getJokerListFinish();    &#x2F;&#x2F;è§†å›¾å±‚å®Œæˆæ•°æ®è·å–çŠ¶æ€</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="è‡³æ­¤ï¼ŒPå±‚ç®—æ˜¯å®Œæˆäº†ã€‚"><a href="#è‡³æ­¤ï¼ŒPå±‚ç®—æ˜¯å®Œæˆäº†ã€‚" class="headerlink" title="è‡³æ­¤ï¼ŒPå±‚ç®—æ˜¯å®Œæˆäº†ã€‚"></a>è‡³æ­¤ï¼ŒPå±‚ç®—æ˜¯å®Œæˆäº†ã€‚</h6><p><strong>ç¬¬å…­</strong>ï¼Œå®ŒæˆVå±‚ï¼Œä¹Ÿå°±æ˜¯è§†å›¾å±‚ï¼Œåœ¨ç¬¬ä¸€æ­¥ä¸­æˆ‘ä»¬å·²ç»æŠŠå„ç§å¸ƒå±€å†™å®Œäº†ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸»è¦å†™activityå’ŒRecyclerViewçš„é€‚é…å™¨ã€‚å…ˆæ¥å†™é€‚é…å™¨ï¼ŒJokerAdapterï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">public class JokerAdapter extends RecyclerView.Adapter&lt;JokerAdapter.MyViewHolder&gt; &#123;</span><br><span class="line">    private List&lt;Joker.DataBean&gt; list;</span><br><span class="line">    private Context mContext;</span><br><span class="line">    private OnItemClickListener mOnItemClickListener;</span><br><span class="line"></span><br><span class="line">    public JokerAdapter(List&lt;Joker.DataBean&gt; list,Context context)&#123;</span><br><span class="line">        this.list&#x3D;list;</span><br><span class="line">        this.mContext&#x3D;context;</span><br><span class="line">    &#125;</span><br><span class="line">    @Override</span><br><span class="line">    public MyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) &#123;</span><br><span class="line">        View view&#x3D; LayoutInflater.from(parent.getContext()).inflate(R.layout.joker_rec_item,parent,false);</span><br><span class="line">        MyViewHolder viewHolder&#x3D;new MyViewHolder(view);</span><br><span class="line">        return viewHolder;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void onBindViewHolder(MyViewHolder holder, final int position) &#123;</span><br><span class="line">        holder.txt_title.setText(list.get(position).getName());</span><br><span class="line">        holder.txt_content.setText(list.get(position).getText());</span><br><span class="line">        Glide.with(mContext).load(list.get(position).getBimageuri()).into(holder.img);</span><br><span class="line">        if(mOnItemClickListener!&#x3D;null)&#123;</span><br><span class="line">            holder.itemView.setOnClickListener(new View.OnClickListener() &#123;</span><br><span class="line">                @Override</span><br><span class="line">                public void onClick(View view) &#123;</span><br><span class="line">                    mOnItemClickListener.onClick(position);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public int getItemCount() &#123;</span><br><span class="line">        return list.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;æœ¬æ¥è¿™ä¸ªå†…éƒ¨ç±»æ˜¯æ²¡æœ‰è®¾ç½®æˆé™æ€çš„ï¼Œä½†æ˜¯å¬è¯´ä¸æ˜¯é™æ€çš„ä¼šé€ æˆå†…å­˜æ³„æ¼ï¼Ÿè¿˜æœ›å¤§ç¥ç»™æˆ‘è¿™ä¸ªå°ç™½è§£ç­”ä¸€ä¸‹,æ„Ÿæ¿€ä¸å°½!</span><br><span class="line">    static class MyViewHolder extends RecyclerView.ViewHolder&#123;</span><br><span class="line"></span><br><span class="line">        TextView txt_title;</span><br><span class="line">        TextView txt_content;</span><br><span class="line">        ImageView img;</span><br><span class="line"></span><br><span class="line">        public MyViewHolder(View itemView) &#123;</span><br><span class="line">            super(itemView);</span><br><span class="line">            txt_title&#x3D;itemView.findViewById(R.id.title);</span><br><span class="line">            txt_content&#x3D;itemView.findViewById(R.id.content);</span><br><span class="line">            img&#x3D;itemView.findViewById(R.id.img);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;ç‚¹å‡»äº‹ä»¶æ¥å£</span><br><span class="line">    public interface OnItemClickListener&#123;</span><br><span class="line">        void onClick( int position);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;è®¾ç½®ç‚¹å‡»äº‹ä»¶</span><br><span class="line">    public void setOnItemClickListener(OnItemClickListener onItemClickListener )&#123;</span><br><span class="line">        this.mOnItemClickListener&#x3D;onItemClickListener;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šå°±æ˜¯æˆ‘çš„é€‚é…å™¨çš„æ‰€æœ‰ä»£ç ï¼Œå…¶ä¸­æœ‰ä¸ªé—®é¢˜æƒ³è¯·æ•™è¯¸ä½å¤§ç¥ï¼Œè¿˜è¯·å¤§ç¥ä¸åèµæ•™ï¼šViewHolderé‚£ä¸ªå†…éƒ¨ç±»æ˜¯æ²¡æœ‰è®¾ç½®æˆé™æ€çš„ï¼Œä½†æ˜¯å¬è¯´ä¸æ˜¯é™æ€çš„ä¼šé€ æˆå†…å­˜æ³„æ¼ï¼Ÿè¿˜æœ›å¤§ç¥ç»™æˆ‘è¿™ä¸ªå°ç™½è§£ç­”ä¸€ä¸‹,æ„Ÿæ¿€ä¸å°½!<br>æ¥ç€å°±æ˜¯MainActivityï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">public class MainActivity extends AppCompatActivity implements JokerContract.View&#123;</span><br><span class="line"></span><br><span class="line">    public static final String TAG&#x3D;&quot;MainActivity&quot;;</span><br><span class="line"></span><br><span class="line">    JokerPresenter mPresenter;</span><br><span class="line">    JokerAdapter mAdapter;</span><br><span class="line">    List&lt;Joker.DataBean&gt; mList;</span><br><span class="line"></span><br><span class="line">    private RecyclerView mRecyclerView;</span><br><span class="line">    private ProgressBar mProgressBar;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        mPresenter&#x3D;new JokerPresenter(this);</span><br><span class="line">        mRecyclerView&#x3D;findViewById(R.id.rec);</span><br><span class="line">        mProgressBar&#x3D;findViewById(R.id.pro);</span><br><span class="line">        initData();</span><br><span class="line">        mPresenter.getJokerList(&quot;29&quot;,&quot;1&quot;); &#x2F;&#x2F;æˆ‘ä»¬åªè·å–äº†ç¬¬ä¸€é¡µçš„æ•°æ®</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private void initData()&#123;</span><br><span class="line">        mList&#x3D;new ArrayList&lt;&gt;();</span><br><span class="line">        mAdapter&#x3D;new JokerAdapter(mList,this);</span><br><span class="line">        mAdapter.setOnItemClickListener(new JokerAdapter.OnItemClickListener() &#123; &#x2F;&#x2F;è®¾ç½®ç‚¹å‡»äº‹ä»¶</span><br><span class="line">            @Override</span><br><span class="line">            public void onClick(int position) &#123;</span><br><span class="line">                String url&#x3D;mList.get(position).getVideouri();  &#x2F;&#x2F;è·å–å¯¹åº”çš„è§†é¢‘é“¾æ¥ï¼Œå¹¶ä¸”é€šè¿‡intentæºå¸¦é“¾æ¥è¿›è¡Œè·³è½¬</span><br><span class="line">                Intent intent&#x3D;new Intent(MainActivity.this,VideoPlayActivity.class);</span><br><span class="line">                intent.putExtra(&quot;url&quot;,url);</span><br><span class="line">                startActivity(intent);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        LinearLayoutManager manager&#x3D;new LinearLayoutManager(MainActivity.this);</span><br><span class="line">        mRecyclerView.setLayoutManager(manager);</span><br><span class="line">        mRecyclerView.setAdapter(mAdapter);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void showJokerList(List&lt;Joker.DataBean&gt; list) &#123;</span><br><span class="line">        mProgressBar.setVisibility(View.VISIBLE);</span><br><span class="line">        mList.addAll(list);</span><br><span class="line">        mAdapter.notifyDataSetChanged();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void getJokerListFinish() &#123;</span><br><span class="line">        mProgressBar.setVisibility(View.GONE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void getJokerListErro(String msg) &#123;</span><br><span class="line">        Toast.makeText(this, msg, Toast.LENGTH_SHORT).show();</span><br><span class="line">        Log.e(TAG,msg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="è‡³æ­¤ï¼ŒVå±‚ç®—æ˜¯å®Œæˆäº†ã€‚"><a href="#è‡³æ­¤ï¼ŒVå±‚ç®—æ˜¯å®Œæˆäº†ã€‚" class="headerlink" title="è‡³æ­¤ï¼ŒVå±‚ç®—æ˜¯å®Œæˆäº†ã€‚"></a>è‡³æ­¤ï¼ŒVå±‚ç®—æ˜¯å®Œæˆäº†ã€‚</h6><p><strong>ç¬¬ä¸ƒ</strong>ï¼Œå°±æ˜¯å®ŒæˆVideoActivityå•¦ï¼Œæˆ‘ç›´æ¥ç”¨çš„VideoViewæ¥æ’­æ”¾ç½‘ç»œè§†é¢‘ï¼Œå…ˆæŠŠVideoActivityå¸ƒå±€æ–‡ä»¶å†™å¥½ï¼Œactivity_video_play.xmlï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;android.support.constraint.ConstraintLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class="line">    xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br><span class="line">    xmlns:tools&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;tools&quot;</span><br><span class="line">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class="line">    android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class="line">    tools:context&#x3D;&quot;top.cyixlq.rxtestapp.VideoPlayActivity&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;VideoView</span><br><span class="line">        android:id&#x3D;&quot;@+id&#x2F;video&quot;</span><br><span class="line">        android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class="line">        android:layout_height&#x3D;&quot;wrap_content&quot; &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;android.support.constraint.ConstraintLayout&gt;</span><br></pre></td></tr></table></figure><p>æˆ‘å°±æ˜¯ç›´æ¥æ”¾çš„ä¸€ä¸ªVideoViewã€‚ç„¶åç¼–å†™activityä»£ç ï¼Œè®©VideoViewæ’­æ”¾ç½‘ç»œè§†é¢‘ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">public class VideoPlayActivity extends AppCompatActivity &#123;</span><br><span class="line"></span><br><span class="line">    private VideoView mVideoVIew;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_video_play);</span><br><span class="line">        mVideoVIew&#x3D;findViewById(R.id.video);</span><br><span class="line">        mVideoVIew.setMediaController(new MediaController(this));</span><br><span class="line">        mVideoVIew.setOnCompletionListener(new MediaPlayer.OnCompletionListener() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void onCompletion(MediaPlayer mp) &#123;</span><br><span class="line">                Toast.makeText(VideoPlayActivity.this, &quot;æ’­æ”¾å®Œæˆäº†&quot;, Toast.LENGTH_SHORT).show();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        startPlay();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private void startPlay()&#123;</span><br><span class="line">        Intent intent&#x3D;getIntent();</span><br><span class="line">        String url&#x3D;intent.getStringExtra(&quot;url&quot;);</span><br><span class="line">        if(null!&#x3D;url) &#123;</span><br><span class="line">            mVideoVIew.setVideoURI(Uri.parse(url));</span><br><span class="line">            mVideoVIew.start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±èƒ½è½»æ¾å®ç°VideoViewæ’­æ”¾ç½‘ç»œè§†é¢‘å•¦ã€‚ç„¶åæˆ‘ä»¬æ•´ä¸ªDemoä¹Ÿå°±è¿™æ ·å†™å®Œäº†å“¦ï¼</p><h3 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h3><hr><p>è¿™åªæ˜¯ä¸€ä¸ªç®€å•çš„Demoï¼Œä¸ªäººä¹Ÿæ˜¯åˆšå¼€å§‹æ¥è§¦ä¸ä¹…ï¼Œå¦‚æœè¿˜æœ‰ä»€ä¹ˆåœ°æ–¹å†™çš„ä¸å¯¹ï¼Œè¿˜æœ›å„ä½å¤§ç¥æŒ‡æ•™ï¼Œæœ¬äººä¸èƒœæ„Ÿæ¿€ï¼Œæ±‚å¤§ç¥å¸¦é£ï¼æœ¬Demoçš„GitHubåœ°å€ï¼š<a href="https://github.com/cyixlq/RxTestApp">https://github.com/cyixlq/RxTestApp</a></p><h6 id="æœ¬äººåªæ˜¯ä¸€ä¸ªåœ¨ITæŠ€æœ¯ä¸Šä¸æ–­æ¢ç´¢çš„å°ç™½ï¼Œå¸Œæœ›èƒ½è·Ÿç€å¤§å®¶ä¸€èµ·è¿›æ­¥ï¼Œå¥½çš„ï¼Œä»Šå¤©å°±å†™åˆ°è¿™é‡Œï¼Œç™½äº†ä¸ªç™½"><a href="#æœ¬äººåªæ˜¯ä¸€ä¸ªåœ¨ITæŠ€æœ¯ä¸Šä¸æ–­æ¢ç´¢çš„å°ç™½ï¼Œå¸Œæœ›èƒ½è·Ÿç€å¤§å®¶ä¸€èµ·è¿›æ­¥ï¼Œå¥½çš„ï¼Œä»Šå¤©å°±å†™åˆ°è¿™é‡Œï¼Œç™½äº†ä¸ªç™½" class="headerlink" title="æœ¬äººåªæ˜¯ä¸€ä¸ªåœ¨ITæŠ€æœ¯ä¸Šä¸æ–­æ¢ç´¢çš„å°ç™½ï¼Œå¸Œæœ›èƒ½è·Ÿç€å¤§å®¶ä¸€èµ·è¿›æ­¥ï¼Œå¥½çš„ï¼Œä»Šå¤©å°±å†™åˆ°è¿™é‡Œï¼Œç™½äº†ä¸ªç™½!"></a>æœ¬äººåªæ˜¯ä¸€ä¸ªåœ¨ITæŠ€æœ¯ä¸Šä¸æ–­æ¢ç´¢çš„å°ç™½ï¼Œå¸Œæœ›èƒ½è·Ÿç€å¤§å®¶ä¸€èµ·è¿›æ­¥ï¼Œå¥½çš„ï¼Œä»Šå¤©å°±å†™åˆ°è¿™é‡Œï¼Œç™½äº†ä¸ªç™½!</h6>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h3&gt;&lt;p&gt;è¿™æ®µæ—¶é—´æˆ‘å·²ç»åœ¨ä¸€ä¸ªå…¬å¸å®ä¹ äº†ï¼Œè™½ç„¶å·¥èµ„ä¸é«˜ï¼Œæˆ‘å¹¶æ²¡æœ‰å¤ªå¤šçš„ä»‹æ„ã€‚ä½†æ˜¯æœ‰ä¸€ç‚¹æ˜¯æˆ‘ä¸èˆ’æœçš„ï¼Œè´Ÿè´£æˆ‘ä»¬éƒ¨é—¨çš„ç»ç†åŠ©ç†ä¼¼ä¹çœ‹ä¸èµ·å®ä¹ ç”Ÿï¼Œå¯¹æˆ‘æœ‰äº›è½»è”‘ã€‚ä¸»è¦æ˜¯ä»–æŠ€æœ¯ä¹Ÿä¸æ˜¯å¾ˆç‰›é€¼é‚£ç§ã€‚æ•´ä¸ªå…¬å¸ç”¨çš„æŠ€æœ¯è¿˜æ˜¯æ¯”è¾ƒè½åé‚£ç§ã€‚å½“æˆ‘æ¨èVueæ—¶ç«Ÿç„¶è¯´è¿™ç§åˆ«äººå°è£…å¥½çš„jsä¸å¤ªå¥½ã€‚å½“æ—¶å†…å¿ƒæœ‰ä¸€åƒæ¡è‰æ³¥é©¬å¥”è·‘ï¼Œé‚£ä½ ä¸ºä»€ä¹ˆè¿˜è¦ç”¨jQueryï¼Ÿsoï¼Œæˆ‘æ‰“ç®—è·³æ§½ï¼Œè·³å»æ›´æœ‰å‘å±•çš„å…¬å¸ï¼Œæ¯•ç«Ÿæˆ‘ç°åœ¨æ˜¯å®ä¹ ï¼Œä¸»è¦è¿˜æ˜¯å¸Œæœ›å¾—åˆ°æˆé•¿~äºæ˜¯æ¥åˆ°äº†ä¸€ä¸ªå®‰å“é¢è¯•ï¼Œæ‰€ä»¥ç‰¹åœ°å‰æ¥å†™ä¸‹è¿™ç¯‡æ–‡ç« è¿›è¡Œå¤ä¹ ã€‚ï¼ˆæœ¬äººé¢è¯•ç°åœ¨çš„å…¬å¸å°±æ˜¯æ¥åšå®‰å“çš„ï¼Œä½†æ˜¯äººæ‰‹ä¸å¤Ÿè®©æˆ‘åšåšå‰ç«¯ï¼‰&lt;/p&gt;</summary>
    
    
    
    <category term="Android" scheme="https://www.cyixlq.top/categories/Android/"/>
    
    
    <category term="Androidæ–°æŠ€æœ¯ç¬”è®°" scheme="https://www.cyixlq.top/tags/Android%E6%96%B0%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨Vueåšä¸€ä¸ªè´­ç‰©è½¦</title>
    <link href="https://www.cyixlq.top/2018/05/19/%E4%BD%BF%E7%94%A8Vue%E5%81%9A%E4%B8%80%E4%B8%AA%E8%B4%AD%E7%89%A9%E8%BD%A6/"/>
    <id>https://www.cyixlq.top/2018/05/19/%E4%BD%BF%E7%94%A8Vue%E5%81%9A%E4%B8%80%E4%B8%AA%E8%B4%AD%E7%89%A9%E8%BD%A6/</id>
    <published>2018-05-19T13:27:52.000Z</published>
    <updated>2021-04-12T02:40:53.585Z</updated>
    
    <content type="html"><![CDATA[<h4 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h4><p>æœ¬äººåˆšå¤§ä¸‰ï¼Œç°åœ¨åˆ°äº†ä¸‹å­¦æœŸï¼Œå­¦æ ¡ä¸è®©æˆ‘ä»¬å›å»ï¼Œèµ¶æˆ‘ä»¬å‡ºå»å®ä¹ ã€‚å—¯ã€‚ã€‚ã€‚æˆ‘æ˜¯å¤§ä¸“ç‹—ï¼Œä¸è¿‡ä¸€ç›´çƒ­çˆ±æŠ€æœ¯ã€‚åªæ€ªå½“åˆé«˜ä¸­ç ”ç©¶æ‰‹æœºåˆ·æœºåŒ…ç­‰æŠ€æœ¯è’åºŸäº†å­¦ä¸šï¼ˆæœ‰ç‚¹åæ‚”äº†ï¼Œæ–‡å‡­ä¸å¥½çœ‹äº†ï¼‰ï¼Œå…¶å®å¾ˆå–œæ¬¢ITçš„ï¼Œä½†æ˜¯å½“æ—¶æ²¡ç”µè„‘ï¼ŒJavaéƒ½æ²¡å…¥é—¨ã€‚ï¼ˆå¥½åƒé—²è¯æœ‰ç‚¹å¤šï¼‰</p><h4 id="å‡æ­£æ–‡"><a href="#å‡æ­£æ–‡" class="headerlink" title="å‡æ­£æ–‡"></a>å‡æ­£æ–‡</h4><p>æœ€è¿‘æˆ‘å®ä¹ çš„å…¬å¸åœ¨åšç½‘ä¸Šå•†åŸçš„ä¸€ä¸ªé¡¹ç›®ï¼Œæˆ‘è´Ÿè´£è´­ç‰©è½¦è¿™ä¸€å—ã€‚è¿™ä¸ªé¡¹ç›®æ˜¯ä¸€ä¸ªWebé¡¹ç›®ï¼Œæ²¡æœ‰è¿›è¡Œå‰åç«¯åˆ†ç¦»ï¼Œä½†æ˜¯åˆå¾—åšæ‰‹æœºç«¯ï¼Œæ„Ÿè§‰å¥½åƒå“ªé‡Œä¸å¯¹ã€‚ã€‚ã€‚ </p><span id="more"></span><p>webæ¡†æ¶ä½¿ç”¨çš„æ˜¯SpringMVCï¼Œæ¨¡æ¿æ¡†æ¶æ˜¯FreeMarkerï¼Œæƒ³åˆ°ä»¥åè¦åšç§»åŠ¨ç«¯ï¼Œæœæ–­è¿˜æ˜¯ç”¨jsonæ¥è¿›è¡Œæ•°æ®äº¤äº’ï¼Œå¹¶æ²¡æœ‰ç”¨freemarkerã€‚ç½‘é¡µé™æ€æ–‡ä»¶å…¨éƒ¨å†™å¥½äº†ï¼Œæ”¾åœ¨äº†springmvcçš„Viewsä¸­ã€‚æŒ‰ç†æ¥è¯´è¿˜æ˜¯è¿›è¡Œå‰åç«¯åˆ†ç¦»å¥½ç‚¹çš„ï¼Œä½†æ˜¯åšç½‘é¡µçš„æ²¡æ¥è§¦è¿‡Vueï¼Œé‚£å¥½å§ã€‚ã€‚ã€‚<br>äºæ˜¯æˆ‘å°±æƒ³åˆ°åœ¨é¡µé¢ç›´æ¥å¼•å…¥Vueï¼Œå¯æ˜¯åˆæ˜¯åœ¨å†…ç½‘ç¯å¢ƒå¼€å‘ï¼Œåªå¥½åœ¨è‡ªå·±ä¸ªäººç¬”è®°æœ¬ä¸Šä¸‹è½½vue.jså†æ‹·è´åˆ°å†…ç½‘ç”µè„‘ä¸Šè¿›è¡Œé¡µé¢ä¸Šçš„å¼•å…¥ã€‚</p><h4 id="çœŸæ­£æ–‡"><a href="#çœŸæ­£æ–‡" class="headerlink" title="çœŸæ­£æ–‡"></a>çœŸæ­£æ–‡</h4><p>é¦–å…ˆè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹é™æ€é¡µé¢çš„æ•ˆæœå›¾ï¼š<img src="/images/%E8%B4%AD%E7%89%A9%E8%BD%A6%E9%9D%99%E6%80%81%E6%95%88%E6%9E%9C%E5%9B%BE.webp" alt="é™æ€é¡µé¢æ•ˆæœå›¾"></p><h5 id="ç®€å•è¯´ä¸€ä¸‹è¿™ä¸ªåŠŸèƒ½æ¨¡å—çš„éœ€æ±‚ï¼š"><a href="#ç®€å•è¯´ä¸€ä¸‹è¿™ä¸ªåŠŸèƒ½æ¨¡å—çš„éœ€æ±‚ï¼š" class="headerlink" title="ç®€å•è¯´ä¸€ä¸‹è¿™ä¸ªåŠŸèƒ½æ¨¡å—çš„éœ€æ±‚ï¼š"></a>ç®€å•è¯´ä¸€ä¸‹è¿™ä¸ªåŠŸèƒ½æ¨¡å—çš„éœ€æ±‚ï¼š</h5><ol><li>å‹¾é€‰å…¨é€‰ï¼Œæ‰€æœ‰å•†å“å…¨éƒ¨é€‰ä¸­ã€‚åœ¨å–æ¶ˆå…¨é€‰æ¡†çš„æ—¶å€™æ‰€æœ‰å•†å“å–æ¶ˆé€‰æ‹©ã€‚</li><li>ç‚¹å‡»å•ä¸ªå•†å“ä¸Šçš„åŠ å·å‡å·è¿›è¡Œæ•°é‡çš„å¢åŠ å’Œå‡å°‘ï¼Œå³è¾¹å°è®¡å®æ—¶è®¡ç®—å‡ºè¿™ä¸ªå•†å“çš„ä»·æ ¼åˆè®¡ã€‚</li><li>ç‚¹å‡»å•ä¸ªå•†å“ä¸Šçš„åˆ é™¤æŒ‰é’®å°†å•†å“ä»è´­ç‰©è½¦ä¸­åˆ é™¤ã€‚</li><li>åº•éƒ¨å·²é€‰å®æ—¶æ˜¾ç¤ºå·²ç»å‹¾é€‰çš„å•†å“ï¼Œå³è¾¹åˆè®¡é‡‘é¢å®æ—¶æ˜¾ç¤ºæ‰€æœ‰å‹¾é€‰çš„å•†å“çš„å°è®¡ä¹‹å’Œã€‚<br>(æ˜¯çš„ï¼Œéœ€æ±‚çœ‹èµ·æ¥ä¸å¤šï¼Œä½†æ˜¯è¦ç»“åˆåå°å»åšè¿˜æ˜¯éœ€è¦ç‚¹åŠŸå¤«çš„ï¼Œä½†æ˜¯è¿™ç¯‡æ–‡ç« æˆ‘ä»¬ä¸ç‰µæ‰¯åå°ï¼Œåœ¨å‰å°é€ æ•°æ®)<h5 id="ç°åœ¨è®©æˆ‘ä»¬å¼€å§‹å§"><a href="#ç°åœ¨è®©æˆ‘ä»¬å¼€å§‹å§" class="headerlink" title="ç°åœ¨è®©æˆ‘ä»¬å¼€å§‹å§"></a>ç°åœ¨è®©æˆ‘ä»¬å¼€å§‹å§</h5></li></ol><p><em><strong>ä¸€</strong></em>ï¼Œåˆ›å»ºä¸€ä¸ªVueå¯¹è±¡ï¼Œè®¾ç½®å¥½æ•°æ®ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var cart; &#x2F;&#x2F;å…¨å±€Vueå¯¹è±¡</span><br><span class="line">&#x2F;&#x2F;é€šè¿‡å°è£…ä¸€ä¸ªæ–¹æ³•æ¥åˆ›å»ºVueå¯¹è±¡</span><br><span class="line">function createVue(list) &#123;  &#x2F;&#x2F;ä¼ å…¥é€šè¿‡åå°è·å–çš„list</span><br><span class="line">  cart &#x3D; new Vue(&#123;</span><br><span class="line">el:&#39;#cart&#39;,</span><br><span class="line">data()&#123;</span><br><span class="line">return &#123;</span><br><span class="line">list:list  &#x2F;&#x2F;å•†å“åˆ—è¡¨</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><em><strong>äºŒ</strong></em>ï¼Œå‡è®¾ä»åå°è¯·æ±‚åˆ°æ•°æ®ï¼Œç„¶åèµ‹å€¼åˆ°Vueå¯¹è±¡ä¸­</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">window.onload &#x3D; function () &#123;</span><br><span class="line">&#x2F;&#x2F;è¯·æ±‚åå°ä»£ç    ã€‚ã€‚ã€‚ã€‚</span><br><span class="line">&#x2F;&#x2F;è¯·æ±‚æˆåŠŸåå°†è·å¾—çš„listèµ‹å€¼ç»™cartçš„list</span><br><span class="line">let list &#x3D; [</span><br><span class="line">&#123;</span><br><span class="line">goodsTitle: &quot;å«é¾™è¾£æ¡&quot;,    &#x2F;&#x2F;å•†å“å</span><br><span class="line">specifications: &quot;å¤§åŒ…&quot;, &#x2F;&#x2F;å•†å“è§„æ ¼</span><br><span class="line">unitPrice: &quot;5&quot;,  &#x2F;&#x2F;å•†å“å•ä»·</span><br><span class="line">subimage1Filename :&quot;20180317eeftyd.jpg&quot;,&#x2F;&#x2F;å•†å“å›¾ç‰‡å</span><br><span class="line">purchaseQuantity: 6&#x2F;&#x2F;å•†å“æ•°é‡</span><br><span class="line">&#125;, </span><br><span class="line">&#123;</span><br><span class="line">goodsTitle: &quot;é›•ç‰Œæ´—è¡£ç²‰&quot;,</span><br><span class="line">specifications: &quot;å¤§åŒ…&quot;,</span><br><span class="line">unitPrice: &quot;13&quot;,</span><br><span class="line">subimage1Filename: &quot;20180317ggptfg.jpg&quot;,</span><br><span class="line">purchaseQuantity: 1</span><br><span class="line">&#125;, </span><br><span class="line">&#123;</span><br><span class="line">goodsTitle: &quot;æ—ºä»”ç‰›å¥¶&quot;,</span><br><span class="line">specifications: &quot;20ç›’è£…&quot;,</span><br><span class="line">unitPrice: &quot;45&quot;,</span><br><span class="line">subimage1Filename: &quot;20180317feftyp.jpg&quot;,</span><br><span class="line">purchaseQuantity: 1</span><br><span class="line">&#125;];</span><br><span class="line">createVue(list);  &#x2F;&#x2F;æ‰§è¡Œåˆ›å»ºVueå¯¹è±¡æ–¹æ³•</span><br><span class="line">&#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><em><strong>ä¸‰</strong></em>ï¼Œä¿®æ”¹htmléƒ¨åˆ†ä»£ç ï¼Œå°†æ•°æ®å±•ç¤ºå‡ºæ¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;tr v-for&#x3D;&quot;(item,index) in list&quot;&gt;</span><br><span class="line">  &lt;td&gt;</span><br><span class="line">&lt;input type&#x3D;&quot;checkbox&quot; :id&#x3D;&quot;&#39;check&#39;+index&quot; name&#x3D;&quot;checkboxs&quot; &#x2F;&gt;</span><br><span class="line">&lt;label :for&#x3D;&quot;&#39;check&#39;+index&quot;&gt;&lt;&#x2F;label&gt;</span><br><span class="line">  &lt;&#x2F;td&gt;</span><br><span class="line">  &lt;td&gt;</span><br><span class="line">&lt;img :src&#x3D;&quot;&#39;è·¯å¾„å‰ç¼€&#x2F;&#39;+item.subimage1Filename&quot; &#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;td&gt;</span><br><span class="line">  &lt;td style&#x3D;&quot;text-align:left;&quot;&gt;</span><br><span class="line">&lt;p&gt;&#123;&#123;item.goodsTitle&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p&gt;è§„æ ¼ï¼š&#123;&#123;item.specifications&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">  &lt;&#x2F;td&gt;</span><br><span class="line">  &lt;td&gt;ï¿¥&#123;&#123;item.unitPrice&#125;&#125;&lt;&#x2F;td&gt;</span><br><span class="line">  &lt;td class&#x3D;&quot;adddel&quot;&gt;</span><br><span class="line">&lt;em v-on:click&#x3D;&quot;minius(index)&quot;&gt;-&lt;&#x2F;em&gt;</span><br><span class="line">&lt;input type&#x3D;&quot;number&quot; v-model.number&#x3D;&quot;item.purchaseQuantity&quot; &#x2F;&gt;</span><br><span class="line">&lt;em v-on:click&#x3D;&quot;add(index)&quot;&gt;+&lt;&#x2F;em&gt;</span><br><span class="line">  &lt;&#x2F;td&gt;</span><br><span class="line">  &lt;td&gt;ï¿¥&#123;&#123;item.unitPrice * item.purchaseQuantity&#125;&#125;&lt;&#x2F;td&gt;</span><br><span class="line">  &lt;td&gt;&lt;button v-on:click&#x3D;&quot;checkDel(index)&quot;&gt;åˆ é™¤&lt;&#x2F;button&gt;&lt;&#x2F;td&gt;</span><br><span class="line">&lt;&#x2F;tr&gt; </span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±èƒ½å°†å•ä¸ªå•†å“éƒ¨åˆ†å…¨éƒ¨å¾ªç¯æ‰“å°å‡ºæ¥ï¼Œå¹¶ä¸”å°†å¯¹åº”çš„ä¿¡æ¯æ‰“å°åœ¨å¯¹åº”ä½ç½®ã€‚æ•ˆæœå›¾å¦‚ä¸‹ï¼š<br><img src="/images/%E6%95%88%E6%9E%9C%E5%9B%BE2_%E5%9B%BE%E7%89%87%E8%B7%AF%E5%BE%84%E6%98%AF%E6%88%91%E9%9A%8F%E4%BE%BF%E5%86%99%E7%9A%84%EF%BC%8C%E6%89%80%E4%BB%A5%E6%B2%A1%E6%9C%89%E5%9B%BE%E7%89%87%E6%98%BE%E7%A4%BA.webp" alt="æ•ˆæœå›¾ï¼Œå›¾ä¸­çš„å›¾ç‰‡åå’Œè·¯å¾„æ˜¯æˆ‘ç¼–çš„ï¼Œæ‰€ä»¥æ‰¾ä¸åˆ°"><br><em><strong>å››</strong></em>ï¼Œå®ç°å…¨é€‰å’Œå‹¾é€‰æ—¶å€™æ€»ä»·çš„è®¡ç®—ï¼Œè¿™éƒ¨åˆ†ç®—æ˜¯æœ‰ç‚¹æŒ‘æˆ˜äº†ã€‚æˆ‘çš„æ€è·¯æ˜¯åœ¨Vueå¯¹è±¡ä¸­æ–°å¢åŠ ä¸€ä¸ªæ•°æ®ç”¨æ¥æ ‡è¯†å•†å“çš„é€‰ä¸­çŠ¶æ€ï¼Œæ‰€ä»¥åˆ›å»ºVueæ–¹æ³•ä¸­çš„ä»£ç æ”¹æˆå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cart &#x3D; new Vue(&#123;</span><br><span class="line">el: &#39;#cart&#39;,</span><br><span class="line">data() &#123;</span><br><span class="line">return &#123;</span><br><span class="line">list: list,</span><br><span class="line">checkeds: new Array(list.length) &#x2F;&#x2F;åˆå§‹åŒ–æˆlistçš„é•¿åº¦</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨htmlä¸­å°†å•†å“å¯¹åº”çš„checkboxä¸checkedsç»‘å®šèµ·æ¥,ä¿®æ”¹åçš„ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type&#x3D;&quot;checkbox&quot; :id&#x3D;&quot;&#39;check&#39;+index&quot; name&#x3D;&quot;checkboxs&quot; v-model&#x3D;&quot;checkeds[index]&quot; &#x2F;&gt;</span><br></pre></td></tr></table></figure><p>åˆ©ç”¨computedå±æ€§è®¡ç®—ä»·æ ¼æ€»å’Œï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sum () &#123;</span><br><span class="line">let sum &#x3D; 0;</span><br><span class="line">for (let i in this.list) &#123;</span><br><span class="line">if (this.checkeds[i])  &#x2F;&#x2F;å¦‚æœcheckeds[i]çš„ç»“æœä¸ºtruthï¼Œåˆ™è¿›è¡Œç´¯åŠ </span><br><span class="line">  sum +&#x3D; this.list[i].unitPrice * this.list[i].purchaseQuantity;</span><br><span class="line">&#125;</span><br><span class="line">return sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>HTMLéƒ¨åˆ†ï¼Œæˆ‘ä»¬åœ¨å¯¹åº”ä½ç½®ç”¨å¸¦å…¥å°±èƒ½è¿›è¡Œæ˜¾ç¤ºäº†ã€‚è¿™æ ·å°±èƒ½å®ç°è®¡ç®—å‹¾é€‰è¿‡çš„å•†å“å°è®¡ä¹‹å’Œäº†ã€‚æ¥ä¸‹æ¥å®ç°å…¨é€‰åŠŸèƒ½ï¼Œåœ¨methodså±æ€§ä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•checkAllï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">checkAll (event) &#123;  &#x2F;&#x2F;è¿™é‡Œçš„eventå°±æ˜¯å…¨é€‰checkboxå¯¹è±¡</span><br><span class="line">if (event.checked) &#123;  &#x2F;&#x2F;å¦‚æœå…¨é€‰çš„checkboxé€‰ä¸­ï¼Œå°†checkedsæ‰€æœ‰çš„å€¼è®¾ç½®ä¸ºtrueï¼Œå¯¹åº”å•†å“checkboxçš„é€‰ä¸­çŠ¶æ€è‡ªåŠ¨æ›´æ–°</span><br><span class="line">for (let i &#x3D; 0; i &lt; this.checkeds.length; i++) &#123;</span><br><span class="line">Vue.set(this.checkeds, i, true);</span><br><span class="line">&#125;</span><br><span class="line"> else &#123;  &#x2F;&#x2F;å¦åˆ™å°±è¿›è¡Œä¸ä¸Šé¢ç›¸åçš„æ“ä½œ</span><br><span class="line">for (let i &#x3D; 0; i &lt; this.checkeds.length; i++) &#123;</span><br><span class="line">Vue.set(this.checkeds, i, false);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»è¿‡ä¸Šé¢çš„ä¸€æ³¢æ“ä½œï¼Œå·²ç»å¯ä»¥å®ç°å…¨é€‰å’Œç‚¹é€‰æ—¶å€™çš„ä»·æ ¼ä¹‹å’Œè®¡ç®—ã€‚æˆ‘ä»¬è¿˜è¦ç»Ÿè®¡å•†å“é€‰ä¸­çš„æ•°é‡ï¼Œè¿™ä¸ªå¾ˆç®€å•ï¼ŒåŒæ ·ä½¿ç”¨computedå±æ€§ï¼Œå¯¹checkedsä¸­ç»“æœä¸ºtruthçš„è¿›è¡Œç»Ÿè®¡å°±å¥½äº†ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">checkNum: function () &#123;</span><br><span class="line">let num &#x3D; 0;</span><br><span class="line">for (let i in this.checkeds) &#123;</span><br><span class="line">if (this.checkeds[i]) &#123;</span><br><span class="line">num++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">return num;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨htmlä¸­çš„å¯¹åº”ä½ç½®ç”¨ä»£å…¥å³å¯ã€‚ç°åœ¨æˆ‘ä»¬å·²ç»å®ç°äº†è¿‘ä¸€åŠéœ€æ±‚ï¼Œè®©æˆ‘ä»¬ç»§ç»­å®Œæˆä»–ä»¬å§ï¼<br><em><strong>äº”</strong></em>ï¼Œå®ç°è´­ç‰©è½¦ç‰©å“å•ä¸ªåˆ é™¤åŠŸèƒ½ï¼Œè¿™ä¸ªå°±å¾ˆç®€å•å•¦ï¼Œæˆ‘ä»¬åœ¨methodsä¸­å¢åŠ ä¸€ä¸ªdelæ–¹æ³•ï¼Œä½¿ç”¨jsæ•°ç»„çš„spliceæ–¹æ³•å°±å¯ä»¥å®ç°ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">del (index) &#123;</span><br><span class="line">    this.list.splice(index, 1);  &#x2F;&#x2F;åªéœ€è¦ä»æ•°ç»„ä¸­ç§»é™¤å¯¹åº”é¡¹ï¼Œè§†å›¾ä¼šè‡ªåŠ¨æ›´æ–°ï¼Œä¸å¾—ä¸è¯´ï¼ŒVueå¤ªæ£’å•¦ï¼</span><br><span class="line">    this.checkeds.splice(index,1); &#x2F;&#x2F;åŒæ—¶åˆ é™¤å¯¹åº”çš„é€‰ä¸­çŠ¶æ€æ ‡è¯†</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åå°±æ˜¯ç»™åˆ é™¤æŒ‰é’®ç»‘å®šç‚¹å‡»äº‹ä»¶(indexæ˜¯å¾ªç¯åˆ—è¡¨æ—¶å€™çš„ä¸‹æ ‡)ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;button v-on:click&#x3D;&quot;del(index)&quot;&gt;åˆ é™¤&lt;&#x2F;button&gt;</span><br></pre></td></tr></table></figure><p>è¿™æ ·æˆ‘ä»¬å°±è½»æ¾å®ç°äº†åˆ é™¤å•ä¸ªå•†å“çš„éœ€æ±‚ï¼Œå½“ç„¶é˜²æ­¢ç”¨æˆ·è¯¯åˆ ï¼Œåœ¨ç”¨æˆ·ç‚¹å‡»åˆ é™¤æŒ‰é’®æ—¶æˆ‘ä»¬å¯ä»¥å¼¹å‡ºä¸€ä¸ªç¡®è®¤æ¡†æç¤ºç”¨æˆ·ï¼Œè¿™é‡Œæˆ‘ä»¬å°±ä¸å»å®ç°äº†ã€‚<br><em><strong>å…­</strong></em>ï¼Œå®ç°è´­ç‰©è½¦å•ä¸ªå•†å“çš„æ•°é‡å¢åŠ ï¼Œå‡å°‘ï¼Œå¹¶å®æ—¶æ›´æ–°å•†å“çš„å°è®¡ã€‚é¦–å…ˆåœ¨methodsä¸­æ·»åŠ å¢åŠ æ–¹æ³•addå’Œå‡å°‘æ–¹æ³•miniusï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">add (index) &#123;</span><br><span class="line">this.list[index].purchaseQuantity++;  &#x2F;&#x2F;è¿™é‡ŒæŒ‰ç†æ¥è¯´åº”è¯¥æŸ¥è¯¢åå°å¯¹åº”å•†å“åº“å­˜é‡æ¥è¿›è¡Œé™åˆ¶çš„ï¼Œè¿™é‡Œä¸æ¶‰åŠåˆ°åå°æ‰€ä»¥æ²¡åŠ </span><br><span class="line">&#125;,</span><br><span class="line">minius (index) &#123;</span><br><span class="line">if (this.list[index].purchaseQuantity &gt; 1) &#123;  &#x2F;&#x2F;è¿™é‡Œæ·»åŠ ä¸€ä¸ªé™åˆ¶ï¼Œæœ€å°‘è¦æœ‰ä¸€ä¸ªå•†å“</span><br><span class="line">this.list[index].purchaseQuantity--;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬åœ¨å¯¹åº”çš„åŠ å’Œå‡çš„æŒ‰é’®ä¸Šç»‘å®šäº‹ä»¶æ¥è§¦å‘è¿™ä¸¤ä¸ªæ–¹æ³•ï¼ˆindexä¸ºåˆ—è¡¨å¾ªç¯æ—¶å€™çš„ä¸‹æ ‡ï¼‰ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;td class&#x3D;&quot;adddel&quot;&gt;</span><br><span class="line">&lt;em v-on:click&#x3D;&quot;minius(index)&quot;&gt;-&lt;&#x2F;em&gt;</span><br><span class="line">&lt;input type&#x3D;&quot;number&quot; v-model.number&#x3D;&quot;item.purchaseQuantity&quot; &#x2F;&gt;</span><br><span class="line">&lt;em v-on:click&#x3D;&quot;add(index)&quot;&gt;+&lt;&#x2F;em&gt;</span><br><span class="line">&lt;&#x2F;td&gt;</span><br><span class="line">&lt;td&gt;ï¿¥&#123;&#123;item.unitPrice * item.purchaseQuantity&#125;&#125;&lt;&#x2F;td&gt;</span><br></pre></td></tr></table></figure><p>ä»ä¸Šé¢çš„ä»£ç å¯ä»¥çœ‹åˆ°æˆ‘ä»¬åœ¨å°è®¡ä¸€æ ç›´æ¥è¿›è¡Œå•†å“å•ä»·å’Œæ•°é‡ç›¸ä¹˜ï¼Œè¿™æ ·å°±å¯ä»¥å®ç°å®æ—¶æ›´æ–°äº†ã€‚</p><h5 id="è‡³æ­¤ï¼Œæˆ‘ä»¬çš„éœ€æ±‚å°±ç®—æ˜¯å®Œæˆäº†ï¼Œæœ€åç»™å¤§å®¶ç•™ä¸¤ä¸ªå°é—®é¢˜æ€è€ƒä¸€ä¸‹"><a href="#è‡³æ­¤ï¼Œæˆ‘ä»¬çš„éœ€æ±‚å°±ç®—æ˜¯å®Œæˆäº†ï¼Œæœ€åç»™å¤§å®¶ç•™ä¸¤ä¸ªå°é—®é¢˜æ€è€ƒä¸€ä¸‹" class="headerlink" title="è‡³æ­¤ï¼Œæˆ‘ä»¬çš„éœ€æ±‚å°±ç®—æ˜¯å®Œæˆäº†ï¼Œæœ€åç»™å¤§å®¶ç•™ä¸¤ä¸ªå°é—®é¢˜æ€è€ƒä¸€ä¸‹"></a>è‡³æ­¤ï¼Œæˆ‘ä»¬çš„éœ€æ±‚å°±ç®—æ˜¯å®Œæˆäº†ï¼Œæœ€åç»™å¤§å®¶ç•™ä¸¤ä¸ªå°é—®é¢˜æ€è€ƒä¸€ä¸‹</h5><p><em><strong>ä¸€</strong></em>ï¼Œå¦‚ä½•å®ç°æ‰¹é‡åˆ é™¤ï¼Ÿ<br><em><strong>äºŒ</strong></em>ï¼Œåœ¨å…¨é€‰ä¹‹åï¼Œæˆ‘ä»¬å–æ¶ˆäº†ä¸€ä¸ªå•†å“çš„çŠ¶æ€ï¼Œå…¨é€‰æ¡†çš„é€‰ä¸­çŠ¶æ€ä»ç„¶æ˜¯é€‰ä¸­çš„ï¼Œæ­¤æ—¶åº”è¯¥æ˜¯ä¸é€‰ä¸­çš„ï¼Œæˆ–è€…å½“æˆ‘ä»¬ä¸€ä¸ªä¸€ä¸ªæŠŠå•†å“çš„é€‰ä¸­çŠ¶æ€å…¨éƒ¨å‹¾é€‰ï¼Œå…¨é€‰æ¡†çš„çŠ¶æ€ä»ç„¶æ˜¯è¡¥é€‰ä¸­çš„ï¼Œæ­¤æ—¶åº”è¯¥æ˜¯é€‰ä¸­çŠ¶æ€ï¼ˆå¦‚ä¸‹ä¸¤å›¾æ‰€ç¤ºï¼‰ï¼Œè¿™ä¸ªç°è±¡å¦‚ä½•è§£å†³ï¼Ÿ<br><img src="/images/%E9%97%AE%E9%A2%982%E7%9A%84%E7%8E%B0%E8%B1%A11.webp" alt="é—®é¢˜äºŒçš„ç°è±¡ä¸€"><br><img src="/images/%E9%97%AE%E9%A2%982%E7%9A%84%E7%8E%B0%E8%B1%A12.png" alt="é—®é¢˜äºŒçš„ç°è±¡äºŒ"></p><h4 id="åæ–‡"><a href="#åæ–‡" class="headerlink" title="åæ–‡"></a>åæ–‡</h4><p>æœ¬æ–‡çš„æ‰€æœ‰ä»£ç å·²ç»æ‰˜ç®¡åˆ°GitHubï¼Œå¦‚æœæœ¬æ–‡ä»£ç æœ‰è¯¯ï¼Œè¯·ä»¥GitHubä¸Šçš„ä¸ºå‡†ï¼ŒGitHubåœ°å€ï¼š<a href="https://github.com/cyixlq/vue_shopping_cart">https://github.com/cyixlq/vue_shopping_cart</a></p>]]></content>
    
    
    <summary type="html">&lt;h4 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h4&gt;&lt;p&gt;æœ¬äººåˆšå¤§ä¸‰ï¼Œç°åœ¨åˆ°äº†ä¸‹å­¦æœŸï¼Œå­¦æ ¡ä¸è®©æˆ‘ä»¬å›å»ï¼Œèµ¶æˆ‘ä»¬å‡ºå»å®ä¹ ã€‚å—¯ã€‚ã€‚ã€‚æˆ‘æ˜¯å¤§ä¸“ç‹—ï¼Œä¸è¿‡ä¸€ç›´çƒ­çˆ±æŠ€æœ¯ã€‚åªæ€ªå½“åˆé«˜ä¸­ç ”ç©¶æ‰‹æœºåˆ·æœºåŒ…ç­‰æŠ€æœ¯è’åºŸäº†å­¦ä¸šï¼ˆæœ‰ç‚¹åæ‚”äº†ï¼Œæ–‡å‡­ä¸å¥½çœ‹äº†ï¼‰ï¼Œå…¶å®å¾ˆå–œæ¬¢ITçš„ï¼Œä½†æ˜¯å½“æ—¶æ²¡ç”µè„‘ï¼ŒJavaéƒ½æ²¡å…¥é—¨ã€‚ï¼ˆå¥½åƒé—²è¯æœ‰ç‚¹å¤šï¼‰&lt;/p&gt;
&lt;h4 id=&quot;å‡æ­£æ–‡&quot;&gt;&lt;a href=&quot;#å‡æ­£æ–‡&quot; class=&quot;headerlink&quot; title=&quot;å‡æ­£æ–‡&quot;&gt;&lt;/a&gt;å‡æ­£æ–‡&lt;/h4&gt;&lt;p&gt;æœ€è¿‘æˆ‘å®ä¹ çš„å…¬å¸åœ¨åšç½‘ä¸Šå•†åŸçš„ä¸€ä¸ªé¡¹ç›®ï¼Œæˆ‘è´Ÿè´£è´­ç‰©è½¦è¿™ä¸€å—ã€‚è¿™ä¸ªé¡¹ç›®æ˜¯ä¸€ä¸ªWebé¡¹ç›®ï¼Œæ²¡æœ‰è¿›è¡Œå‰åç«¯åˆ†ç¦»ï¼Œä½†æ˜¯åˆå¾—åšæ‰‹æœºç«¯ï¼Œæ„Ÿè§‰å¥½åƒå“ªé‡Œä¸å¯¹ã€‚ã€‚ã€‚ &lt;/p&gt;</summary>
    
    
    
    <category term="Vue" scheme="https://www.cyixlq.top/categories/Vue/"/>
    
    
    <category term="vue" scheme="https://www.cyixlq.top/tags/vue/"/>
    
    <category term="Vueå®æˆ˜" scheme="https://www.cyixlq.top/tags/Vue%E5%AE%9E%E6%88%98/"/>
    
    <category term="è´­ç‰©è½¦" scheme="https://www.cyixlq.top/tags/%E8%B4%AD%E7%89%A9%E8%BD%A6/"/>
    
  </entry>
  
  <entry>
    <title>ThinkPHP5éªŒè¯ç æç¤º404é—®é¢˜è§£å†³</title>
    <link href="https://www.cyixlq.top/2018/03/14/ThinkPHP5%E6%A1%86%E6%9E%B6%E9%AA%8C%E8%AF%81%E7%A0%81404/"/>
    <id>https://www.cyixlq.top/2018/03/14/ThinkPHP5%E6%A1%86%E6%9E%B6%E9%AA%8C%E8%AF%81%E7%A0%81404/</id>
    <published>2018-03-14T08:56:29.000Z</published>
    <updated>2021-04-12T03:05:17.723Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘åœ¨å­¦ä¹ phpï¼Œç”¨çš„æ˜¯ThinkPHPçš„æ¡†æ¶ï¼Œå­¦ä¹ çš„æ—¶å€™ç¢°åˆ°ä¸€ä¸ªéªŒè¯ç åˆ·æ–°çš„æ—¶å€™çš„404é—®é¢˜ï¼Œå›°æ‰°äº†æˆ‘å¾ˆä¹…å§‹ç»ˆæ²¡æœ‰è§£å†³ï¼Œæœ€ç»ˆåœ¨phpä¸­æ–‡ç½‘çš„ThinkPHP5çš„å­¦ä¹ è§†é¢‘è¯¾ç¨‹ä¸­çš„è®¨è®ºåŒºæ‰¾åˆ°è§£å†³åŠæ³•ã€‚<br>é¦–å…ˆçœ‹ä¸€æ³¢å›¾ç‰‡ï¼ˆå‡ºç°çš„ç°è±¡åŠæŠ¥é”™å›¾ç‰‡ï¼‰ï¼š</p><span id="more"></span><p><img src="/images/TP5%E9%AA%8C%E8%AF%81%E7%A0%81404%E9%97%AE%E9%A2%98%E5%B1%95%E7%A4%BA.webp" alt="æ­£å¸¸æƒ…å†µ"><br>ï¼ˆè¿™é‡Œå¯ä»¥çœ‹åˆ°éªŒè¯ç æ­£å¸¸æ˜¾ç¤ºï¼‰</p><p><img src="/images/TP5%E9%AA%8C%E8%AF%81%E7%A0%81404%E9%97%AE%E9%A2%98%E5%B1%95%E7%A4%BA2.webp" alt="å‡ºç°404é—®é¢˜äº†"><br>ï¼ˆç‚¹å‡»çœ‹ä¸æ¸…æ¢ä¸€å¼ å›¾ç‰‡å°±æ²¡äº†ï¼‰  </p><p><img src="/images/TP5%E9%AA%8C%E8%AF%81%E7%A0%81404%E9%97%AE%E9%A2%98%E6%8E%A7%E5%88%B6%E5%8F%B0log%E8%BE%93%E5%87%BA.webp" alt="æ§åˆ¶å°å‡ºç°æŠ¥é”™"><br>ï¼ˆæ§åˆ¶å°å‡ºç°æŠ¥é”™ï¼Œ404ï¼‰</p><p>è¿™æ—¶å€™æˆ‘çš„éªŒè¯ç åˆ·æ–°ä»£ç æ˜¯è¿™æ ·çš„ï¼š<br><img src="/images/TP5%E9%AA%8C%E8%AF%81%E7%A0%81404%E9%97%AE%E9%A2%98%E4%BB%A3%E7%A0%811.webp" alt="åŸä»£ç "><br>æŸ¥åˆ°çš„è§£å†³åŠæ³•ï¼Œå°†ä»£ç æ”¹æˆå¦‚ä¸‹å›¾è¿™æ ·ï¼š<br><img src="/images/TP5%E9%AA%8C%E8%AF%81%E7%A0%81404%E9%97%AE%E9%A2%98%E4%BB%A3%E7%A0%812.webp" alt="è§£å†³é—®é¢˜çš„ç¬¬ä¸€ç§åŠæ³•"><br><img src="/images/TP5%E9%AA%8C%E8%AF%81%E7%A0%81404%E9%97%AE%E9%A2%98%E4%BB%A3%E7%A0%813.webp" alt="è§£å†³é—®é¢˜çš„ç¬¬äºŒç§åŠæ³•"><br>è¿˜æœ‰äººè¯´å¯ä»¥ä¿®æ”¹php.iniæ–‡ä»¶ï¼Œä½†æ˜¯phpæˆ‘ä¹Ÿæ˜¯åˆšå­¦ä¹ ä¸ä¹…ï¼Œæ‰€ä»¥æ²¡å»æ·±ç©¶ï¼Œåæ­£é—®é¢˜æ˜¯è§£å†³äº†çš„ï¼Œå“ˆå“ˆã€‚<br>å½“ç„¶è§£å†³äº†æ˜¯ä¸å¤Ÿçš„ï¼Œè¿˜è¦ç”¨åšå®¢æŠŠå®ƒè®°ä¸‹æ¥æ‰è¡Œå•Šï¼</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;æœ€è¿‘åœ¨å­¦ä¹ phpï¼Œç”¨çš„æ˜¯ThinkPHPçš„æ¡†æ¶ï¼Œå­¦ä¹ çš„æ—¶å€™ç¢°åˆ°ä¸€ä¸ªéªŒè¯ç åˆ·æ–°çš„æ—¶å€™çš„404é—®é¢˜ï¼Œå›°æ‰°äº†æˆ‘å¾ˆä¹…å§‹ç»ˆæ²¡æœ‰è§£å†³ï¼Œæœ€ç»ˆåœ¨phpä¸­æ–‡ç½‘çš„ThinkPHP5çš„å­¦ä¹ è§†é¢‘è¯¾ç¨‹ä¸­çš„è®¨è®ºåŒºæ‰¾åˆ°è§£å†³åŠæ³•ã€‚&lt;br&gt;é¦–å…ˆçœ‹ä¸€æ³¢å›¾ç‰‡ï¼ˆå‡ºç°çš„ç°è±¡åŠæŠ¥é”™å›¾ç‰‡ï¼‰ï¼š&lt;/p&gt;</summary>
    
    
    
    <category term="PHP" scheme="https://www.cyixlq.top/categories/PHP/"/>
    
    
    <category term="é—®é¢˜è§£å†³è®°å½•" scheme="https://www.cyixlq.top/tags/%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3%E8%AE%B0%E5%BD%95/"/>
    
  </entry>
  
  <entry>
    <title>hexoå¸¸ç”¨å‘½ä»¤</title>
    <link href="https://www.cyixlq.top/2018/03/14/hexo%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <id>https://www.cyixlq.top/2018/03/14/hexo%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</id>
    <published>2018-03-14T08:56:29.000Z</published>
    <updated>2021-01-15T08:30:39.729Z</updated>
    
    <content type="html"><![CDATA[<ul><li>æœ€è¿‘é—²æ¥æ— äº‹ï¼ŒæŠŠæˆ‘githubä¸Šçš„ä¸ªäººåšå®¢é‡æ–°æ£é¼“äº†ä¸€ä¸‹ï¼Œä¹‹å‰ä¹Ÿç ”ç©¶è¿‡ï¼Œéƒ¨ç½²äº†ä¸€ä¸ªä¸ªäººåšå®¢åœ¨æˆ‘çš„githubä¸Šï¼Œä½†æ˜¯å‘ç°ä¸æ˜¯é‚£ä¹ˆå›äº‹ï¼Œä¸æ˜¯æˆ‘     ç†è§£çš„é‚£ä¸ªæ ·å­ï¼Œæœ€ååªå¥½é‡æ–°æŠ˜è…¾ä¸€ä¸‹ã€‚</li><li>é‡æ–°æŸ¥æ‰¾èµ„æ–™å‘ç°githubä¸Šçš„ä¸ªäººåšå®¢ä¸€èˆ¬æ˜¯ç”¨<strong>hexo+github pages</strong>åšå‡ºæ¥çš„ï¼Œäºæ˜¯ä¹ï¼Œæˆ‘å°±æƒ³ç”¨è¿™ç¯‡åšæ–‡è®°è½½ä¸€ä¸‹hexoçš„ä¸€äº›å¸¸ç”¨å‘½ä»¤ã€‚</li><li>æ–°å»ºä¸€ç¯‡åšæ–‡æˆ–ä¸€ä¸ªæ–‡ä»¶ <strong>hexo n</strong> â€œæ–‡ä»¶åâ€ æˆ–è€…å®Œæ•´å†™æ³• <strong>hexo new</strong> â€œæ–‡ä»¶åâ€</li><li>å‘å¸ƒ <strong>hexo p</strong> æˆ–è€…å®Œæ•´å†™æ³• <strong>hexo publish</strong></li><li>ç”Ÿæˆé™æ€é¡µé¢ï¼Œä¹Ÿå°±æ˜¯æ™®æ™®é€šé€šçš„ç½‘é¡µï¼Œç”¨äºæµè§ˆçš„ <strong>hexo g</strong> æˆ–è€…å®Œæ•´å†™æ³• <strong>hexo generate</strong></li><li>å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ï¼Œç”¨äºé¢„è§ˆç”Ÿæˆçš„é™æ€æ–‡ä»¶ <strong>hexo s</strong> æˆ–è€…å®Œæ•´å†™æ³• <strong>hexo server</strong></li><li>éƒ¨ç½²åˆ°æœåŠ¡å™¨ï¼ˆä¸€èˆ¬æˆ‘ç”¨æ¥æŠŠç”Ÿæˆçš„é™æ€æ–‡ä»¶éƒ¨ç½²åˆ°githubï¼‰<strong>hexo d</strong> æˆ–è€…å®Œæ•´å†™æ³• <strong>hexo deploy</strong><span id="more"></span><h3 id="ä¸‹é¢æ˜¯ä¸€äº›å¿«æ·å‘½ä»¤"><a href="#ä¸‹é¢æ˜¯ä¸€äº›å¿«æ·å‘½ä»¤" class="headerlink" title="ä¸‹é¢æ˜¯ä¸€äº›å¿«æ·å‘½ä»¤"></a>ä¸‹é¢æ˜¯ä¸€äº›å¿«æ·å‘½ä»¤</h3></li><li><strong>hexo generate â€“deploy å’Œ hexo deploy â€“generate ï¼š</strong> å…ˆç”Ÿæˆé™æ€æ–‡ä»¶åéƒ¨ç½²åˆ°æœåŠ¡å™¨ï¼ˆgithubï¼‰ï¼Œç®€å†™ ï¼š<strong>hexo d -g</strong></li><li>ç›´æ¥ç”¨ç®€å†™å‘½ä»¤ <strong>hexo s -g</strong> å¯ä»¥ç”Ÿæˆé™æ€æ–‡ä»¶å¹¶ä¸”å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨è¿›è¡Œé¢„è§ˆ</li></ul><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><ul><li>éƒ¨ç½²hexoåšæ–‡æ•™ç¨‹å¯ä»¥å‚è€ƒè¿™ç¯‡åŸºç¡€åšå®¢<a href="https://www.cnblogs.com/fengxiongZz/p/7707219.html" title="ç‚¹æˆ‘å‰å¾€æŸ¥çœ‹åšæ–‡ï¼ˆåŸºç¡€ï¼‰">https://www.cnblogs.com/fengxiongZz/p/7707219.html</a>ï¼Œå†™çš„æŒºè¯¦ç»†çš„ï¼Œæˆ‘å°±ä¸é‡å¤é€ è½®å­äº†ï¼Œç„¶åæ˜¯ä¸€ç¯‡è¿›é˜¶çš„ï¼Œä½œè€…æ˜¯åŒä¸€äºº<a href="http://www.cnblogs.com/fengxiongZz/p/7707568.html" title="ç‚¹æˆ‘å‰å¾€æŸ¥çœ‹åšæ–‡ï¼ˆè¿›é˜¶ï¼‰">http://www.cnblogs.com/fengxiongZz/p/7707568.html</a></li><li>æœ¬åœ°æœåŠ¡å™¨é»˜è®¤ç«¯å£æ˜¯4000ï¼Œæ‰€ä»¥è®¿é—®éƒ¨ç½²åˆ°æœ¬åœ°æœåŠ¡å™¨çš„åœ°å€æ˜¯<strong>localhost:4000</strong>ï¼Œå¦‚æœç«¯å£è¢«å ç”¨ï¼Œæˆ–è€…ä½ ä¸å–œæ¬¢è¿™ä¸ªç«¯å£å·ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤<strong>hexo server -p ç«¯å£å·</strong> ä¾‹å¦‚ï¼š<strong>hexo server -p 5000</strong></li></ul>]]></content>
    
    
    <summary type="html">&lt;ul&gt;
&lt;li&gt;æœ€è¿‘é—²æ¥æ— äº‹ï¼ŒæŠŠæˆ‘githubä¸Šçš„ä¸ªäººåšå®¢é‡æ–°æ£é¼“äº†ä¸€ä¸‹ï¼Œä¹‹å‰ä¹Ÿç ”ç©¶è¿‡ï¼Œéƒ¨ç½²äº†ä¸€ä¸ªä¸ªäººåšå®¢åœ¨æˆ‘çš„githubä¸Šï¼Œä½†æ˜¯å‘ç°ä¸æ˜¯é‚£ä¹ˆå›äº‹ï¼Œä¸æ˜¯æˆ‘     ç†è§£çš„é‚£ä¸ªæ ·å­ï¼Œæœ€ååªå¥½é‡æ–°æŠ˜è…¾ä¸€ä¸‹ã€‚&lt;/li&gt;
&lt;li&gt;é‡æ–°æŸ¥æ‰¾èµ„æ–™å‘ç°githubä¸Šçš„ä¸ªäººåšå®¢ä¸€èˆ¬æ˜¯ç”¨&lt;strong&gt;hexo+github pages&lt;/strong&gt;åšå‡ºæ¥çš„ï¼Œäºæ˜¯ä¹ï¼Œæˆ‘å°±æƒ³ç”¨è¿™ç¯‡åšæ–‡è®°è½½ä¸€ä¸‹hexoçš„ä¸€äº›å¸¸ç”¨å‘½ä»¤ã€‚&lt;/li&gt;
&lt;li&gt;æ–°å»ºä¸€ç¯‡åšæ–‡æˆ–ä¸€ä¸ªæ–‡ä»¶ &lt;strong&gt;hexo n&lt;/strong&gt; â€œæ–‡ä»¶åâ€ æˆ–è€…å®Œæ•´å†™æ³• &lt;strong&gt;hexo new&lt;/strong&gt; â€œæ–‡ä»¶åâ€&lt;/li&gt;
&lt;li&gt;å‘å¸ƒ &lt;strong&gt;hexo p&lt;/strong&gt; æˆ–è€…å®Œæ•´å†™æ³• &lt;strong&gt;hexo publish&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ç”Ÿæˆé™æ€é¡µé¢ï¼Œä¹Ÿå°±æ˜¯æ™®æ™®é€šé€šçš„ç½‘é¡µï¼Œç”¨äºæµè§ˆçš„ &lt;strong&gt;hexo g&lt;/strong&gt; æˆ–è€…å®Œæ•´å†™æ³• &lt;strong&gt;hexo generate&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ï¼Œç”¨äºé¢„è§ˆç”Ÿæˆçš„é™æ€æ–‡ä»¶ &lt;strong&gt;hexo s&lt;/strong&gt; æˆ–è€…å®Œæ•´å†™æ³• &lt;strong&gt;hexo server&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;éƒ¨ç½²åˆ°æœåŠ¡å™¨ï¼ˆä¸€èˆ¬æˆ‘ç”¨æ¥æŠŠç”Ÿæˆçš„é™æ€æ–‡ä»¶éƒ¨ç½²åˆ°githubï¼‰&lt;strong&gt;hexo d&lt;/strong&gt; æˆ–è€…å®Œæ•´å†™æ³• &lt;strong&gt;hexo deploy&lt;/strong&gt;</summary>
    
    
    
    <category term="éšç¬”" scheme="https://www.cyixlq.top/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
    <category term="éšç¬”" scheme="https://www.cyixlq.top/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>phpå‡ºç°Noinput file specifiedé—®é¢˜è§£å†³</title>
    <link href="https://www.cyixlq.top/2018/03/14/php%E5%87%BA%E7%8E%B0Noinput%20file%20specified%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/"/>
    <id>https://www.cyixlq.top/2018/03/14/php%E5%87%BA%E7%8E%B0Noinput%20file%20specified%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/</id>
    <published>2018-03-14T08:56:29.000Z</published>
    <updated>2021-01-15T08:30:39.729Z</updated>
    
    <content type="html"><![CDATA[<p>å­¦PHPå­¦ç€å­¦ç€åˆå‡ºé—®é¢˜äº†ï¼Œè¿™ä¸ï¼Œåˆè¿‡æ¥è®°å½•è®°å½•ã€‚<br>è¿™æ¬¡å‡ºç°çš„é—®é¢˜å«åšphpå‡ºç°Noinput file specifiedï¼Œå¤§æ¦‚é—®é¢˜æˆ‘è§‰å¾—æ˜¯å› ä¸ºæ–‡ä»¶æ‰¾ä¸åˆ°ã€‚<br>å‡ºç°çš„èµ·å› æ˜¯è¿™æ ·çš„ï¼Œæˆ‘åšäº†ä¸€ä¸ªåå°é¦–é¡µåˆ¤æ–­ï¼Œçœ‹çœ‹ä½ æ˜¯å¦ç™»å½•ï¼Œå¦‚æœæ²¡æœ‰ç™»å½•çš„è¯å°±è¦è·³è½¬åˆ°ç™»å½•é¡µé¢ï¼Œäºæ˜¯å®ƒçš„è·³è½¬åœ°å€æ˜¯è¿™ä¸ªï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;www.cy.com&#x2F;index&#x2F;user&#x2F;login.html</span><br></pre></td></tr></table></figure><span id="more"></span><p>äºæ˜¯ä¹ï¼Œé¡µé¢å°±ç›´æ¥å‡ºç°Noinput file specifiedè¿™ä¸€ä¸²å­—ç¬¦ä¸²ï¼Œæˆ‘çœ‹äº†ä¸€çœ¼åœ°å€ï¼ŒåŸå› å¾ˆç®€å•ï¼Œæˆ‘æ²¡æœ‰index.phpåœ¨é‡Œé¢ï¼Œå¦‚æœè¾“å…¥ä¸‹é¢çš„åœ°å€è®¿é—®å°±æ˜¯æ²¡é—®é¢˜çš„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;www.cy.com&#x2F;index.php&#x2F;index&#x2F;user&#x2F;login.html</span><br></pre></td></tr></table></figure><p>å¯æ˜¯æ€»ä¸èƒ½åœ¨ç”¨æˆ·æœªç™»å½•çš„æ—¶å€™è·³è½¬åˆ°ç™»å½•é¡µé¢åˆè¦ç”¨æˆ·è‡ªå·±è¾“å…¥index.phpå§ï¼Œå†µä¸”ç”¨æˆ·è¿˜ä¸ä¸€å®šçŸ¥é“è¦è¿™ä¹ˆæ”¹ï¼Œäºæ˜¯ä¸€ç•ªæœç´¢ï¼Œæ‰¾åˆ°è§£å†³åŠæ³•ã€‚æˆ‘ç”¨çš„æœåŠ¡å™¨æ˜¯Apacheçš„ï¼Œè§£å†³åŠæ³•å°±æ˜¯æ‰“å¼€ThinkPHPæ¡†æ¶ä¸­çš„publicç›®å½•ï¼ˆæˆ‘ç”¨çš„æ˜¯ThinkPHPæ¡†æ¶ï¼‰ï¼Œé‡Œé¢æœ‰ä¸ªæ–‡ä»¶æ˜¯ <strong>.htaccess</strong> ï¼Œæˆ‘ä»¬æŠŠå®ƒæ‰“å¼€ï¼Œå®ƒç°åœ¨çš„å†…å®¹æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;IfModule mod_rewrite.c&gt;</span><br><span class="line">  Options +FollowSymlinks -Multiviews</span><br><span class="line">  RewriteEngine On</span><br><span class="line">  RewriteCond %&#123;REQUEST_FILENAME&#125; !-d</span><br><span class="line">  RewriteCond %&#123;REQUEST_FILENAME&#125; !-f</span><br><span class="line">  RewriteRule ^(.*)$ index.php&#x2F;$1 [QSA,PT,L]</span><br><span class="line">&lt;&#x2F;IfModule&gt;</span><br></pre></td></tr></table></figure><p>æ‰“å¼€ä¹‹åæˆ‘ä»¬è¦åšçš„å¾ˆç®€å•ï¼Œçœ‹åˆ°é‚£ä¸ªindex.phpè¿™ä¸²å­—ç¬¦æ²¡ï¼Ÿæˆ‘ä»¬åœ¨index.phpåé¢åŠ ä¸Šä¸€ä¸ª <strong>?</strong> å°±OKäº†ï¼Œæ”¹å®Œä¹‹åçš„ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;IfModule mod_rewrite.c&gt;</span><br><span class="line">  Options +FollowSymlinks -Multiviews</span><br><span class="line">  RewriteEngine On</span><br><span class="line">  RewriteCond %&#123;REQUEST_FILENAME&#125; !-d</span><br><span class="line">  RewriteCond %&#123;REQUEST_FILENAME&#125; !-f</span><br><span class="line">  RewriteRule ^(.*)$ index.php?&#x2F;$1 [QSA,PT,L]</span><br><span class="line">&lt;&#x2F;IfModule&gt;</span><br></pre></td></tr></table></figure><p>æ¥ç€æˆ‘é‡æ–°è®¿é—®ä¸€ä¸‹æˆ‘çš„é¦–é¡µï¼Œæ­£å¸¸è·³è½¬åˆ°ç™»å½•ç•Œé¢äº†ï¼Œæ¿€åŠ¨ï¼ï¼ï¼åˆå¢åŠ äº†ç‚¹ç”¨æˆ·ä½“éªŒï¼ï¼ï¼</p><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>ä¸Šé¢çš„åŠæ³•åªå¯¹ApacheæœåŠ¡å™¨æœ‰æ•ˆï¼Œå…¶ä»–ä¿®æ”¹åŠæ³•å‚ç…§ä¸‹æ–‡ï¼š  </p><h3 id="ä¸€-IIS-Noinput-file-specified"><a href="#ä¸€-IIS-Noinput-file-specified" class="headerlink" title="(ä¸€)IIS Noinput file specified"></a>(ä¸€)IIS Noinput file specified</h3><p><strong>æ–¹æ³•ä¸€ï¼š</strong> æ”¹PHP.iniä¸­çš„doc_rootè¡Œï¼Œæ‰“å¼€iniæ–‡ä»¶æ³¨é‡Šæ‰æ­¤è¡Œï¼Œç„¶åé‡å¯IIS<br><strong>æ–¹æ³•äºŒï¼š</strong> è¯·ä¿®æ”¹php.iniï¼Œæ‰¾åˆ° <strong>; cgi.force_redirect = 1</strong> å»æ‰å‰é¢åˆ†å·ï¼ŒæŠŠåé¢çš„1æ”¹ä¸º0å³<br><strong>cgi.force_redirect = 0</strong></p><h3 id="äºŒ-nginxé…ç½®é­é‡No-inputfile-specified"><a href="#äºŒ-nginxé…ç½®é­é‡No-inputfile-specified" class="headerlink" title="(äºŒ)nginxé…ç½®é­é‡No inputfile specified"></a>(äºŒ)nginxé…ç½®é­é‡No inputfile specified</h3><p><strong>æ–¹æ³•ä¸€ï¼š</strong> php.ini(/etc/php5/cgi/php.ini)çš„é…ç½®ä¸­è¿™ä¸¤é¡¹<br><strong>cgi.fix_pathinfo=1</strong> (è¿™ä¸ªæ˜¯è‡ªå·±æ·»åŠ çš„)<br><strong>doc_root=</strong><br><strong>æ–¹æ³•äºŒï¼š</strong> nginxé…ç½®æ–‡ä»¶/etc/nginx/sites-available/defaultä¸­æ³¨æ„ä»¥ä¸‹éƒ¨åˆ†  </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">location ~ .php$ &#123;</span><br><span class="line">fastcgi_pass 127.0.0.1:9000;</span><br><span class="line">fastcgi_index index.php;</span><br><span class="line">fastcgi_param SCRIPT_FILENAME &#x2F;var&#x2F;www&#x2F;nginx-default$fastcgi_script_name;</span><br><span class="line">include fastcgi_params;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„å„é¡¹å‚æ•°è¯·æŒ‰ç…§ä½ çš„é¡¹ç›®å®é™…æƒ…å†µé…ç½®</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;å­¦PHPå­¦ç€å­¦ç€åˆå‡ºé—®é¢˜äº†ï¼Œè¿™ä¸ï¼Œåˆè¿‡æ¥è®°å½•è®°å½•ã€‚&lt;br&gt;è¿™æ¬¡å‡ºç°çš„é—®é¢˜å«åšphpå‡ºç°Noinput file specifiedï¼Œå¤§æ¦‚é—®é¢˜æˆ‘è§‰å¾—æ˜¯å› ä¸ºæ–‡ä»¶æ‰¾ä¸åˆ°ã€‚&lt;br&gt;å‡ºç°çš„èµ·å› æ˜¯è¿™æ ·çš„ï¼Œæˆ‘åšäº†ä¸€ä¸ªåå°é¦–é¡µåˆ¤æ–­ï¼Œçœ‹çœ‹ä½ æ˜¯å¦ç™»å½•ï¼Œå¦‚æœæ²¡æœ‰ç™»å½•çš„è¯å°±è¦è·³è½¬åˆ°ç™»å½•é¡µé¢ï¼Œäºæ˜¯å®ƒçš„è·³è½¬åœ°å€æ˜¯è¿™ä¸ªï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;http:&amp;#x2F;&amp;#x2F;www.cy.com&amp;#x2F;index&amp;#x2F;user&amp;#x2F;login.html&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="PHP" scheme="https://www.cyixlq.top/categories/PHP/"/>
    
    
    <category term="é—®é¢˜è§£å†³è®°å½•" scheme="https://www.cyixlq.top/tags/%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3%E8%AE%B0%E5%BD%95/"/>
    
  </entry>
  
  <entry>
    <title>å®‰å“è‡ªå®šä¹‰ä¼˜æƒ åˆ¸View</title>
    <link href="https://www.cyixlq.top/2018/03/14/%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BC%98%E6%83%A0%E5%88%B8View/"/>
    <id>https://www.cyixlq.top/2018/03/14/%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BC%98%E6%83%A0%E5%88%B8View/</id>
    <published>2018-03-14T08:56:29.000Z</published>
    <updated>2021-04-12T02:54:17.634Z</updated>
    
    <content type="html"><![CDATA[<h3 id="æ¬¢è¿æ¥æˆ‘çš„ä¸ªäººåšå®¢æŸ¥çœ‹æ›´å¤šæ–‡ç« -Cyçš„ä¸ªäººåšå®¢"><a href="#æ¬¢è¿æ¥æˆ‘çš„ä¸ªäººåšå®¢æŸ¥çœ‹æ›´å¤šæ–‡ç« -Cyçš„ä¸ªäººåšå®¢" class="headerlink" title="æ¬¢è¿æ¥æˆ‘çš„ä¸ªäººåšå®¢æŸ¥çœ‹æ›´å¤šæ–‡ç« : Cyçš„ä¸ªäººåšå®¢"></a>æ¬¢è¿æ¥æˆ‘çš„ä¸ªäººåšå®¢æŸ¥çœ‹æ›´å¤šæ–‡ç« : <a href="https://cyixlq.top/">Cyçš„ä¸ªäººåšå®¢</a></h3><p>ä¸ä¹…ä¹‹å‰å†™è¿‡ä¸€ç¯‡åŸºç¡€çš„è‡ªå®šä¹‰Viewçš„åšæ–‡ï¼Œä»Šå¤©å°±æ¥å®è·µä¸€ä¸‹è‡ªå®šä¹‰Viewï¼Œå‚è€ƒäº†ç½‘ä¸Šä¸€ä¸ªè‡ªå®šä¹‰Viewæ§ä»¶çš„åšæ–‡å®Œæˆçš„ï¼ˆæ¯•ç«Ÿè¿˜æ˜¯å°ç™½ï¼‰ã€‚ä»¥ä¸‹æ˜¯æˆ‘å®Œæˆçš„ä¸€äº›æ­¥éª¤ï¼š  </p><ol><li><p>é¦–å…ˆè‚¯å®šéœ€è¦ç¼–å†™ä¸€ä¸ªç±»ï¼Œè®©å®ƒç»§æ‰¿è‡ªViewï¼ˆæ„Ÿè§‰æˆ‘è¿™ä¸ªç®€å•çš„è‡ªå®šä¹‰viewç»§æ‰¿RelativeLayoutå°±å¤Ÿäº†ï¼‰ï¼Œç„¶åé‡å†™æ„é€ æ–¹æ³•å’¯ï¼Œè¿™ä¸ªç®€å•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public class QuanView extends RelativeLayout&#123;</span><br><span class="line"></span><br><span class="line">    public QuanView(Context context) &#123;</span><br><span class="line">        super(context);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public QuanView(Context context, AttributeSet attrs) &#123;</span><br><span class="line">        super(context, attrs);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><span id="more"></span></li><li><p>ç„¶åå°±æ˜¯åˆå§‹åŒ–ç”»ç¬”ï¼Œç„¶åè®¾å®šä¸€äº›å±æ€§å’¯ï¼Œæ‰€ä»¥ç°åœ¨çš„ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">public class QuanView extends RelativeLayout&#123;</span><br><span class="line"></span><br><span class="line">    private Paint mPaint;</span><br><span class="line"></span><br><span class="line">    private float mGap&#x3D;20;    &#x2F;&#x2F;åœ†å’Œåœ†ä¹‹é—´çš„é—´è·</span><br><span class="line">    private float mRadius&#x3D;15; &#x2F;&#x2F;åœ†çš„åŠå¾„</span><br><span class="line">    private float mRemain;    &#x2F;&#x2F;ç”»å®Œåœ†å’Œåœ†é—´è·åå¤šå‡ºæ¥çš„è·ç¦»</span><br><span class="line">    private int mCircleNum;   &#x2F;&#x2F;åœ†åœˆçš„æ•°é‡</span><br><span class="line"></span><br><span class="line">    public QuanView(Context context) &#123;</span><br><span class="line">        super(context);</span><br><span class="line">        initPaint();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public QuanView(Context context, AttributeSet attrs) &#123;</span><br><span class="line">        super(context, attrs);</span><br><span class="line">        initPaint();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private void initPaint()&#123;</span><br><span class="line">        mPaint&#x3D;new Paint(Paint.ANTI_ALIAS_FLAG);</span><br><span class="line">        mPaint.setColor(Color.WHITE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>åœ¨ä¸Šä¸€ç¯‡è‡ªå®šä¹‰åšæ–‡ä¸­æˆ‘ä»¬çŸ¥é“onSizeChangedæ–¹æ³•ä¼šåœ¨onDrawæ–¹æ³•å‰æ‰§è¡Œï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªæ–¹æ³•ä¸­è®¡ç®—å¥½éœ€è¦ç»˜åˆ¶çš„åœ†åœˆçš„ä¸ªæ•°ï¼Œæ‰€ä»¥onSizeChangedæ–¹æ³•ä¸­ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@Override</span><br><span class="line">protected void onSizeChanged(int w, int h, int oldw, int oldh) &#123;</span><br><span class="line">    super.onSizeChanged(w, h, oldw, oldh);</span><br><span class="line">    if (mRemain &#x3D;&#x3D; 0) &#123;</span><br><span class="line">        &#x2F;&#x2F;è®¡ç®—ä¸æ•´é™¤çš„å‰©ä½™éƒ¨åˆ†</span><br><span class="line">        mRemain &#x3D; (int) (w - mGap) % (2 * mRadius + mGap);</span><br><span class="line">    &#125;</span><br><span class="line">    mCircleNum &#x3D; (int) ((w - mGap) &#x2F; (2 * mRadius + mGap));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ¥ä¸‹æ¥å°±æ˜¯æœ€é‡è¦çš„éƒ¨åˆ†äº†ï¼Œé‡å†™onDrawæ–¹æ³•ï¼Œç»˜åˆ¶è‡ªå®šä¹‰Viewï¼ŒonDrawä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@Override</span><br><span class="line">protected void onDraw(Canvas canvas) &#123;</span><br><span class="line">    super.onDraw(canvas);</span><br><span class="line">    for (int i &#x3D; 0; i &lt; mCircleNum; i++) &#123;</span><br><span class="line">        &#x2F;&#x2F;è®¡ç®—å‡ºè¦ç”»çš„åœ†åœˆçš„xè½´ä½ç½®</span><br><span class="line">        float x &#x3D; mGap + mRadius + mRemain &#x2F; 2 + ((mGap + mRadius * 2) * i);</span><br><span class="line">        &#x2F;&#x2F;ä»xä½ç½®å¼€å§‹ç”»ä¸Šé¢çš„åœ†åœˆ</span><br><span class="line">        canvas.drawCircle(x, 0, mRadius, mPaint);</span><br><span class="line">        &#x2F;&#x2F;ä»xä½ç½®å¼€å§‹ç”»ä¸‹é¢çš„åœ†åœˆ</span><br><span class="line">        canvas.drawCircle(x, getHeight(), mRadius, mPaint);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>è‡³æ­¤ï¼Œè‡ªå®šä¹‰çš„ä¼˜æƒ åˆ¸Viewå·²ç»å¯ä»¥ä½¿ç”¨äº†ï¼Œè®©æˆ‘ä»¬æŠŠå®ƒåŠ å…¥åˆ°å¸ƒå±€æ–‡ä»¶ä¸­ï¼Œä»£ç å¦‚ä¸‹ ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;top.cyixlq.view.widght.QuanView</span><br><span class="line">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class="line">    android:layout_height&#x3D;&quot;150dp&quot;</span><br><span class="line">    android:background&#x3D;&quot;@color&#x2F;colorPrimary&quot;&gt;</span><br><span class="line">&lt;&#x2F;top.cyixlq.view.widght.QuanView&gt;</span><br></pre></td></tr></table></figure></li><li><p>è¿è¡Œåçš„ç»“æœå¦‚å›¾æ‰€ç¤ºï¼š<br><img src="/images/%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BC%98%E6%83%A0%E5%88%B8View%E6%95%88%E6%9E%9C%E5%9B%BE.webp" alt="è¿è¡Œæ•ˆæœ"></p></li><li><p>æ·»åŠ è‡ªå®šä¹‰å±æ€§ï¼Œæˆ‘ä»¬è™½ç„¶èƒ½æ­£å¸¸ä½¿ç”¨äº†ï¼Œä½†æ˜¯å„ä¸ªç”¨æˆ·é—´éœ€æ±‚ä¸åŒæˆ‘ä»¬è¿˜è¦èƒ½å¤Ÿè‡ªå®šä¹‰å•Šï¼Œè¿™æ ·æ‰èƒ½ç”¨çš„èˆ’å¿ƒå•Šï¼é¦–å…ˆå°±è¦åœ¨valuesç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶äº†ï¼Œattrs.xmlï¼Œç„¶ååœ¨æ–‡ä»¶ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot; ?&gt;</span><br><span class="line">&lt;resources&gt;</span><br><span class="line">    &lt;declare-styleable name&#x3D;&quot;QuanView&quot;&gt;</span><br><span class="line">        &lt;!--åœ†åŠå¾„å¤§å°--&gt;</span><br><span class="line">        &lt;attr name&#x3D;&quot;radius&quot; format&#x3D;&quot;dimension&quot; &#x2F;&gt;</span><br><span class="line">        &lt;!--åœ†ä¸åœ†ä¹‹é—´çš„é—´éš”--&gt;</span><br><span class="line">        &lt;attr name&#x3D;&quot;gap&quot; format&#x3D;&quot;dimension&quot; &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;declare-styleable&gt;</span><br><span class="line">&lt;&#x2F;resources&gt;</span><br></pre></td></tr></table></figure></li><li><p> ä¿®æ”¹Viewçš„æ„é€ å‡½æ•°ï¼Œè¯»å–å¸ƒå±€æ–‡ä»¶ä¸­ä¼ æ¥çš„å‚æ•°ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public QuanView(Context context, AttributeSet attrs) &#123;</span><br><span class="line">        super(context, attrs);</span><br><span class="line">        initPaint();</span><br><span class="line">        TypedArray typedArray&#x3D;context.obtainStyledAttributes(attrs, R.styleable.QuanView);</span><br><span class="line">        mGap &#x3D; typedArray.getDimensionPixelOffset(R.styleable.QuanView_gap,20);&#x2F;&#x2F;æœ€åé‚£ä¸ªå‚æ•°ä»£è¡¨é»˜è®¤å€¼ï¼Œå¦‚æœå¸ƒå±€æ–‡ä»¶ä¸­æ²¡æœ‰ä¼ å…¥è¯¥å‚æ•°åˆ™ä½¿ç”¨é»˜è®¤å€¼</span><br><span class="line">        mRadius &#x3D; typedArray.getDimensionPixelOffset(R.styleable.QuanView_radius,15);</span><br><span class="line">        typedArray.recycle();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>åœ¨å¸ƒå±€æ–‡ä»¶ä¸­åŠ ä¸Šæˆ‘ä»¬çš„è‡ªå®šä¹‰çš„å‚æ•°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;top.cyixlq.view.widght.QuanView</span><br><span class="line">        android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class="line">        android:layout_height&#x3D;&quot;150dp&quot;</span><br><span class="line">        app:gap&#x3D;&quot;2dp&quot;</span><br><span class="line">        app:radius&#x3D;&quot;2dp&quot;</span><br><span class="line">        android:background&#x3D;&quot;@color&#x2F;colorPrimary&quot;&gt;</span><br><span class="line">&lt;&#x2F;top.cyixlq.view.widght.QuanView&gt;</span><br></pre></td></tr></table></figure><p>ï¼ˆåˆ«å¿˜äº†ï¼Œä½¿ç”¨äº†è‡ªå®šä¹‰çš„å‚æ•°çš„è¯è¦å¼•å…¥ä¸€ä¸ªå‘½åç©ºé—´å“¦ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœè§‰å¾—è¿™æ ·ä¸å¤Ÿå¸…çš„è¯ï¼Œappè¿™ä¸ªå­—æ®µæ˜¯å¯ä»¥æ¢çš„ï¼Œä¾‹å¦‚:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xmlns:cy&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br></pre></td></tr></table></figure><p>è¿™æ—¶å€™åœ¨å¸ƒå±€æ–‡ä»¶ä¸­çš„è‡ªå®šä¹‰ç»„ä»¶çš„é‚£ä¸€æ®µä»£ç æŠ¥é”™äº†<br><img src="/images/%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BC%98%E6%83%A0%E5%88%B8View%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E6%8A%A5%E9%94%99.webp" alt="å‘½åç©ºé—´æŠ¥é”™äº†"><br>è¿™æ—¶å€™ä»…ä»…éœ€è¦å°†å¸ƒå±€ä¸­è‡ªå®šä¹‰çš„ä»£ç æ¢æˆå¦‚ä¸‹æ‰€ç¤ºå°±å¯ä»¥äº†ã€‚ï¼ˆå°†appæ¢æˆå¼•å…¥æ—¶å€™çš„åç§°cyï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;top.cyixlq.view.widght.QuanView</span><br><span class="line">        android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class="line">        android:layout_height&#x3D;&quot;150dp&quot;</span><br><span class="line">        cy:gap&#x3D;&quot;2dp&quot;</span><br><span class="line">        cy:radius&#x3D;&quot;2dp&quot;</span><br><span class="line">        android:background&#x3D;&quot;@color&#x2F;colorPrimary&quot;&gt;</span><br><span class="line">&lt;&#x2F;top.cyixlq.view.widght.QuanView&gt;</span><br></pre></td></tr></table></figure><p>è¿™æ ·æ˜¯ä¸æ˜¯å°±å…·æœ‰æ ‡å¿—æ€§äº†å‘¢ï¼Ÿæ˜¯ä¸æ˜¯æ›´å¸…ä¸€ç‚¹äº†å‘¢ï¼Ÿ<br>æœ€åæˆ‘ä»¬å†æ¥çœ‹çœ‹ä¿®æ”¹åçš„æ•ˆæœå§ï¼<br><img src="/images/%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BC%98%E6%83%A0%E5%88%B8View%E6%95%88%E6%9E%9C%E5%9B%BE2.webp" alt="æˆ‘ä»¬ä¼šå‘ç°é”¯é½¿å˜å°äº†å¥½å¤š"></p></li></ol><h4 id="è‡³æ­¤ï¼Œæˆ‘ä»¬ä¸€ä¸ªç®€å•çš„è‡ªå®šä¹‰Viewå°±åˆ°æ­¤ä¸ºæ­¢å•¦-æ‹œäº†ä¸ªæ‹œã€‚ã€‚ã€‚"><a href="#è‡³æ­¤ï¼Œæˆ‘ä»¬ä¸€ä¸ªç®€å•çš„è‡ªå®šä¹‰Viewå°±åˆ°æ­¤ä¸ºæ­¢å•¦-æ‹œäº†ä¸ªæ‹œã€‚ã€‚ã€‚" class="headerlink" title="è‡³æ­¤ï¼Œæˆ‘ä»¬ä¸€ä¸ªç®€å•çš„è‡ªå®šä¹‰Viewå°±åˆ°æ­¤ä¸ºæ­¢å•¦!æ‹œäº†ä¸ªæ‹œã€‚ã€‚ã€‚"></a>è‡³æ­¤ï¼Œæˆ‘ä»¬ä¸€ä¸ªç®€å•çš„è‡ªå®šä¹‰Viewå°±åˆ°æ­¤ä¸ºæ­¢å•¦!æ‹œäº†ä¸ªæ‹œã€‚ã€‚ã€‚</h4>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;æ¬¢è¿æ¥æˆ‘çš„ä¸ªäººåšå®¢æŸ¥çœ‹æ›´å¤šæ–‡ç« -Cyçš„ä¸ªäººåšå®¢&quot;&gt;&lt;a href=&quot;#æ¬¢è¿æ¥æˆ‘çš„ä¸ªäººåšå®¢æŸ¥çœ‹æ›´å¤šæ–‡ç« -Cyçš„ä¸ªäººåšå®¢&quot; class=&quot;headerlink&quot; title=&quot;æ¬¢è¿æ¥æˆ‘çš„ä¸ªäººåšå®¢æŸ¥çœ‹æ›´å¤šæ–‡ç« : Cyçš„ä¸ªäººåšå®¢&quot;&gt;&lt;/a&gt;æ¬¢è¿æ¥æˆ‘çš„ä¸ªäººåšå®¢æŸ¥çœ‹æ›´å¤šæ–‡ç« : &lt;a href=&quot;https://cyixlq.top/&quot;&gt;Cyçš„ä¸ªäººåšå®¢&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;ä¸ä¹…ä¹‹å‰å†™è¿‡ä¸€ç¯‡åŸºç¡€çš„è‡ªå®šä¹‰Viewçš„åšæ–‡ï¼Œä»Šå¤©å°±æ¥å®è·µä¸€ä¸‹è‡ªå®šä¹‰Viewï¼Œå‚è€ƒäº†ç½‘ä¸Šä¸€ä¸ªè‡ªå®šä¹‰Viewæ§ä»¶çš„åšæ–‡å®Œæˆçš„ï¼ˆæ¯•ç«Ÿè¿˜æ˜¯å°ç™½ï¼‰ã€‚ä»¥ä¸‹æ˜¯æˆ‘å®Œæˆçš„ä¸€äº›æ­¥éª¤ï¼š  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;é¦–å…ˆè‚¯å®šéœ€è¦ç¼–å†™ä¸€ä¸ªç±»ï¼Œè®©å®ƒç»§æ‰¿è‡ªViewï¼ˆæ„Ÿè§‰æˆ‘è¿™ä¸ªç®€å•çš„è‡ªå®šä¹‰viewç»§æ‰¿RelativeLayoutå°±å¤Ÿäº†ï¼‰ï¼Œç„¶åé‡å†™æ„é€ æ–¹æ³•å’¯ï¼Œè¿™ä¸ªç®€å•ï¼Œä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;public class QuanView extends RelativeLayout&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    public QuanView(Context context) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        super(context);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    public QuanView(Context context, AttributeSet attrs) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        super(context, attrs);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="Android" scheme="https://www.cyixlq.top/categories/Android/"/>
    
    
    <category term="è‡ªå®šä¹‰Viewå®æˆ˜" scheme="https://www.cyixlq.top/tags/%E8%87%AA%E5%AE%9A%E4%B9%89View%E5%AE%9E%E6%88%98/"/>
    
  </entry>
  
</feed>
